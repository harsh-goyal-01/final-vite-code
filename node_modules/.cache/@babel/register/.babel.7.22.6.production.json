{"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/tools/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/tools/run.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire('react-scripts/config/env');\nfunction format(time) {\n  return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\nfunction run(fn, options) {\n  const task = typeof fn.default === 'undefined' ? fn : fn.default;\n  const start = new Date();\n  console.log(`[${format(start)}] Starting '${task.name}${options ? `(${options})` : ''}'...`);\n  return task(options).then(resolution => {\n    const end = new Date();\n    const time = end.getTime() - start.getTime();\n    console.log(`[${format(end)}] Finished '${task.name}${options ? `(${options})` : ''}' after ${time} ms`);\n    return resolution;\n  });\n}\nif (require.main === module && process.argv.length > 2) {\n  delete require.cache[__filename]; // eslint-disable-line no-underscore-dangle\n  const module = require(`../${process.argv[2]}.js`).default;\n  run(module).catch(err => {\n    if (err) {\n      console.error(err.stack);\n    }\n    process.exit(1);\n  });\n}\nvar _default = run;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiZm9ybWF0IiwidGltZSIsInRvVGltZVN0cmluZyIsInJlcGxhY2UiLCJydW4iLCJmbiIsIm9wdGlvbnMiLCJ0YXNrIiwiZGVmYXVsdCIsInN0YXJ0IiwiRGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwidGhlbiIsInJlc29sdXRpb24iLCJlbmQiLCJnZXRUaW1lIiwibWFpbiIsIm1vZHVsZSIsInByb2Nlc3MiLCJhcmd2IiwibGVuZ3RoIiwiY2FjaGUiLCJfX2ZpbGVuYW1lIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsInN0YWNrIiwiZXhpdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2hhcnNoLmdveWFsL0Rlc2t0b3AvY29udmVydC9zcHItbWVzc2VuZ2VyLWNsaWVudC12aXRlL3BhY2thZ2VzL3dlYi9pbnRlcm5hbHMvYnVpbGQvdG9vbHMvIiwic291cmNlcyI6WyJydW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgncmVhY3Qtc2NyaXB0cy9jb25maWcvZW52Jyk7XG5cbmZ1bmN0aW9uIGZvcm1hdCh0aW1lKSB7XG4gIHJldHVybiB0aW1lLnRvVGltZVN0cmluZygpLnJlcGxhY2UoLy4qKFxcZHsyfTpcXGR7Mn06XFxkezJ9KS4qLywgJyQxJyk7XG59XG5cbmZ1bmN0aW9uIHJ1bihmbiwgb3B0aW9ucykge1xuICBjb25zdCB0YXNrID0gdHlwZW9mIGZuLmRlZmF1bHQgPT09ICd1bmRlZmluZWQnID8gZm4gOiBmbi5kZWZhdWx0O1xuICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7XG4gIGNvbnNvbGUubG9nKGBbJHtmb3JtYXQoc3RhcnQpfV0gU3RhcnRpbmcgJyR7dGFzay5uYW1lfSR7b3B0aW9ucyA/IGAoJHtvcHRpb25zfSlgIDogJyd9Jy4uLmApO1xuXG4gIHJldHVybiB0YXNrKG9wdGlvbnMpLnRoZW4ocmVzb2x1dGlvbiA9PiB7XG4gICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCB0aW1lID0gZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKTtcbiAgICBjb25zb2xlLmxvZyhgWyR7Zm9ybWF0KGVuZCl9XSBGaW5pc2hlZCAnJHt0YXNrLm5hbWV9JHtvcHRpb25zID8gYCgke29wdGlvbnN9KWAgOiAnJ30nIGFmdGVyICR7dGltZX0gbXNgKTtcbiAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgfSk7XG59XG5cbmlmIChyZXF1aXJlLm1haW4gPT09IG1vZHVsZSAmJiBwcm9jZXNzLmFyZ3YubGVuZ3RoID4gMikge1xuICBkZWxldGUgcmVxdWlyZS5jYWNoZVtfX2ZpbGVuYW1lXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlcnNjb3JlLWRhbmdsZVxuICBjb25zdCBtb2R1bGUgPSByZXF1aXJlKGAuLi8ke3Byb2Nlc3MuYXJndlsyXX0uanNgKS5kZWZhdWx0O1xuICBydW4obW9kdWxlKS5jYXRjaChlcnIgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLnN0YWNrKTtcbiAgICB9XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcnVuO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQUEsT0FBTyxDQUFDLDBCQUEwQixDQUFDO0FBRW5DLFNBQVNDLE1BQU1BLENBQUNDLElBQUksRUFBRTtFQUNwQixPQUFPQSxJQUFJLENBQUNDLFlBQVksQ0FBQyxDQUFDLENBQUNDLE9BQU8sQ0FBQyx5QkFBeUIsRUFBRSxJQUFJLENBQUM7QUFDckU7QUFFQSxTQUFTQyxHQUFHQSxDQUFDQyxFQUFFLEVBQUVDLE9BQU8sRUFBRTtFQUN4QixNQUFNQyxJQUFJLEdBQUcsT0FBT0YsRUFBRSxDQUFDRyxPQUFPLEtBQUssV0FBVyxHQUFHSCxFQUFFLEdBQUdBLEVBQUUsQ0FBQ0csT0FBTztFQUNoRSxNQUFNQyxLQUFLLEdBQUcsSUFBSUMsSUFBSSxDQUFDLENBQUM7RUFDeEJDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLElBQUdaLE1BQU0sQ0FBQ1MsS0FBSyxDQUFFLGVBQWNGLElBQUksQ0FBQ00sSUFBSyxHQUFFUCxPQUFPLEdBQUksSUFBR0EsT0FBUSxHQUFFLEdBQUcsRUFBRyxNQUFLLENBQUM7RUFFNUYsT0FBT0MsSUFBSSxDQUFDRCxPQUFPLENBQUMsQ0FBQ1EsSUFBSSxDQUFDQyxVQUFVLElBQUk7SUFDdEMsTUFBTUMsR0FBRyxHQUFHLElBQUlOLElBQUksQ0FBQyxDQUFDO0lBQ3RCLE1BQU1ULElBQUksR0FBR2UsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQyxHQUFHUixLQUFLLENBQUNRLE9BQU8sQ0FBQyxDQUFDO0lBQzVDTixPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHWixNQUFNLENBQUNnQixHQUFHLENBQUUsZUFBY1QsSUFBSSxDQUFDTSxJQUFLLEdBQUVQLE9BQU8sR0FBSSxJQUFHQSxPQUFRLEdBQUUsR0FBRyxFQUFHLFdBQVVMLElBQUssS0FBSSxDQUFDO0lBQ3hHLE9BQU9jLFVBQVU7RUFDbkIsQ0FBQyxDQUFDO0FBQ0o7QUFFQSxJQUFJaEIsT0FBTyxDQUFDbUIsSUFBSSxLQUFLQyxNQUFNLElBQUlDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0VBQ3RELE9BQU92QixPQUFPLENBQUN3QixLQUFLLENBQUNDLFVBQVUsQ0FBQyxDQUFDLENBQUM7RUFDbEMsTUFBTUwsTUFBTSxHQUFHcEIsT0FBTyxDQUFFLE1BQUtxQixPQUFPLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUUsS0FBSSxDQUFDLENBQUNiLE9BQU87RUFDMURKLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLENBQUNNLEtBQUssQ0FBQ0MsR0FBRyxJQUFJO0lBQ3ZCLElBQUlBLEdBQUcsRUFBRTtNQUNQZixPQUFPLENBQUNnQixLQUFLLENBQUNELEdBQUcsQ0FBQ0UsS0FBSyxDQUFDO0lBQzFCO0lBQ0FSLE9BQU8sQ0FBQ1MsSUFBSSxDQUFDLENBQUMsQ0FBQztFQUNqQixDQUFDLENBQUM7QUFDSjtBQUFDLElBQUFDLFFBQUEsR0FFYzFCLEdBQUc7QUFBQTJCLE9BQUEsQ0FBQXZCLE9BQUEsR0FBQXNCLFFBQUEifQ==","map":{"version":3,"names":["require","format","time","toTimeString","replace","run","fn","options","task","default","start","Date","console","log","name","then","resolution","end","getTime","main","module","process","argv","length","cache","__filename","catch","err","error","stack","exit","_default","exports"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/tools/","sources":["run.js"],"sourcesContent":["require('react-scripts/config/env');\n\nfunction format(time) {\n  return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\n\nfunction run(fn, options) {\n  const task = typeof fn.default === 'undefined' ? fn : fn.default;\n  const start = new Date();\n  console.log(`[${format(start)}] Starting '${task.name}${options ? `(${options})` : ''}'...`);\n\n  return task(options).then(resolution => {\n    const end = new Date();\n    const time = end.getTime() - start.getTime();\n    console.log(`[${format(end)}] Finished '${task.name}${options ? `(${options})` : ''}' after ${time} ms`);\n    return resolution;\n  });\n}\n\nif (require.main === module && process.argv.length > 2) {\n  delete require.cache[__filename]; // eslint-disable-line no-underscore-dangle\n  const module = require(`../${process.argv[2]}.js`).default;\n  run(module).catch(err => {\n    if (err) {\n      console.error(err.stack);\n    }\n    process.exit(1);\n  });\n}\n\nexport default run;\n"],"mappings":";;;;;;AAAAA,OAAO,CAAC,0BAA0B,CAAC;AAEnC,SAASC,MAAMA,CAACC,IAAI,EAAE;EACpB,OAAOA,IAAI,CAACC,YAAY,CAAC,CAAC,CAACC,OAAO,CAAC,yBAAyB,EAAE,IAAI,CAAC;AACrE;AAEA,SAASC,GAAGA,CAACC,EAAE,EAAEC,OAAO,EAAE;EACxB,MAAMC,IAAI,GAAG,OAAOF,EAAE,CAACG,OAAO,KAAK,WAAW,GAAGH,EAAE,GAAGA,EAAE,CAACG,OAAO;EAChE,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC;EACxBC,OAAO,CAACC,GAAG,CAAE,IAAGZ,MAAM,CAACS,KAAK,CAAE,eAAcF,IAAI,CAACM,IAAK,GAAEP,OAAO,GAAI,IAAGA,OAAQ,GAAE,GAAG,EAAG,MAAK,CAAC;EAE5F,OAAOC,IAAI,CAACD,OAAO,CAAC,CAACQ,IAAI,CAACC,UAAU,IAAI;IACtC,MAAMC,GAAG,GAAG,IAAIN,IAAI,CAAC,CAAC;IACtB,MAAMT,IAAI,GAAGe,GAAG,CAACC,OAAO,CAAC,CAAC,GAAGR,KAAK,CAACQ,OAAO,CAAC,CAAC;IAC5CN,OAAO,CAACC,GAAG,CAAE,IAAGZ,MAAM,CAACgB,GAAG,CAAE,eAAcT,IAAI,CAACM,IAAK,GAAEP,OAAO,GAAI,IAAGA,OAAQ,GAAE,GAAG,EAAG,WAAUL,IAAK,KAAI,CAAC;IACxG,OAAOc,UAAU;EACnB,CAAC,CAAC;AACJ;AAEA,IAAIhB,OAAO,CAACmB,IAAI,KAAKC,MAAM,IAAIC,OAAO,CAACC,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;EACtD,OAAOvB,OAAO,CAACwB,KAAK,CAACC,UAAU,CAAC,CAAC,CAAC;EAClC,MAAML,MAAM,GAAGpB,OAAO,CAAE,MAAKqB,OAAO,CAACC,IAAI,CAAC,CAAC,CAAE,KAAI,CAAC,CAACb,OAAO;EAC1DJ,GAAG,CAACe,MAAM,CAAC,CAACM,KAAK,CAACC,GAAG,IAAI;IACvB,IAAIA,GAAG,EAAE;MACPf,OAAO,CAACgB,KAAK,CAACD,GAAG,CAACE,KAAK,CAAC;IAC1B;IACAR,OAAO,CAACS,IAAI,CAAC,CAAC,CAAC;EACjB,CAAC,CAAC;AACJ;AAAC,IAAAC,QAAA,GAEc1B,GAAG;AAAA2B,OAAA,CAAAvB,OAAA,GAAAsB,QAAA"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/prebuild.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = prebuild;\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _runBashScript = _interopRequireDefault(require(\"./tools/runBashScript\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * User: abhinavsingi\n * Date: 04/02/19\n * Time: 7:55 PM\n * Desc:\n */\n\nconst ENVIRONMENT_INPUT = _path.default.resolve(process.cwd(), '.env.production');\nconst ENVIRONMENT_OUTPUT = _path.default.join(process.cwd(), '.env.production.local');\nasync function buildPackages() {\n  return (0, _runBashScript.default)('sh internals/build/build-packages.sh');\n}\nfunction generateEnvOutput() {\n  const content = _fs.default.readFileSync(ENVIRONMENT_INPUT, 'utf8');\n  const envOverrides = _fs.default.readFileSync(ENVIRONMENT_OUTPUT, {\n    encoding: 'utf8',\n    flag: 'w+'\n  });\n  _fs.default.writeFileSync(ENVIRONMENT_OUTPUT, `${content}\\n${envOverrides}`, 'utf8');\n}\nasync function prebuild() {\n  await buildPackages();\n  generateEnvOutput();\n  require('react-scripts/config/env');\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXRoIiwiX3J1bkJhc2hTY3JpcHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkVOVklST05NRU5UX0lOUFVUIiwicGF0aCIsInJlc29sdmUiLCJwcm9jZXNzIiwiY3dkIiwiRU5WSVJPTk1FTlRfT1VUUFVUIiwiam9pbiIsImJ1aWxkUGFja2FnZXMiLCJzaCIsImdlbmVyYXRlRW52T3V0cHV0IiwiY29udGVudCIsImZzIiwicmVhZEZpbGVTeW5jIiwiZW52T3ZlcnJpZGVzIiwiZW5jb2RpbmciLCJmbGFnIiwid3JpdGVGaWxlU3luYyIsInByZWJ1aWxkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0L3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC8iLCJzb3VyY2VzIjpbInByZWJ1aWxkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXNlcjogYWJoaW5hdnNpbmdpXG4gKiBEYXRlOiAwNC8wMi8xOVxuICogVGltZTogNzo1NSBQTVxuICogRGVzYzpcbiAqL1xuXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgc2ggZnJvbSAnLi90b29scy9ydW5CYXNoU2NyaXB0JztcblxuY29uc3QgRU5WSVJPTk1FTlRfSU5QVVQgPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgJy5lbnYucHJvZHVjdGlvbicpO1xuY29uc3QgRU5WSVJPTk1FTlRfT1VUUFVUID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICcuZW52LnByb2R1Y3Rpb24ubG9jYWwnKTtcblxuYXN5bmMgZnVuY3Rpb24gYnVpbGRQYWNrYWdlcygpIHtcbiAgcmV0dXJuIHNoKCdzaCBpbnRlcm5hbHMvYnVpbGQvYnVpbGQtcGFja2FnZXMuc2gnKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVFbnZPdXRwdXQoKSB7XG4gIGNvbnN0IGNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoRU5WSVJPTk1FTlRfSU5QVVQsICd1dGY4Jyk7XG4gIGNvbnN0IGVudk92ZXJyaWRlcyA9IGZzLnJlYWRGaWxlU3luYyhFTlZJUk9OTUVOVF9PVVRQVVQsIHsgZW5jb2Rpbmc6ICd1dGY4JywgZmxhZzogJ3crJyB9KTtcbiAgZnMud3JpdGVGaWxlU3luYyhFTlZJUk9OTUVOVF9PVVRQVVQsIGAke2NvbnRlbnR9XFxuJHtlbnZPdmVycmlkZXN9YCwgJ3V0ZjgnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gcHJlYnVpbGQoKSB7XG4gIGF3YWl0IGJ1aWxkUGFja2FnZXMoKTtcbiAgZ2VuZXJhdGVFbnZPdXRwdXQoKTtcblxuICByZXF1aXJlKCdyZWFjdC1zY3JpcHRzL2NvbmZpZy9lbnYnKTtcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQU9BLElBQUFBLEdBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLGNBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUF1QyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQVR2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBTUEsTUFBTUcsaUJBQWlCLEdBQUdDLGFBQUksQ0FBQ0MsT0FBTyxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsaUJBQWlCLENBQUM7QUFDeEUsTUFBTUMsa0JBQWtCLEdBQUdKLGFBQUksQ0FBQ0ssSUFBSSxDQUFDSCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsdUJBQXVCLENBQUM7QUFFNUUsZUFBZUcsYUFBYUEsQ0FBQSxFQUFHO0VBQzdCLE9BQU8sSUFBQUMsc0JBQUUsRUFBQyxzQ0FBc0MsQ0FBQztBQUNuRDtBQUVBLFNBQVNDLGlCQUFpQkEsQ0FBQSxFQUFHO0VBQzNCLE1BQU1DLE9BQU8sR0FBR0MsV0FBRSxDQUFDQyxZQUFZLENBQUNaLGlCQUFpQixFQUFFLE1BQU0sQ0FBQztFQUMxRCxNQUFNYSxZQUFZLEdBQUdGLFdBQUUsQ0FBQ0MsWUFBWSxDQUFDUCxrQkFBa0IsRUFBRTtJQUFFUyxRQUFRLEVBQUUsTUFBTTtJQUFFQyxJQUFJLEVBQUU7RUFBSyxDQUFDLENBQUM7RUFDMUZKLFdBQUUsQ0FBQ0ssYUFBYSxDQUFDWCxrQkFBa0IsRUFBRyxHQUFFSyxPQUFRLEtBQUlHLFlBQWEsRUFBQyxFQUFFLE1BQU0sQ0FBQztBQUM3RTtBQUVlLGVBQWVJLFFBQVFBLENBQUEsRUFBRztFQUN2QyxNQUFNVixhQUFhLENBQUMsQ0FBQztFQUNyQkUsaUJBQWlCLENBQUMsQ0FBQztFQUVuQmYsT0FBTyxDQUFDLDBCQUEwQixDQUFDO0FBQ3JDIn0=","map":{"version":3,"names":["_fs","_interopRequireDefault","require","_path","_runBashScript","obj","__esModule","default","ENVIRONMENT_INPUT","path","resolve","process","cwd","ENVIRONMENT_OUTPUT","join","buildPackages","sh","generateEnvOutput","content","fs","readFileSync","envOverrides","encoding","flag","writeFileSync","prebuild"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/","sources":["prebuild.js"],"sourcesContent":["/**\n * User: abhinavsingi\n * Date: 04/02/19\n * Time: 7:55 PM\n * Desc:\n */\n\nimport fs from 'fs';\nimport path from 'path';\nimport sh from './tools/runBashScript';\n\nconst ENVIRONMENT_INPUT = path.resolve(process.cwd(), '.env.production');\nconst ENVIRONMENT_OUTPUT = path.join(process.cwd(), '.env.production.local');\n\nasync function buildPackages() {\n  return sh('sh internals/build/build-packages.sh');\n}\n\nfunction generateEnvOutput() {\n  const content = fs.readFileSync(ENVIRONMENT_INPUT, 'utf8');\n  const envOverrides = fs.readFileSync(ENVIRONMENT_OUTPUT, { encoding: 'utf8', flag: 'w+' });\n  fs.writeFileSync(ENVIRONMENT_OUTPUT, `${content}\\n${envOverrides}`, 'utf8');\n}\n\nexport default async function prebuild() {\n  await buildPackages();\n  generateEnvOutput();\n\n  require('react-scripts/config/env');\n}"],"mappings":";;;;;;AAOA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,cAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AATvC;AACA;AACA;AACA;AACA;AACA;;AAMA,MAAMG,iBAAiB,GAAGC,aAAI,CAACC,OAAO,CAACC,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,iBAAiB,CAAC;AACxE,MAAMC,kBAAkB,GAAGJ,aAAI,CAACK,IAAI,CAACH,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,uBAAuB,CAAC;AAE5E,eAAeG,aAAaA,CAAA,EAAG;EAC7B,OAAO,IAAAC,sBAAE,EAAC,sCAAsC,CAAC;AACnD;AAEA,SAASC,iBAAiBA,CAAA,EAAG;EAC3B,MAAMC,OAAO,GAAGC,WAAE,CAACC,YAAY,CAACZ,iBAAiB,EAAE,MAAM,CAAC;EAC1D,MAAMa,YAAY,GAAGF,WAAE,CAACC,YAAY,CAACP,kBAAkB,EAAE;IAAES,QAAQ,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAK,CAAC,CAAC;EAC1FJ,WAAE,CAACK,aAAa,CAACX,kBAAkB,EAAG,GAAEK,OAAQ,KAAIG,YAAa,EAAC,EAAE,MAAM,CAAC;AAC7E;AAEe,eAAeI,QAAQA,CAAA,EAAG;EACvC,MAAMV,aAAa,CAAC,CAAC;EACrBE,iBAAiB,CAAC,CAAC;EAEnBf,OAAO,CAAC,0BAA0B,CAAC;AACrC"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/tools/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/tools/runBashScript.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _child_process = require(\"child_process\");\nfunction format(time) {\n  return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\n\n/**\n * Execute simple shell command (async wrapper).\n * @param {String} cmd\n * @return {Object} { stdout: String, stderr: String }\n */\nasync function sh(cmd) {\n  return new Promise(function (resolve, reject) {\n    const start = new Date();\n    console.log(`[${format(start)}] Starting '${cmd}'...`);\n    (0, _child_process.exec)(cmd, (err, stdout, stderr) => {\n      const end = new Date();\n      const time = end.getTime() - start.getTime();\n      if (err) {\n        console.error(`[${format(end)}] Error in '${cmd}' -`);\n        console.error(err);\n        reject(err);\n      } else {\n        console.log(`[${format(end)}] Finished '${cmd}' after ${time} ms`);\n        if (stdout) console.log(stdout);\n        if (stderr) console.error(stderr);\n        resolve(stdout);\n      }\n    });\n  });\n}\nvar _default = sh;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2hpbGRfcHJvY2VzcyIsInJlcXVpcmUiLCJmb3JtYXQiLCJ0aW1lIiwidG9UaW1lU3RyaW5nIiwicmVwbGFjZSIsInNoIiwiY21kIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzdGFydCIsIkRhdGUiLCJjb25zb2xlIiwibG9nIiwiZXhlYyIsImVyciIsInN0ZG91dCIsInN0ZGVyciIsImVuZCIsImdldFRpbWUiLCJlcnJvciIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9oYXJzaC5nb3lhbC9EZXNrdG9wL2NvbnZlcnQvc3ByLW1lc3Nlbmdlci1jbGllbnQtdml0ZS9wYWNrYWdlcy93ZWIvaW50ZXJuYWxzL2J1aWxkL3Rvb2xzLyIsInNvdXJjZXMiOlsicnVuQmFzaFNjcmlwdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleGVjIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5cbmZ1bmN0aW9uIGZvcm1hdCh0aW1lKSB7XG4gIHJldHVybiB0aW1lLnRvVGltZVN0cmluZygpLnJlcGxhY2UoLy4qKFxcZHsyfTpcXGR7Mn06XFxkezJ9KS4qLywgJyQxJyk7XG59XG5cbi8qKlxuICogRXhlY3V0ZSBzaW1wbGUgc2hlbGwgY29tbWFuZCAoYXN5bmMgd3JhcHBlcikuXG4gKiBAcGFyYW0ge1N0cmluZ30gY21kXG4gKiBAcmV0dXJuIHtPYmplY3R9IHsgc3Rkb3V0OiBTdHJpbmcsIHN0ZGVycjogU3RyaW5nIH1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2goY21kKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnNvbGUubG9nKGBbJHtmb3JtYXQoc3RhcnQpfV0gU3RhcnRpbmcgJyR7Y21kfScuLi5gKTtcbiAgICBleGVjKGNtZCwgKGVyciwgc3Rkb3V0LCBzdGRlcnIpID0+IHtcbiAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7XG4gICAgICBjb25zdCB0aW1lID0gZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKTtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgWyR7Zm9ybWF0KGVuZCl9XSBFcnJvciBpbiAnJHtjbWR9JyAtYCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhgWyR7Zm9ybWF0KGVuZCl9XSBGaW5pc2hlZCAnJHtjbWR9JyBhZnRlciAke3RpbWV9IG1zYCk7XG4gICAgICAgIGlmKHN0ZG91dCkgY29uc29sZS5sb2coc3Rkb3V0KTtcbiAgICAgICAgaWYoc3RkZXJyKSBjb25zb2xlLmVycm9yKHN0ZGVycik7XG4gICAgICAgIHJlc29sdmUoc3Rkb3V0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNoO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxjQUFBLEdBQUFDLE9BQUE7QUFFQSxTQUFTQyxNQUFNQSxDQUFDQyxJQUFJLEVBQUU7RUFDcEIsT0FBT0EsSUFBSSxDQUFDQyxZQUFZLENBQUMsQ0FBQyxDQUFDQyxPQUFPLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDO0FBQ3JFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlQyxFQUFFQSxDQUFDQyxHQUFHLEVBQUU7RUFDckIsT0FBTyxJQUFJQyxPQUFPLENBQUMsVUFBVUMsT0FBTyxFQUFFQyxNQUFNLEVBQUU7SUFDNUMsTUFBTUMsS0FBSyxHQUFHLElBQUlDLElBQUksQ0FBQyxDQUFDO0lBQ3hCQyxPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHWixNQUFNLENBQUNTLEtBQUssQ0FBRSxlQUFjSixHQUFJLE1BQUssQ0FBQztJQUN0RCxJQUFBUSxtQkFBSSxFQUFDUixHQUFHLEVBQUUsQ0FBQ1MsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sS0FBSztNQUNqQyxNQUFNQyxHQUFHLEdBQUcsSUFBSVAsSUFBSSxDQUFDLENBQUM7TUFDdEIsTUFBTVQsSUFBSSxHQUFHZ0IsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQyxHQUFHVCxLQUFLLENBQUNTLE9BQU8sQ0FBQyxDQUFDO01BQzVDLElBQUlKLEdBQUcsRUFBRTtRQUNQSCxPQUFPLENBQUNRLEtBQUssQ0FBRSxJQUFHbkIsTUFBTSxDQUFDaUIsR0FBRyxDQUFFLGVBQWNaLEdBQUksS0FBSSxDQUFDO1FBQ3JETSxPQUFPLENBQUNRLEtBQUssQ0FBQ0wsR0FBRyxDQUFDO1FBQ2xCTixNQUFNLENBQUNNLEdBQUcsQ0FBQztNQUNiLENBQUMsTUFBTTtRQUNMSCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHWixNQUFNLENBQUNpQixHQUFHLENBQUUsZUFBY1osR0FBSSxXQUFVSixJQUFLLEtBQUksQ0FBQztRQUNsRSxJQUFHYyxNQUFNLEVBQUVKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxNQUFNLENBQUM7UUFDOUIsSUFBR0MsTUFBTSxFQUFFTCxPQUFPLENBQUNRLEtBQUssQ0FBQ0gsTUFBTSxDQUFDO1FBQ2hDVCxPQUFPLENBQUNRLE1BQU0sQ0FBQztNQUNqQjtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKO0FBQUMsSUFBQUssUUFBQSxHQUVjaEIsRUFBRTtBQUFBaUIsT0FBQSxDQUFBQyxPQUFBLEdBQUFGLFFBQUEifQ==","map":{"version":3,"names":["_child_process","require","format","time","toTimeString","replace","sh","cmd","Promise","resolve","reject","start","Date","console","log","exec","err","stdout","stderr","end","getTime","error","_default","exports","default"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/tools/","sources":["runBashScript.js"],"sourcesContent":["import { exec } from 'child_process';\n\nfunction format(time) {\n  return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\n\n/**\n * Execute simple shell command (async wrapper).\n * @param {String} cmd\n * @return {Object} { stdout: String, stderr: String }\n */\nasync function sh(cmd) {\n  return new Promise(function (resolve, reject) {\n    const start = new Date();\n    console.log(`[${format(start)}] Starting '${cmd}'...`);\n    exec(cmd, (err, stdout, stderr) => {\n      const end = new Date();\n      const time = end.getTime() - start.getTime();\n      if (err) {\n        console.error(`[${format(end)}] Error in '${cmd}' -`);\n        console.error(err);\n        reject(err);\n      } else {\n        console.log(`[${format(end)}] Finished '${cmd}' after ${time} ms`);\n        if(stdout) console.log(stdout);\n        if(stderr) console.error(stderr);\n        resolve(stdout);\n      }\n    });\n  });\n}\n\nexport default sh;\n"],"mappings":";;;;;;AAAA,IAAAA,cAAA,GAAAC,OAAA;AAEA,SAASC,MAAMA,CAACC,IAAI,EAAE;EACpB,OAAOA,IAAI,CAACC,YAAY,CAAC,CAAC,CAACC,OAAO,CAAC,yBAAyB,EAAE,IAAI,CAAC;AACrE;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAeC,EAAEA,CAACC,GAAG,EAAE;EACrB,OAAO,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAEC,MAAM,EAAE;IAC5C,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC;IACxBC,OAAO,CAACC,GAAG,CAAE,IAAGZ,MAAM,CAACS,KAAK,CAAE,eAAcJ,GAAI,MAAK,CAAC;IACtD,IAAAQ,mBAAI,EAACR,GAAG,EAAE,CAACS,GAAG,EAAEC,MAAM,EAAEC,MAAM,KAAK;MACjC,MAAMC,GAAG,GAAG,IAAIP,IAAI,CAAC,CAAC;MACtB,MAAMT,IAAI,GAAGgB,GAAG,CAACC,OAAO,CAAC,CAAC,GAAGT,KAAK,CAACS,OAAO,CAAC,CAAC;MAC5C,IAAIJ,GAAG,EAAE;QACPH,OAAO,CAACQ,KAAK,CAAE,IAAGnB,MAAM,CAACiB,GAAG,CAAE,eAAcZ,GAAI,KAAI,CAAC;QACrDM,OAAO,CAACQ,KAAK,CAACL,GAAG,CAAC;QAClBN,MAAM,CAACM,GAAG,CAAC;MACb,CAAC,MAAM;QACLH,OAAO,CAACC,GAAG,CAAE,IAAGZ,MAAM,CAACiB,GAAG,CAAE,eAAcZ,GAAI,WAAUJ,IAAK,KAAI,CAAC;QAClE,IAAGc,MAAM,EAAEJ,OAAO,CAACC,GAAG,CAACG,MAAM,CAAC;QAC9B,IAAGC,MAAM,EAAEL,OAAO,CAACQ,KAAK,CAACH,MAAM,CAAC;QAChCT,OAAO,CAACQ,MAAM,CAAC;MACjB;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAAC,IAAAK,QAAA,GAEchB,EAAE;AAAAiB,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/prebuild.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = prebuild;\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _runBashScript = _interopRequireDefault(require(\"./tools/runBashScript\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * User: abhinavsingi\n * Date: 04/02/19\n * Time: 7:55 PM\n * Desc:\n */\n\nconst ENVIRONMENT_INPUT = _path.default.resolve(process.cwd(), '.env.production');\nconst ENVIRONMENT_OUTPUT = _path.default.join(process.cwd(), '.env.production.local');\nasync function buildPackages() {\n  return (0, _runBashScript.default)('sh internals/build/build-packages.sh');\n}\nfunction generateEnvOutput() {\n  const content = _fs.default.readFileSync(ENVIRONMENT_INPUT, 'utf8');\n  const envOverrides = _fs.default.readFileSync(ENVIRONMENT_OUTPUT, {\n    encoding: 'utf8',\n    flag: 'w+'\n  });\n  _fs.default.writeFileSync(ENVIRONMENT_OUTPUT, `${content}\\n${envOverrides}`, 'utf8');\n}\nasync function prebuild() {\n  await buildPackages();\n  generateEnvOutput();\n  require('react-scripts/config/env');\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXRoIiwiX3J1bkJhc2hTY3JpcHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkVOVklST05NRU5UX0lOUFVUIiwicGF0aCIsInJlc29sdmUiLCJwcm9jZXNzIiwiY3dkIiwiRU5WSVJPTk1FTlRfT1VUUFVUIiwiam9pbiIsImJ1aWxkUGFja2FnZXMiLCJzaCIsImdlbmVyYXRlRW52T3V0cHV0IiwiY29udGVudCIsImZzIiwicmVhZEZpbGVTeW5jIiwiZW52T3ZlcnJpZGVzIiwiZW5jb2RpbmciLCJmbGFnIiwid3JpdGVGaWxlU3luYyIsInByZWJ1aWxkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0L3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC8iLCJzb3VyY2VzIjpbInByZWJ1aWxkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXNlcjogYWJoaW5hdnNpbmdpXG4gKiBEYXRlOiAwNC8wMi8xOVxuICogVGltZTogNzo1NSBQTVxuICogRGVzYzpcbiAqL1xuXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgc2ggZnJvbSAnLi90b29scy9ydW5CYXNoU2NyaXB0JztcblxuY29uc3QgRU5WSVJPTk1FTlRfSU5QVVQgPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgJy5lbnYucHJvZHVjdGlvbicpO1xuY29uc3QgRU5WSVJPTk1FTlRfT1VUUFVUID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICcuZW52LnByb2R1Y3Rpb24ubG9jYWwnKTtcblxuYXN5bmMgZnVuY3Rpb24gYnVpbGRQYWNrYWdlcygpIHtcbiAgcmV0dXJuIHNoKCdzaCBpbnRlcm5hbHMvYnVpbGQvYnVpbGQtcGFja2FnZXMuc2gnKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVFbnZPdXRwdXQoKSB7XG4gIGNvbnN0IGNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoRU5WSVJPTk1FTlRfSU5QVVQsICd1dGY4Jyk7XG4gIGNvbnN0IGVudk92ZXJyaWRlcyA9IGZzLnJlYWRGaWxlU3luYyhFTlZJUk9OTUVOVF9PVVRQVVQsIHsgZW5jb2Rpbmc6ICd1dGY4JywgZmxhZzogJ3crJyB9KTtcbiAgZnMud3JpdGVGaWxlU3luYyhFTlZJUk9OTUVOVF9PVVRQVVQsIGAke2NvbnRlbnR9XFxuJHtlbnZPdmVycmlkZXN9YCwgJ3V0ZjgnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gcHJlYnVpbGQoKSB7XG4gIGF3YWl0IGJ1aWxkUGFja2FnZXMoKTtcbiAgZ2VuZXJhdGVFbnZPdXRwdXQoKTtcblxuICByZXF1aXJlKCdyZWFjdC1zY3JpcHRzL2NvbmZpZy9lbnYnKTtcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQU9BLElBQUFBLEdBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLGNBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUF1QyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQVR2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBTUEsTUFBTUcsaUJBQWlCLEdBQUdDLGFBQUksQ0FBQ0MsT0FBTyxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsaUJBQWlCLENBQUM7QUFDeEUsTUFBTUMsa0JBQWtCLEdBQUdKLGFBQUksQ0FBQ0ssSUFBSSxDQUFDSCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsdUJBQXVCLENBQUM7QUFFNUUsZUFBZUcsYUFBYUEsQ0FBQSxFQUFHO0VBQzdCLE9BQU8sSUFBQUMsc0JBQUUsRUFBQyxzQ0FBc0MsQ0FBQztBQUNuRDtBQUVBLFNBQVNDLGlCQUFpQkEsQ0FBQSxFQUFHO0VBQzNCLE1BQU1DLE9BQU8sR0FBR0MsV0FBRSxDQUFDQyxZQUFZLENBQUNaLGlCQUFpQixFQUFFLE1BQU0sQ0FBQztFQUMxRCxNQUFNYSxZQUFZLEdBQUdGLFdBQUUsQ0FBQ0MsWUFBWSxDQUFDUCxrQkFBa0IsRUFBRTtJQUFFUyxRQUFRLEVBQUUsTUFBTTtJQUFFQyxJQUFJLEVBQUU7RUFBSyxDQUFDLENBQUM7RUFDMUZKLFdBQUUsQ0FBQ0ssYUFBYSxDQUFDWCxrQkFBa0IsRUFBRyxHQUFFSyxPQUFRLEtBQUlHLFlBQWEsRUFBQyxFQUFFLE1BQU0sQ0FBQztBQUM3RTtBQUVlLGVBQWVJLFFBQVFBLENBQUEsRUFBRztFQUN2QyxNQUFNVixhQUFhLENBQUMsQ0FBQztFQUNyQkUsaUJBQWlCLENBQUMsQ0FBQztFQUVuQmYsT0FBTyxDQUFDLDBCQUEwQixDQUFDO0FBQ3JDIn0=","map":{"version":3,"names":["_fs","_interopRequireDefault","require","_path","_runBashScript","obj","__esModule","default","ENVIRONMENT_INPUT","path","resolve","process","cwd","ENVIRONMENT_OUTPUT","join","buildPackages","sh","generateEnvOutput","content","fs","readFileSync","envOverrides","encoding","flag","writeFileSync","prebuild"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/","sources":["prebuild.js"],"sourcesContent":["/**\n * User: abhinavsingi\n * Date: 04/02/19\n * Time: 7:55 PM\n * Desc:\n */\n\nimport fs from 'fs';\nimport path from 'path';\nimport sh from './tools/runBashScript';\n\nconst ENVIRONMENT_INPUT = path.resolve(process.cwd(), '.env.production');\nconst ENVIRONMENT_OUTPUT = path.join(process.cwd(), '.env.production.local');\n\nasync function buildPackages() {\n  return sh('sh internals/build/build-packages.sh');\n}\n\nfunction generateEnvOutput() {\n  const content = fs.readFileSync(ENVIRONMENT_INPUT, 'utf8');\n  const envOverrides = fs.readFileSync(ENVIRONMENT_OUTPUT, { encoding: 'utf8', flag: 'w+' });\n  fs.writeFileSync(ENVIRONMENT_OUTPUT, `${content}\\n${envOverrides}`, 'utf8');\n}\n\nexport default async function prebuild() {\n  await buildPackages();\n  generateEnvOutput();\n\n  require('react-scripts/config/env');\n}"],"mappings":";;;;;;AAOA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,cAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AATvC;AACA;AACA;AACA;AACA;AACA;;AAMA,MAAMG,iBAAiB,GAAGC,aAAI,CAACC,OAAO,CAACC,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,iBAAiB,CAAC;AACxE,MAAMC,kBAAkB,GAAGJ,aAAI,CAACK,IAAI,CAACH,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,uBAAuB,CAAC;AAE5E,eAAeG,aAAaA,CAAA,EAAG;EAC7B,OAAO,IAAAC,sBAAE,EAAC,sCAAsC,CAAC;AACnD;AAEA,SAASC,iBAAiBA,CAAA,EAAG;EAC3B,MAAMC,OAAO,GAAGC,WAAE,CAACC,YAAY,CAACZ,iBAAiB,EAAE,MAAM,CAAC;EAC1D,MAAMa,YAAY,GAAGF,WAAE,CAACC,YAAY,CAACP,kBAAkB,EAAE;IAAES,QAAQ,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAK,CAAC,CAAC;EAC1FJ,WAAE,CAACK,aAAa,CAACX,kBAAkB,EAAG,GAAEK,OAAQ,KAAIG,YAAa,EAAC,EAAE,MAAM,CAAC;AAC7E;AAEe,eAAeI,QAAQA,CAAA,EAAG;EACvC,MAAMV,aAAa,CAAC,CAAC;EACrBE,iBAAiB,CAAC,CAAC;EAEnBf,OAAO,CAAC,0BAA0B,CAAC;AACrC"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/tools/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/tools/runBashScript.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _child_process = require(\"child_process\");\nfunction format(time) {\n  return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\n\n/**\n * Execute simple shell command (async wrapper).\n * @param {String} cmd\n * @return {Object} { stdout: String, stderr: String }\n */\nasync function sh(cmd) {\n  return new Promise(function (resolve, reject) {\n    const start = new Date();\n    console.log(`[${format(start)}] Starting '${cmd}'...`);\n    (0, _child_process.exec)(cmd, (err, stdout, stderr) => {\n      const end = new Date();\n      const time = end.getTime() - start.getTime();\n      if (err) {\n        console.error(`[${format(end)}] Error in '${cmd}' -`);\n        console.error(err);\n        reject(err);\n      } else {\n        console.log(`[${format(end)}] Finished '${cmd}' after ${time} ms`);\n        if (stdout) console.log(stdout);\n        if (stderr) console.error(stderr);\n        resolve(stdout);\n      }\n    });\n  });\n}\nvar _default = sh;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2hpbGRfcHJvY2VzcyIsInJlcXVpcmUiLCJmb3JtYXQiLCJ0aW1lIiwidG9UaW1lU3RyaW5nIiwicmVwbGFjZSIsInNoIiwiY21kIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzdGFydCIsIkRhdGUiLCJjb25zb2xlIiwibG9nIiwiZXhlYyIsImVyciIsInN0ZG91dCIsInN0ZGVyciIsImVuZCIsImdldFRpbWUiLCJlcnJvciIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9oYXJzaC5nb3lhbC9EZXNrdG9wL2NvbnZlcnQvc3ByLW1lc3Nlbmdlci1jbGllbnQtdml0ZS9wYWNrYWdlcy93ZWIvaW50ZXJuYWxzL2J1aWxkL3Rvb2xzLyIsInNvdXJjZXMiOlsicnVuQmFzaFNjcmlwdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleGVjIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5cbmZ1bmN0aW9uIGZvcm1hdCh0aW1lKSB7XG4gIHJldHVybiB0aW1lLnRvVGltZVN0cmluZygpLnJlcGxhY2UoLy4qKFxcZHsyfTpcXGR7Mn06XFxkezJ9KS4qLywgJyQxJyk7XG59XG5cbi8qKlxuICogRXhlY3V0ZSBzaW1wbGUgc2hlbGwgY29tbWFuZCAoYXN5bmMgd3JhcHBlcikuXG4gKiBAcGFyYW0ge1N0cmluZ30gY21kXG4gKiBAcmV0dXJuIHtPYmplY3R9IHsgc3Rkb3V0OiBTdHJpbmcsIHN0ZGVycjogU3RyaW5nIH1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2goY21kKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnNvbGUubG9nKGBbJHtmb3JtYXQoc3RhcnQpfV0gU3RhcnRpbmcgJyR7Y21kfScuLi5gKTtcbiAgICBleGVjKGNtZCwgKGVyciwgc3Rkb3V0LCBzdGRlcnIpID0+IHtcbiAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7XG4gICAgICBjb25zdCB0aW1lID0gZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKTtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgWyR7Zm9ybWF0KGVuZCl9XSBFcnJvciBpbiAnJHtjbWR9JyAtYCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhgWyR7Zm9ybWF0KGVuZCl9XSBGaW5pc2hlZCAnJHtjbWR9JyBhZnRlciAke3RpbWV9IG1zYCk7XG4gICAgICAgIGlmKHN0ZG91dCkgY29uc29sZS5sb2coc3Rkb3V0KTtcbiAgICAgICAgaWYoc3RkZXJyKSBjb25zb2xlLmVycm9yKHN0ZGVycik7XG4gICAgICAgIHJlc29sdmUoc3Rkb3V0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNoO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxjQUFBLEdBQUFDLE9BQUE7QUFFQSxTQUFTQyxNQUFNQSxDQUFDQyxJQUFJLEVBQUU7RUFDcEIsT0FBT0EsSUFBSSxDQUFDQyxZQUFZLENBQUMsQ0FBQyxDQUFDQyxPQUFPLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDO0FBQ3JFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlQyxFQUFFQSxDQUFDQyxHQUFHLEVBQUU7RUFDckIsT0FBTyxJQUFJQyxPQUFPLENBQUMsVUFBVUMsT0FBTyxFQUFFQyxNQUFNLEVBQUU7SUFDNUMsTUFBTUMsS0FBSyxHQUFHLElBQUlDLElBQUksQ0FBQyxDQUFDO0lBQ3hCQyxPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHWixNQUFNLENBQUNTLEtBQUssQ0FBRSxlQUFjSixHQUFJLE1BQUssQ0FBQztJQUN0RCxJQUFBUSxtQkFBSSxFQUFDUixHQUFHLEVBQUUsQ0FBQ1MsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sS0FBSztNQUNqQyxNQUFNQyxHQUFHLEdBQUcsSUFBSVAsSUFBSSxDQUFDLENBQUM7TUFDdEIsTUFBTVQsSUFBSSxHQUFHZ0IsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQyxHQUFHVCxLQUFLLENBQUNTLE9BQU8sQ0FBQyxDQUFDO01BQzVDLElBQUlKLEdBQUcsRUFBRTtRQUNQSCxPQUFPLENBQUNRLEtBQUssQ0FBRSxJQUFHbkIsTUFBTSxDQUFDaUIsR0FBRyxDQUFFLGVBQWNaLEdBQUksS0FBSSxDQUFDO1FBQ3JETSxPQUFPLENBQUNRLEtBQUssQ0FBQ0wsR0FBRyxDQUFDO1FBQ2xCTixNQUFNLENBQUNNLEdBQUcsQ0FBQztNQUNiLENBQUMsTUFBTTtRQUNMSCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHWixNQUFNLENBQUNpQixHQUFHLENBQUUsZUFBY1osR0FBSSxXQUFVSixJQUFLLEtBQUksQ0FBQztRQUNsRSxJQUFHYyxNQUFNLEVBQUVKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxNQUFNLENBQUM7UUFDOUIsSUFBR0MsTUFBTSxFQUFFTCxPQUFPLENBQUNRLEtBQUssQ0FBQ0gsTUFBTSxDQUFDO1FBQ2hDVCxPQUFPLENBQUNRLE1BQU0sQ0FBQztNQUNqQjtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKO0FBQUMsSUFBQUssUUFBQSxHQUVjaEIsRUFBRTtBQUFBaUIsT0FBQSxDQUFBQyxPQUFBLEdBQUFGLFFBQUEifQ==","map":{"version":3,"names":["_child_process","require","format","time","toTimeString","replace","sh","cmd","Promise","resolve","reject","start","Date","console","log","exec","err","stdout","stderr","end","getTime","error","_default","exports","default"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert/spr-messenger-client-vite/packages/web/internals/build/tools/","sources":["runBashScript.js"],"sourcesContent":["import { exec } from 'child_process';\n\nfunction format(time) {\n  return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\n\n/**\n * Execute simple shell command (async wrapper).\n * @param {String} cmd\n * @return {Object} { stdout: String, stderr: String }\n */\nasync function sh(cmd) {\n  return new Promise(function (resolve, reject) {\n    const start = new Date();\n    console.log(`[${format(start)}] Starting '${cmd}'...`);\n    exec(cmd, (err, stdout, stderr) => {\n      const end = new Date();\n      const time = end.getTime() - start.getTime();\n      if (err) {\n        console.error(`[${format(end)}] Error in '${cmd}' -`);\n        console.error(err);\n        reject(err);\n      } else {\n        console.log(`[${format(end)}] Finished '${cmd}' after ${time} ms`);\n        if(stdout) console.log(stdout);\n        if(stderr) console.error(stderr);\n        resolve(stdout);\n      }\n    });\n  });\n}\n\nexport default sh;\n"],"mappings":";;;;;;AAAA,IAAAA,cAAA,GAAAC,OAAA;AAEA,SAASC,MAAMA,CAACC,IAAI,EAAE;EACpB,OAAOA,IAAI,CAACC,YAAY,CAAC,CAAC,CAACC,OAAO,CAAC,yBAAyB,EAAE,IAAI,CAAC;AACrE;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAeC,EAAEA,CAACC,GAAG,EAAE;EACrB,OAAO,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAEC,MAAM,EAAE;IAC5C,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC;IACxBC,OAAO,CAACC,GAAG,CAAE,IAAGZ,MAAM,CAACS,KAAK,CAAE,eAAcJ,GAAI,MAAK,CAAC;IACtD,IAAAQ,mBAAI,EAACR,GAAG,EAAE,CAACS,GAAG,EAAEC,MAAM,EAAEC,MAAM,KAAK;MACjC,MAAMC,GAAG,GAAG,IAAIP,IAAI,CAAC,CAAC;MACtB,MAAMT,IAAI,GAAGgB,GAAG,CAACC,OAAO,CAAC,CAAC,GAAGT,KAAK,CAACS,OAAO,CAAC,CAAC;MAC5C,IAAIJ,GAAG,EAAE;QACPH,OAAO,CAACQ,KAAK,CAAE,IAAGnB,MAAM,CAACiB,GAAG,CAAE,eAAcZ,GAAI,KAAI,CAAC;QACrDM,OAAO,CAACQ,KAAK,CAACL,GAAG,CAAC;QAClBN,MAAM,CAACM,GAAG,CAAC;MACb,CAAC,MAAM;QACLH,OAAO,CAACC,GAAG,CAAE,IAAGZ,MAAM,CAACiB,GAAG,CAAE,eAAcZ,GAAI,WAAUJ,IAAK,KAAI,CAAC;QAClE,IAAGc,MAAM,EAAEJ,OAAO,CAACC,GAAG,CAACG,MAAM,CAAC;QAC9B,IAAGC,MAAM,EAAEL,OAAO,CAACQ,KAAK,CAACH,MAAM,CAAC;QAChCT,OAAO,CAACQ,MAAM,CAAC;MACjB;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAAC,IAAAK,QAAA,GAEchB,EAAE;AAAAiB,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/run.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire('react-scripts/config/env');\nfunction format(time) {\n  return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\nfunction run(fn, options) {\n  const task = typeof fn.default === 'undefined' ? fn : fn.default;\n  const start = new Date();\n  console.log(`[${format(start)}] Starting '${task.name}${options ? `(${options})` : ''}'...`);\n  return task(options).then(resolution => {\n    const end = new Date();\n    const time = end.getTime() - start.getTime();\n    console.log(`[${format(end)}] Finished '${task.name}${options ? `(${options})` : ''}' after ${time} ms`);\n    return resolution;\n  });\n}\nif (require.main === module && process.argv.length > 2) {\n  delete require.cache[__filename]; // eslint-disable-line no-underscore-dangle\n  const module = require(`../${process.argv[2]}.js`).default;\n  run(module).catch(err => {\n    if (err) {\n      console.error(err.stack);\n    }\n    process.exit(1);\n  });\n}\nvar _default = run;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiZm9ybWF0IiwidGltZSIsInRvVGltZVN0cmluZyIsInJlcGxhY2UiLCJydW4iLCJmbiIsIm9wdGlvbnMiLCJ0YXNrIiwiZGVmYXVsdCIsInN0YXJ0IiwiRGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwidGhlbiIsInJlc29sdXRpb24iLCJlbmQiLCJnZXRUaW1lIiwibWFpbiIsIm1vZHVsZSIsInByb2Nlc3MiLCJhcmd2IiwibGVuZ3RoIiwiY2FjaGUiLCJfX2ZpbGVuYW1lIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsInN0YWNrIiwiZXhpdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2hhcnNoLmdveWFsL0Rlc2t0b3AvY29udmVydC1zcHJpbmtsci1hcHAtdml0ZS9zcHItbWVzc2VuZ2VyLWNsaWVudC12aXRlL3BhY2thZ2VzL3dlYi9pbnRlcm5hbHMvYnVpbGQvdG9vbHMvIiwic291cmNlcyI6WyJydW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgncmVhY3Qtc2NyaXB0cy9jb25maWcvZW52Jyk7XG5cbmZ1bmN0aW9uIGZvcm1hdCh0aW1lKSB7XG4gIHJldHVybiB0aW1lLnRvVGltZVN0cmluZygpLnJlcGxhY2UoLy4qKFxcZHsyfTpcXGR7Mn06XFxkezJ9KS4qLywgJyQxJyk7XG59XG5cbmZ1bmN0aW9uIHJ1bihmbiwgb3B0aW9ucykge1xuICBjb25zdCB0YXNrID0gdHlwZW9mIGZuLmRlZmF1bHQgPT09ICd1bmRlZmluZWQnID8gZm4gOiBmbi5kZWZhdWx0O1xuICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7XG4gIGNvbnNvbGUubG9nKGBbJHtmb3JtYXQoc3RhcnQpfV0gU3RhcnRpbmcgJyR7dGFzay5uYW1lfSR7b3B0aW9ucyA/IGAoJHtvcHRpb25zfSlgIDogJyd9Jy4uLmApO1xuXG4gIHJldHVybiB0YXNrKG9wdGlvbnMpLnRoZW4ocmVzb2x1dGlvbiA9PiB7XG4gICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCB0aW1lID0gZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKTtcbiAgICBjb25zb2xlLmxvZyhgWyR7Zm9ybWF0KGVuZCl9XSBGaW5pc2hlZCAnJHt0YXNrLm5hbWV9JHtvcHRpb25zID8gYCgke29wdGlvbnN9KWAgOiAnJ30nIGFmdGVyICR7dGltZX0gbXNgKTtcbiAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgfSk7XG59XG5cbmlmIChyZXF1aXJlLm1haW4gPT09IG1vZHVsZSAmJiBwcm9jZXNzLmFyZ3YubGVuZ3RoID4gMikge1xuICBkZWxldGUgcmVxdWlyZS5jYWNoZVtfX2ZpbGVuYW1lXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlcnNjb3JlLWRhbmdsZVxuICBjb25zdCBtb2R1bGUgPSByZXF1aXJlKGAuLi8ke3Byb2Nlc3MuYXJndlsyXX0uanNgKS5kZWZhdWx0O1xuICBydW4obW9kdWxlKS5jYXRjaChlcnIgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLnN0YWNrKTtcbiAgICB9XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcnVuO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQUEsT0FBTyxDQUFDLDBCQUEwQixDQUFDO0FBRW5DLFNBQVNDLE1BQU1BLENBQUNDLElBQUksRUFBRTtFQUNwQixPQUFPQSxJQUFJLENBQUNDLFlBQVksQ0FBQyxDQUFDLENBQUNDLE9BQU8sQ0FBQyx5QkFBeUIsRUFBRSxJQUFJLENBQUM7QUFDckU7QUFFQSxTQUFTQyxHQUFHQSxDQUFDQyxFQUFFLEVBQUVDLE9BQU8sRUFBRTtFQUN4QixNQUFNQyxJQUFJLEdBQUcsT0FBT0YsRUFBRSxDQUFDRyxPQUFPLEtBQUssV0FBVyxHQUFHSCxFQUFFLEdBQUdBLEVBQUUsQ0FBQ0csT0FBTztFQUNoRSxNQUFNQyxLQUFLLEdBQUcsSUFBSUMsSUFBSSxDQUFDLENBQUM7RUFDeEJDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLElBQUdaLE1BQU0sQ0FBQ1MsS0FBSyxDQUFFLGVBQWNGLElBQUksQ0FBQ00sSUFBSyxHQUFFUCxPQUFPLEdBQUksSUFBR0EsT0FBUSxHQUFFLEdBQUcsRUFBRyxNQUFLLENBQUM7RUFFNUYsT0FBT0MsSUFBSSxDQUFDRCxPQUFPLENBQUMsQ0FBQ1EsSUFBSSxDQUFDQyxVQUFVLElBQUk7SUFDdEMsTUFBTUMsR0FBRyxHQUFHLElBQUlOLElBQUksQ0FBQyxDQUFDO0lBQ3RCLE1BQU1ULElBQUksR0FBR2UsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQyxHQUFHUixLQUFLLENBQUNRLE9BQU8sQ0FBQyxDQUFDO0lBQzVDTixPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHWixNQUFNLENBQUNnQixHQUFHLENBQUUsZUFBY1QsSUFBSSxDQUFDTSxJQUFLLEdBQUVQLE9BQU8sR0FBSSxJQUFHQSxPQUFRLEdBQUUsR0FBRyxFQUFHLFdBQVVMLElBQUssS0FBSSxDQUFDO0lBQ3hHLE9BQU9jLFVBQVU7RUFDbkIsQ0FBQyxDQUFDO0FBQ0o7QUFFQSxJQUFJaEIsT0FBTyxDQUFDbUIsSUFBSSxLQUFLQyxNQUFNLElBQUlDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0VBQ3RELE9BQU92QixPQUFPLENBQUN3QixLQUFLLENBQUNDLFVBQVUsQ0FBQyxDQUFDLENBQUM7RUFDbEMsTUFBTUwsTUFBTSxHQUFHcEIsT0FBTyxDQUFFLE1BQUtxQixPQUFPLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUUsS0FBSSxDQUFDLENBQUNiLE9BQU87RUFDMURKLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLENBQUNNLEtBQUssQ0FBQ0MsR0FBRyxJQUFJO0lBQ3ZCLElBQUlBLEdBQUcsRUFBRTtNQUNQZixPQUFPLENBQUNnQixLQUFLLENBQUNELEdBQUcsQ0FBQ0UsS0FBSyxDQUFDO0lBQzFCO0lBQ0FSLE9BQU8sQ0FBQ1MsSUFBSSxDQUFDLENBQUMsQ0FBQztFQUNqQixDQUFDLENBQUM7QUFDSjtBQUFDLElBQUFDLFFBQUEsR0FFYzFCLEdBQUc7QUFBQTJCLE9BQUEsQ0FBQXZCLE9BQUEsR0FBQXNCLFFBQUEifQ==","map":{"version":3,"names":["require","format","time","toTimeString","replace","run","fn","options","task","default","start","Date","console","log","name","then","resolution","end","getTime","main","module","process","argv","length","cache","__filename","catch","err","error","stack","exit","_default","exports"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/","sources":["run.js"],"sourcesContent":["require('react-scripts/config/env');\n\nfunction format(time) {\n  return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\n\nfunction run(fn, options) {\n  const task = typeof fn.default === 'undefined' ? fn : fn.default;\n  const start = new Date();\n  console.log(`[${format(start)}] Starting '${task.name}${options ? `(${options})` : ''}'...`);\n\n  return task(options).then(resolution => {\n    const end = new Date();\n    const time = end.getTime() - start.getTime();\n    console.log(`[${format(end)}] Finished '${task.name}${options ? `(${options})` : ''}' after ${time} ms`);\n    return resolution;\n  });\n}\n\nif (require.main === module && process.argv.length > 2) {\n  delete require.cache[__filename]; // eslint-disable-line no-underscore-dangle\n  const module = require(`../${process.argv[2]}.js`).default;\n  run(module).catch(err => {\n    if (err) {\n      console.error(err.stack);\n    }\n    process.exit(1);\n  });\n}\n\nexport default run;\n"],"mappings":";;;;;;AAAAA,OAAO,CAAC,0BAA0B,CAAC;AAEnC,SAASC,MAAMA,CAACC,IAAI,EAAE;EACpB,OAAOA,IAAI,CAACC,YAAY,CAAC,CAAC,CAACC,OAAO,CAAC,yBAAyB,EAAE,IAAI,CAAC;AACrE;AAEA,SAASC,GAAGA,CAACC,EAAE,EAAEC,OAAO,EAAE;EACxB,MAAMC,IAAI,GAAG,OAAOF,EAAE,CAACG,OAAO,KAAK,WAAW,GAAGH,EAAE,GAAGA,EAAE,CAACG,OAAO;EAChE,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC;EACxBC,OAAO,CAACC,GAAG,CAAE,IAAGZ,MAAM,CAACS,KAAK,CAAE,eAAcF,IAAI,CAACM,IAAK,GAAEP,OAAO,GAAI,IAAGA,OAAQ,GAAE,GAAG,EAAG,MAAK,CAAC;EAE5F,OAAOC,IAAI,CAACD,OAAO,CAAC,CAACQ,IAAI,CAACC,UAAU,IAAI;IACtC,MAAMC,GAAG,GAAG,IAAIN,IAAI,CAAC,CAAC;IACtB,MAAMT,IAAI,GAAGe,GAAG,CAACC,OAAO,CAAC,CAAC,GAAGR,KAAK,CAACQ,OAAO,CAAC,CAAC;IAC5CN,OAAO,CAACC,GAAG,CAAE,IAAGZ,MAAM,CAACgB,GAAG,CAAE,eAAcT,IAAI,CAACM,IAAK,GAAEP,OAAO,GAAI,IAAGA,OAAQ,GAAE,GAAG,EAAG,WAAUL,IAAK,KAAI,CAAC;IACxG,OAAOc,UAAU;EACnB,CAAC,CAAC;AACJ;AAEA,IAAIhB,OAAO,CAACmB,IAAI,KAAKC,MAAM,IAAIC,OAAO,CAACC,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;EACtD,OAAOvB,OAAO,CAACwB,KAAK,CAACC,UAAU,CAAC,CAAC,CAAC;EAClC,MAAML,MAAM,GAAGpB,OAAO,CAAE,MAAKqB,OAAO,CAACC,IAAI,CAAC,CAAC,CAAE,KAAI,CAAC,CAACb,OAAO;EAC1DJ,GAAG,CAACe,MAAM,CAAC,CAACM,KAAK,CAACC,GAAG,IAAI;IACvB,IAAIA,GAAG,EAAE;MACPf,OAAO,CAACgB,KAAK,CAACD,GAAG,CAACE,KAAK,CAAC;IAC1B;IACAR,OAAO,CAACS,IAAI,CAAC,CAAC,CAAC;EACjB,CAAC,CAAC;AACJ;AAAC,IAAAC,QAAA,GAEc1B,GAAG;AAAA2B,OAAA,CAAAvB,OAAA,GAAAsB,QAAA"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/prebuild.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = prebuild;\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _runBashScript = _interopRequireDefault(require(\"./tools/runBashScript\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * User: abhinavsingi\n * Date: 04/02/19\n * Time: 7:55 PM\n * Desc:\n */\n\nconst ENVIRONMENT_INPUT = _path.default.resolve(process.cwd(), '.env.production');\nconst ENVIRONMENT_OUTPUT = _path.default.join(process.cwd(), '.env.production.local');\nasync function buildPackages() {\n  return (0, _runBashScript.default)('sh internals/build/build-packages.sh');\n}\nfunction generateEnvOutput() {\n  const content = _fs.default.readFileSync(ENVIRONMENT_INPUT, 'utf8');\n  const envOverrides = _fs.default.readFileSync(ENVIRONMENT_OUTPUT, {\n    encoding: 'utf8',\n    flag: 'w+'\n  });\n  _fs.default.writeFileSync(ENVIRONMENT_OUTPUT, `${content}\\n${envOverrides}`, 'utf8');\n}\nasync function prebuild() {\n  await buildPackages();\n  generateEnvOutput();\n  require('react-scripts/config/env');\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXRoIiwiX3J1bkJhc2hTY3JpcHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkVOVklST05NRU5UX0lOUFVUIiwicGF0aCIsInJlc29sdmUiLCJwcm9jZXNzIiwiY3dkIiwiRU5WSVJPTk1FTlRfT1VUUFVUIiwiam9pbiIsImJ1aWxkUGFja2FnZXMiLCJzaCIsImdlbmVyYXRlRW52T3V0cHV0IiwiY29udGVudCIsImZzIiwicmVhZEZpbGVTeW5jIiwiZW52T3ZlcnJpZGVzIiwiZW5jb2RpbmciLCJmbGFnIiwid3JpdGVGaWxlU3luYyIsInByZWJ1aWxkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC8iLCJzb3VyY2VzIjpbInByZWJ1aWxkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXNlcjogYWJoaW5hdnNpbmdpXG4gKiBEYXRlOiAwNC8wMi8xOVxuICogVGltZTogNzo1NSBQTVxuICogRGVzYzpcbiAqL1xuXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgc2ggZnJvbSAnLi90b29scy9ydW5CYXNoU2NyaXB0JztcblxuY29uc3QgRU5WSVJPTk1FTlRfSU5QVVQgPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgJy5lbnYucHJvZHVjdGlvbicpO1xuY29uc3QgRU5WSVJPTk1FTlRfT1VUUFVUID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICcuZW52LnByb2R1Y3Rpb24ubG9jYWwnKTtcblxuYXN5bmMgZnVuY3Rpb24gYnVpbGRQYWNrYWdlcygpIHtcbiAgcmV0dXJuIHNoKCdzaCBpbnRlcm5hbHMvYnVpbGQvYnVpbGQtcGFja2FnZXMuc2gnKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVFbnZPdXRwdXQoKSB7XG4gIGNvbnN0IGNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoRU5WSVJPTk1FTlRfSU5QVVQsICd1dGY4Jyk7XG4gIGNvbnN0IGVudk92ZXJyaWRlcyA9IGZzLnJlYWRGaWxlU3luYyhFTlZJUk9OTUVOVF9PVVRQVVQsIHsgZW5jb2Rpbmc6ICd1dGY4JywgZmxhZzogJ3crJyB9KTtcbiAgZnMud3JpdGVGaWxlU3luYyhFTlZJUk9OTUVOVF9PVVRQVVQsIGAke2NvbnRlbnR9XFxuJHtlbnZPdmVycmlkZXN9YCwgJ3V0ZjgnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gcHJlYnVpbGQoKSB7XG4gIGF3YWl0IGJ1aWxkUGFja2FnZXMoKTtcbiAgZ2VuZXJhdGVFbnZPdXRwdXQoKTtcblxuICByZXF1aXJlKCdyZWFjdC1zY3JpcHRzL2NvbmZpZy9lbnYnKTtcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQU9BLElBQUFBLEdBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLGNBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUF1QyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQVR2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBTUEsTUFBTUcsaUJBQWlCLEdBQUdDLGFBQUksQ0FBQ0MsT0FBTyxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsaUJBQWlCLENBQUM7QUFDeEUsTUFBTUMsa0JBQWtCLEdBQUdKLGFBQUksQ0FBQ0ssSUFBSSxDQUFDSCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsdUJBQXVCLENBQUM7QUFFNUUsZUFBZUcsYUFBYUEsQ0FBQSxFQUFHO0VBQzdCLE9BQU8sSUFBQUMsc0JBQUUsRUFBQyxzQ0FBc0MsQ0FBQztBQUNuRDtBQUVBLFNBQVNDLGlCQUFpQkEsQ0FBQSxFQUFHO0VBQzNCLE1BQU1DLE9BQU8sR0FBR0MsV0FBRSxDQUFDQyxZQUFZLENBQUNaLGlCQUFpQixFQUFFLE1BQU0sQ0FBQztFQUMxRCxNQUFNYSxZQUFZLEdBQUdGLFdBQUUsQ0FBQ0MsWUFBWSxDQUFDUCxrQkFBa0IsRUFBRTtJQUFFUyxRQUFRLEVBQUUsTUFBTTtJQUFFQyxJQUFJLEVBQUU7RUFBSyxDQUFDLENBQUM7RUFDMUZKLFdBQUUsQ0FBQ0ssYUFBYSxDQUFDWCxrQkFBa0IsRUFBRyxHQUFFSyxPQUFRLEtBQUlHLFlBQWEsRUFBQyxFQUFFLE1BQU0sQ0FBQztBQUM3RTtBQUVlLGVBQWVJLFFBQVFBLENBQUEsRUFBRztFQUN2QyxNQUFNVixhQUFhLENBQUMsQ0FBQztFQUNyQkUsaUJBQWlCLENBQUMsQ0FBQztFQUVuQmYsT0FBTyxDQUFDLDBCQUEwQixDQUFDO0FBQ3JDIn0=","map":{"version":3,"names":["_fs","_interopRequireDefault","require","_path","_runBashScript","obj","__esModule","default","ENVIRONMENT_INPUT","path","resolve","process","cwd","ENVIRONMENT_OUTPUT","join","buildPackages","sh","generateEnvOutput","content","fs","readFileSync","envOverrides","encoding","flag","writeFileSync","prebuild"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/","sources":["prebuild.js"],"sourcesContent":["/**\n * User: abhinavsingi\n * Date: 04/02/19\n * Time: 7:55 PM\n * Desc:\n */\n\nimport fs from 'fs';\nimport path from 'path';\nimport sh from './tools/runBashScript';\n\nconst ENVIRONMENT_INPUT = path.resolve(process.cwd(), '.env.production');\nconst ENVIRONMENT_OUTPUT = path.join(process.cwd(), '.env.production.local');\n\nasync function buildPackages() {\n  return sh('sh internals/build/build-packages.sh');\n}\n\nfunction generateEnvOutput() {\n  const content = fs.readFileSync(ENVIRONMENT_INPUT, 'utf8');\n  const envOverrides = fs.readFileSync(ENVIRONMENT_OUTPUT, { encoding: 'utf8', flag: 'w+' });\n  fs.writeFileSync(ENVIRONMENT_OUTPUT, `${content}\\n${envOverrides}`, 'utf8');\n}\n\nexport default async function prebuild() {\n  await buildPackages();\n  generateEnvOutput();\n\n  require('react-scripts/config/env');\n}"],"mappings":";;;;;;AAOA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,cAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AATvC;AACA;AACA;AACA;AACA;AACA;;AAMA,MAAMG,iBAAiB,GAAGC,aAAI,CAACC,OAAO,CAACC,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,iBAAiB,CAAC;AACxE,MAAMC,kBAAkB,GAAGJ,aAAI,CAACK,IAAI,CAACH,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,uBAAuB,CAAC;AAE5E,eAAeG,aAAaA,CAAA,EAAG;EAC7B,OAAO,IAAAC,sBAAE,EAAC,sCAAsC,CAAC;AACnD;AAEA,SAASC,iBAAiBA,CAAA,EAAG;EAC3B,MAAMC,OAAO,GAAGC,WAAE,CAACC,YAAY,CAACZ,iBAAiB,EAAE,MAAM,CAAC;EAC1D,MAAMa,YAAY,GAAGF,WAAE,CAACC,YAAY,CAACP,kBAAkB,EAAE;IAAES,QAAQ,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAK,CAAC,CAAC;EAC1FJ,WAAE,CAACK,aAAa,CAACX,kBAAkB,EAAG,GAAEK,OAAQ,KAAIG,YAAa,EAAC,EAAE,MAAM,CAAC;AAC7E;AAEe,eAAeI,QAAQA,CAAA,EAAG;EACvC,MAAMV,aAAa,CAAC,CAAC;EACrBE,iBAAiB,CAAC,CAAC;EAEnBf,OAAO,CAAC,0BAA0B,CAAC;AACrC"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/runBashScript.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _child_process = require(\"child_process\");\nfunction format(time) {\n  return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\n\n/**\n * Execute simple shell command (async wrapper).\n * @param {String} cmd\n * @return {Object} { stdout: String, stderr: String }\n */\nasync function sh(cmd) {\n  return new Promise(function (resolve, reject) {\n    const start = new Date();\n    console.log(`[${format(start)}] Starting '${cmd}'...`);\n    (0, _child_process.exec)(cmd, (err, stdout, stderr) => {\n      const end = new Date();\n      const time = end.getTime() - start.getTime();\n      if (err) {\n        console.error(`[${format(end)}] Error in '${cmd}' -`);\n        console.error(err);\n        reject(err);\n      } else {\n        console.log(`[${format(end)}] Finished '${cmd}' after ${time} ms`);\n        if (stdout) console.log(stdout);\n        if (stderr) console.error(stderr);\n        resolve(stdout);\n      }\n    });\n  });\n}\nvar _default = sh;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2hpbGRfcHJvY2VzcyIsInJlcXVpcmUiLCJmb3JtYXQiLCJ0aW1lIiwidG9UaW1lU3RyaW5nIiwicmVwbGFjZSIsInNoIiwiY21kIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzdGFydCIsIkRhdGUiLCJjb25zb2xlIiwibG9nIiwiZXhlYyIsImVyciIsInN0ZG91dCIsInN0ZGVyciIsImVuZCIsImdldFRpbWUiLCJlcnJvciIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9oYXJzaC5nb3lhbC9EZXNrdG9wL2NvbnZlcnQtc3ByaW5rbHItYXBwLXZpdGUvc3ByLW1lc3Nlbmdlci1jbGllbnQtdml0ZS9wYWNrYWdlcy93ZWIvaW50ZXJuYWxzL2J1aWxkL3Rvb2xzLyIsInNvdXJjZXMiOlsicnVuQmFzaFNjcmlwdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleGVjIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5cbmZ1bmN0aW9uIGZvcm1hdCh0aW1lKSB7XG4gIHJldHVybiB0aW1lLnRvVGltZVN0cmluZygpLnJlcGxhY2UoLy4qKFxcZHsyfTpcXGR7Mn06XFxkezJ9KS4qLywgJyQxJyk7XG59XG5cbi8qKlxuICogRXhlY3V0ZSBzaW1wbGUgc2hlbGwgY29tbWFuZCAoYXN5bmMgd3JhcHBlcikuXG4gKiBAcGFyYW0ge1N0cmluZ30gY21kXG4gKiBAcmV0dXJuIHtPYmplY3R9IHsgc3Rkb3V0OiBTdHJpbmcsIHN0ZGVycjogU3RyaW5nIH1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2goY21kKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnNvbGUubG9nKGBbJHtmb3JtYXQoc3RhcnQpfV0gU3RhcnRpbmcgJyR7Y21kfScuLi5gKTtcbiAgICBleGVjKGNtZCwgKGVyciwgc3Rkb3V0LCBzdGRlcnIpID0+IHtcbiAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7XG4gICAgICBjb25zdCB0aW1lID0gZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKTtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgWyR7Zm9ybWF0KGVuZCl9XSBFcnJvciBpbiAnJHtjbWR9JyAtYCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhgWyR7Zm9ybWF0KGVuZCl9XSBGaW5pc2hlZCAnJHtjbWR9JyBhZnRlciAke3RpbWV9IG1zYCk7XG4gICAgICAgIGlmKHN0ZG91dCkgY29uc29sZS5sb2coc3Rkb3V0KTtcbiAgICAgICAgaWYoc3RkZXJyKSBjb25zb2xlLmVycm9yKHN0ZGVycik7XG4gICAgICAgIHJlc29sdmUoc3Rkb3V0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNoO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxjQUFBLEdBQUFDLE9BQUE7QUFFQSxTQUFTQyxNQUFNQSxDQUFDQyxJQUFJLEVBQUU7RUFDcEIsT0FBT0EsSUFBSSxDQUFDQyxZQUFZLENBQUMsQ0FBQyxDQUFDQyxPQUFPLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDO0FBQ3JFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlQyxFQUFFQSxDQUFDQyxHQUFHLEVBQUU7RUFDckIsT0FBTyxJQUFJQyxPQUFPLENBQUMsVUFBVUMsT0FBTyxFQUFFQyxNQUFNLEVBQUU7SUFDNUMsTUFBTUMsS0FBSyxHQUFHLElBQUlDLElBQUksQ0FBQyxDQUFDO0lBQ3hCQyxPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHWixNQUFNLENBQUNTLEtBQUssQ0FBRSxlQUFjSixHQUFJLE1BQUssQ0FBQztJQUN0RCxJQUFBUSxtQkFBSSxFQUFDUixHQUFHLEVBQUUsQ0FBQ1MsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sS0FBSztNQUNqQyxNQUFNQyxHQUFHLEdBQUcsSUFBSVAsSUFBSSxDQUFDLENBQUM7TUFDdEIsTUFBTVQsSUFBSSxHQUFHZ0IsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQyxHQUFHVCxLQUFLLENBQUNTLE9BQU8sQ0FBQyxDQUFDO01BQzVDLElBQUlKLEdBQUcsRUFBRTtRQUNQSCxPQUFPLENBQUNRLEtBQUssQ0FBRSxJQUFHbkIsTUFBTSxDQUFDaUIsR0FBRyxDQUFFLGVBQWNaLEdBQUksS0FBSSxDQUFDO1FBQ3JETSxPQUFPLENBQUNRLEtBQUssQ0FBQ0wsR0FBRyxDQUFDO1FBQ2xCTixNQUFNLENBQUNNLEdBQUcsQ0FBQztNQUNiLENBQUMsTUFBTTtRQUNMSCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHWixNQUFNLENBQUNpQixHQUFHLENBQUUsZUFBY1osR0FBSSxXQUFVSixJQUFLLEtBQUksQ0FBQztRQUNsRSxJQUFHYyxNQUFNLEVBQUVKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxNQUFNLENBQUM7UUFDOUIsSUFBR0MsTUFBTSxFQUFFTCxPQUFPLENBQUNRLEtBQUssQ0FBQ0gsTUFBTSxDQUFDO1FBQ2hDVCxPQUFPLENBQUNRLE1BQU0sQ0FBQztNQUNqQjtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKO0FBQUMsSUFBQUssUUFBQSxHQUVjaEIsRUFBRTtBQUFBaUIsT0FBQSxDQUFBQyxPQUFBLEdBQUFGLFFBQUEifQ==","map":{"version":3,"names":["_child_process","require","format","time","toTimeString","replace","sh","cmd","Promise","resolve","reject","start","Date","console","log","exec","err","stdout","stderr","end","getTime","error","_default","exports","default"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/","sources":["runBashScript.js"],"sourcesContent":["import { exec } from 'child_process';\n\nfunction format(time) {\n  return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\n\n/**\n * Execute simple shell command (async wrapper).\n * @param {String} cmd\n * @return {Object} { stdout: String, stderr: String }\n */\nasync function sh(cmd) {\n  return new Promise(function (resolve, reject) {\n    const start = new Date();\n    console.log(`[${format(start)}] Starting '${cmd}'...`);\n    exec(cmd, (err, stdout, stderr) => {\n      const end = new Date();\n      const time = end.getTime() - start.getTime();\n      if (err) {\n        console.error(`[${format(end)}] Error in '${cmd}' -`);\n        console.error(err);\n        reject(err);\n      } else {\n        console.log(`[${format(end)}] Finished '${cmd}' after ${time} ms`);\n        if(stdout) console.log(stdout);\n        if(stderr) console.error(stderr);\n        resolve(stdout);\n      }\n    });\n  });\n}\n\nexport default sh;\n"],"mappings":";;;;;;AAAA,IAAAA,cAAA,GAAAC,OAAA;AAEA,SAASC,MAAMA,CAACC,IAAI,EAAE;EACpB,OAAOA,IAAI,CAACC,YAAY,CAAC,CAAC,CAACC,OAAO,CAAC,yBAAyB,EAAE,IAAI,CAAC;AACrE;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAeC,EAAEA,CAACC,GAAG,EAAE;EACrB,OAAO,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAEC,MAAM,EAAE;IAC5C,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC;IACxBC,OAAO,CAACC,GAAG,CAAE,IAAGZ,MAAM,CAACS,KAAK,CAAE,eAAcJ,GAAI,MAAK,CAAC;IACtD,IAAAQ,mBAAI,EAACR,GAAG,EAAE,CAACS,GAAG,EAAEC,MAAM,EAAEC,MAAM,KAAK;MACjC,MAAMC,GAAG,GAAG,IAAIP,IAAI,CAAC,CAAC;MACtB,MAAMT,IAAI,GAAGgB,GAAG,CAACC,OAAO,CAAC,CAAC,GAAGT,KAAK,CAACS,OAAO,CAAC,CAAC;MAC5C,IAAIJ,GAAG,EAAE;QACPH,OAAO,CAACQ,KAAK,CAAE,IAAGnB,MAAM,CAACiB,GAAG,CAAE,eAAcZ,GAAI,KAAI,CAAC;QACrDM,OAAO,CAACQ,KAAK,CAACL,GAAG,CAAC;QAClBN,MAAM,CAACM,GAAG,CAAC;MACb,CAAC,MAAM;QACLH,OAAO,CAACC,GAAG,CAAE,IAAGZ,MAAM,CAACiB,GAAG,CAAE,eAAcZ,GAAI,WAAUJ,IAAK,KAAI,CAAC;QAClE,IAAGc,MAAM,EAAEJ,OAAO,CAACC,GAAG,CAACG,MAAM,CAAC;QAC9B,IAAGC,MAAM,EAAEL,OAAO,CAACQ,KAAK,CAACH,MAAM,CAAC;QAChCT,OAAO,CAACQ,MAAM,CAAC;MACjB;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAAC,IAAAK,QAAA,GAEchB,EAAE;AAAAiB,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/prebuild.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = prebuild;\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _runBashScript = _interopRequireDefault(require(\"./tools/runBashScript\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * User: abhinavsingi\n * Date: 04/02/19\n * Time: 7:55 PM\n * Desc:\n */\n\nconst ENVIRONMENT_INPUT = _path.default.resolve(process.cwd(), '.env.production');\nconst ENVIRONMENT_OUTPUT = _path.default.join(process.cwd(), '.env.production.local');\nasync function buildPackages() {\n  return (0, _runBashScript.default)('sh internals/build/build-packages.sh');\n}\nfunction generateEnvOutput() {\n  const content = _fs.default.readFileSync(ENVIRONMENT_INPUT, 'utf8');\n  const envOverrides = _fs.default.readFileSync(ENVIRONMENT_OUTPUT, {\n    encoding: 'utf8',\n    flag: 'w+'\n  });\n  _fs.default.writeFileSync(ENVIRONMENT_OUTPUT, `${content}\\n${envOverrides}`, 'utf8');\n}\nasync function prebuild() {\n  await buildPackages();\n  generateEnvOutput();\n  require('react-scripts/config/env');\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXRoIiwiX3J1bkJhc2hTY3JpcHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkVOVklST05NRU5UX0lOUFVUIiwicGF0aCIsInJlc29sdmUiLCJwcm9jZXNzIiwiY3dkIiwiRU5WSVJPTk1FTlRfT1VUUFVUIiwiam9pbiIsImJ1aWxkUGFja2FnZXMiLCJzaCIsImdlbmVyYXRlRW52T3V0cHV0IiwiY29udGVudCIsImZzIiwicmVhZEZpbGVTeW5jIiwiZW52T3ZlcnJpZGVzIiwiZW5jb2RpbmciLCJmbGFnIiwid3JpdGVGaWxlU3luYyIsInByZWJ1aWxkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC8iLCJzb3VyY2VzIjpbInByZWJ1aWxkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXNlcjogYWJoaW5hdnNpbmdpXG4gKiBEYXRlOiAwNC8wMi8xOVxuICogVGltZTogNzo1NSBQTVxuICogRGVzYzpcbiAqL1xuXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgc2ggZnJvbSAnLi90b29scy9ydW5CYXNoU2NyaXB0JztcblxuY29uc3QgRU5WSVJPTk1FTlRfSU5QVVQgPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgJy5lbnYucHJvZHVjdGlvbicpO1xuY29uc3QgRU5WSVJPTk1FTlRfT1VUUFVUID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICcuZW52LnByb2R1Y3Rpb24ubG9jYWwnKTtcblxuYXN5bmMgZnVuY3Rpb24gYnVpbGRQYWNrYWdlcygpIHtcbiAgcmV0dXJuIHNoKCdzaCBpbnRlcm5hbHMvYnVpbGQvYnVpbGQtcGFja2FnZXMuc2gnKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVFbnZPdXRwdXQoKSB7XG4gIGNvbnN0IGNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoRU5WSVJPTk1FTlRfSU5QVVQsICd1dGY4Jyk7XG4gIGNvbnN0IGVudk92ZXJyaWRlcyA9IGZzLnJlYWRGaWxlU3luYyhFTlZJUk9OTUVOVF9PVVRQVVQsIHsgZW5jb2Rpbmc6ICd1dGY4JywgZmxhZzogJ3crJyB9KTtcbiAgZnMud3JpdGVGaWxlU3luYyhFTlZJUk9OTUVOVF9PVVRQVVQsIGAke2NvbnRlbnR9XFxuJHtlbnZPdmVycmlkZXN9YCwgJ3V0ZjgnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gcHJlYnVpbGQoKSB7XG4gIGF3YWl0IGJ1aWxkUGFja2FnZXMoKTtcbiAgZ2VuZXJhdGVFbnZPdXRwdXQoKTtcblxuICByZXF1aXJlKCdyZWFjdC1zY3JpcHRzL2NvbmZpZy9lbnYnKTtcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQU9BLElBQUFBLEdBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLGNBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUF1QyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQVR2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBTUEsTUFBTUcsaUJBQWlCLEdBQUdDLGFBQUksQ0FBQ0MsT0FBTyxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsaUJBQWlCLENBQUM7QUFDeEUsTUFBTUMsa0JBQWtCLEdBQUdKLGFBQUksQ0FBQ0ssSUFBSSxDQUFDSCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsdUJBQXVCLENBQUM7QUFFNUUsZUFBZUcsYUFBYUEsQ0FBQSxFQUFHO0VBQzdCLE9BQU8sSUFBQUMsc0JBQUUsRUFBQyxzQ0FBc0MsQ0FBQztBQUNuRDtBQUVBLFNBQVNDLGlCQUFpQkEsQ0FBQSxFQUFHO0VBQzNCLE1BQU1DLE9BQU8sR0FBR0MsV0FBRSxDQUFDQyxZQUFZLENBQUNaLGlCQUFpQixFQUFFLE1BQU0sQ0FBQztFQUMxRCxNQUFNYSxZQUFZLEdBQUdGLFdBQUUsQ0FBQ0MsWUFBWSxDQUFDUCxrQkFBa0IsRUFBRTtJQUFFUyxRQUFRLEVBQUUsTUFBTTtJQUFFQyxJQUFJLEVBQUU7RUFBSyxDQUFDLENBQUM7RUFDMUZKLFdBQUUsQ0FBQ0ssYUFBYSxDQUFDWCxrQkFBa0IsRUFBRyxHQUFFSyxPQUFRLEtBQUlHLFlBQWEsRUFBQyxFQUFFLE1BQU0sQ0FBQztBQUM3RTtBQUVlLGVBQWVJLFFBQVFBLENBQUEsRUFBRztFQUN2QyxNQUFNVixhQUFhLENBQUMsQ0FBQztFQUNyQkUsaUJBQWlCLENBQUMsQ0FBQztFQUVuQmYsT0FBTyxDQUFDLDBCQUEwQixDQUFDO0FBQ3JDIn0=","map":{"version":3,"names":["_fs","_interopRequireDefault","require","_path","_runBashScript","obj","__esModule","default","ENVIRONMENT_INPUT","path","resolve","process","cwd","ENVIRONMENT_OUTPUT","join","buildPackages","sh","generateEnvOutput","content","fs","readFileSync","envOverrides","encoding","flag","writeFileSync","prebuild"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/","sources":["prebuild.js"],"sourcesContent":["/**\n * User: abhinavsingi\n * Date: 04/02/19\n * Time: 7:55 PM\n * Desc:\n */\n\nimport fs from 'fs';\nimport path from 'path';\nimport sh from './tools/runBashScript';\n\nconst ENVIRONMENT_INPUT = path.resolve(process.cwd(), '.env.production');\nconst ENVIRONMENT_OUTPUT = path.join(process.cwd(), '.env.production.local');\n\nasync function buildPackages() {\n  return sh('sh internals/build/build-packages.sh');\n}\n\nfunction generateEnvOutput() {\n  const content = fs.readFileSync(ENVIRONMENT_INPUT, 'utf8');\n  const envOverrides = fs.readFileSync(ENVIRONMENT_OUTPUT, { encoding: 'utf8', flag: 'w+' });\n  fs.writeFileSync(ENVIRONMENT_OUTPUT, `${content}\\n${envOverrides}`, 'utf8');\n}\n\nexport default async function prebuild() {\n  await buildPackages();\n  generateEnvOutput();\n\n  require('react-scripts/config/env');\n}"],"mappings":";;;;;;AAOA,IAAAA,GAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,cAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AATvC;AACA;AACA;AACA;AACA;AACA;;AAMA,MAAMG,iBAAiB,GAAGC,aAAI,CAACC,OAAO,CAACC,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,iBAAiB,CAAC;AACxE,MAAMC,kBAAkB,GAAGJ,aAAI,CAACK,IAAI,CAACH,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,uBAAuB,CAAC;AAE5E,eAAeG,aAAaA,CAAA,EAAG;EAC7B,OAAO,IAAAC,sBAAE,EAAC,sCAAsC,CAAC;AACnD;AAEA,SAASC,iBAAiBA,CAAA,EAAG;EAC3B,MAAMC,OAAO,GAAGC,WAAE,CAACC,YAAY,CAACZ,iBAAiB,EAAE,MAAM,CAAC;EAC1D,MAAMa,YAAY,GAAGF,WAAE,CAACC,YAAY,CAACP,kBAAkB,EAAE;IAAES,QAAQ,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAK,CAAC,CAAC;EAC1FJ,WAAE,CAACK,aAAa,CAACX,kBAAkB,EAAG,GAAEK,OAAQ,KAAIG,YAAa,EAAC,EAAE,MAAM,CAAC;AAC7E;AAEe,eAAeI,QAAQA,CAAA,EAAG;EACvC,MAAMV,aAAa,CAAC,CAAC;EACrBE,iBAAiB,CAAC,CAAC;EAEnBf,OAAO,CAAC,0BAA0B,CAAC;AACrC"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/runBashScript.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _child_process = require(\"child_process\");\nfunction format(time) {\n  return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\n\n/**\n * Execute simple shell command (async wrapper).\n * @param {String} cmd\n * @return {Object} { stdout: String, stderr: String }\n */\nasync function sh(cmd) {\n  return new Promise(function (resolve, reject) {\n    const start = new Date();\n    console.log(`[${format(start)}] Starting '${cmd}'...`);\n    (0, _child_process.exec)(cmd, (err, stdout, stderr) => {\n      const end = new Date();\n      const time = end.getTime() - start.getTime();\n      if (err) {\n        console.error(`[${format(end)}] Error in '${cmd}' -`);\n        console.error(err);\n        reject(err);\n      } else {\n        console.log(`[${format(end)}] Finished '${cmd}' after ${time} ms`);\n        if (stdout) console.log(stdout);\n        if (stderr) console.error(stderr);\n        resolve(stdout);\n      }\n    });\n  });\n}\nvar _default = sh;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2hpbGRfcHJvY2VzcyIsInJlcXVpcmUiLCJmb3JtYXQiLCJ0aW1lIiwidG9UaW1lU3RyaW5nIiwicmVwbGFjZSIsInNoIiwiY21kIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzdGFydCIsIkRhdGUiLCJjb25zb2xlIiwibG9nIiwiZXhlYyIsImVyciIsInN0ZG91dCIsInN0ZGVyciIsImVuZCIsImdldFRpbWUiLCJlcnJvciIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9oYXJzaC5nb3lhbC9EZXNrdG9wL2NvbnZlcnQtc3ByaW5rbHItYXBwLXZpdGUvc3ByLW1lc3Nlbmdlci1jbGllbnQtdml0ZS9wYWNrYWdlcy93ZWIvaW50ZXJuYWxzL2J1aWxkL3Rvb2xzLyIsInNvdXJjZXMiOlsicnVuQmFzaFNjcmlwdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleGVjIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5cbmZ1bmN0aW9uIGZvcm1hdCh0aW1lKSB7XG4gIHJldHVybiB0aW1lLnRvVGltZVN0cmluZygpLnJlcGxhY2UoLy4qKFxcZHsyfTpcXGR7Mn06XFxkezJ9KS4qLywgJyQxJyk7XG59XG5cbi8qKlxuICogRXhlY3V0ZSBzaW1wbGUgc2hlbGwgY29tbWFuZCAoYXN5bmMgd3JhcHBlcikuXG4gKiBAcGFyYW0ge1N0cmluZ30gY21kXG4gKiBAcmV0dXJuIHtPYmplY3R9IHsgc3Rkb3V0OiBTdHJpbmcsIHN0ZGVycjogU3RyaW5nIH1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2goY21kKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnNvbGUubG9nKGBbJHtmb3JtYXQoc3RhcnQpfV0gU3RhcnRpbmcgJyR7Y21kfScuLi5gKTtcbiAgICBleGVjKGNtZCwgKGVyciwgc3Rkb3V0LCBzdGRlcnIpID0+IHtcbiAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7XG4gICAgICBjb25zdCB0aW1lID0gZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKTtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgWyR7Zm9ybWF0KGVuZCl9XSBFcnJvciBpbiAnJHtjbWR9JyAtYCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhgWyR7Zm9ybWF0KGVuZCl9XSBGaW5pc2hlZCAnJHtjbWR9JyBhZnRlciAke3RpbWV9IG1zYCk7XG4gICAgICAgIGlmKHN0ZG91dCkgY29uc29sZS5sb2coc3Rkb3V0KTtcbiAgICAgICAgaWYoc3RkZXJyKSBjb25zb2xlLmVycm9yKHN0ZGVycik7XG4gICAgICAgIHJlc29sdmUoc3Rkb3V0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNoO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxjQUFBLEdBQUFDLE9BQUE7QUFFQSxTQUFTQyxNQUFNQSxDQUFDQyxJQUFJLEVBQUU7RUFDcEIsT0FBT0EsSUFBSSxDQUFDQyxZQUFZLENBQUMsQ0FBQyxDQUFDQyxPQUFPLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDO0FBQ3JFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlQyxFQUFFQSxDQUFDQyxHQUFHLEVBQUU7RUFDckIsT0FBTyxJQUFJQyxPQUFPLENBQUMsVUFBVUMsT0FBTyxFQUFFQyxNQUFNLEVBQUU7SUFDNUMsTUFBTUMsS0FBSyxHQUFHLElBQUlDLElBQUksQ0FBQyxDQUFDO0lBQ3hCQyxPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHWixNQUFNLENBQUNTLEtBQUssQ0FBRSxlQUFjSixHQUFJLE1BQUssQ0FBQztJQUN0RCxJQUFBUSxtQkFBSSxFQUFDUixHQUFHLEVBQUUsQ0FBQ1MsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sS0FBSztNQUNqQyxNQUFNQyxHQUFHLEdBQUcsSUFBSVAsSUFBSSxDQUFDLENBQUM7TUFDdEIsTUFBTVQsSUFBSSxHQUFHZ0IsR0FBRyxDQUFDQyxPQUFPLENBQUMsQ0FBQyxHQUFHVCxLQUFLLENBQUNTLE9BQU8sQ0FBQyxDQUFDO01BQzVDLElBQUlKLEdBQUcsRUFBRTtRQUNQSCxPQUFPLENBQUNRLEtBQUssQ0FBRSxJQUFHbkIsTUFBTSxDQUFDaUIsR0FBRyxDQUFFLGVBQWNaLEdBQUksS0FBSSxDQUFDO1FBQ3JETSxPQUFPLENBQUNRLEtBQUssQ0FBQ0wsR0FBRyxDQUFDO1FBQ2xCTixNQUFNLENBQUNNLEdBQUcsQ0FBQztNQUNiLENBQUMsTUFBTTtRQUNMSCxPQUFPLENBQUNDLEdBQUcsQ0FBRSxJQUFHWixNQUFNLENBQUNpQixHQUFHLENBQUUsZUFBY1osR0FBSSxXQUFVSixJQUFLLEtBQUksQ0FBQztRQUNsRSxJQUFHYyxNQUFNLEVBQUVKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxNQUFNLENBQUM7UUFDOUIsSUFBR0MsTUFBTSxFQUFFTCxPQUFPLENBQUNRLEtBQUssQ0FBQ0gsTUFBTSxDQUFDO1FBQ2hDVCxPQUFPLENBQUNRLE1BQU0sQ0FBQztNQUNqQjtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKO0FBQUMsSUFBQUssUUFBQSxHQUVjaEIsRUFBRTtBQUFBaUIsT0FBQSxDQUFBQyxPQUFBLEdBQUFGLFFBQUEifQ==","map":{"version":3,"names":["_child_process","require","format","time","toTimeString","replace","sh","cmd","Promise","resolve","reject","start","Date","console","log","exec","err","stdout","stderr","end","getTime","error","_default","exports","default"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/","sources":["runBashScript.js"],"sourcesContent":["import { exec } from 'child_process';\n\nfunction format(time) {\n  return time.toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, '$1');\n}\n\n/**\n * Execute simple shell command (async wrapper).\n * @param {String} cmd\n * @return {Object} { stdout: String, stderr: String }\n */\nasync function sh(cmd) {\n  return new Promise(function (resolve, reject) {\n    const start = new Date();\n    console.log(`[${format(start)}] Starting '${cmd}'...`);\n    exec(cmd, (err, stdout, stderr) => {\n      const end = new Date();\n      const time = end.getTime() - start.getTime();\n      if (err) {\n        console.error(`[${format(end)}] Error in '${cmd}' -`);\n        console.error(err);\n        reject(err);\n      } else {\n        console.log(`[${format(end)}] Finished '${cmd}' after ${time} ms`);\n        if(stdout) console.log(stdout);\n        if(stderr) console.error(stderr);\n        resolve(stdout);\n      }\n    });\n  });\n}\n\nexport default sh;\n"],"mappings":";;;;;;AAAA,IAAAA,cAAA,GAAAC,OAAA;AAEA,SAASC,MAAMA,CAACC,IAAI,EAAE;EACpB,OAAOA,IAAI,CAACC,YAAY,CAAC,CAAC,CAACC,OAAO,CAAC,yBAAyB,EAAE,IAAI,CAAC;AACrE;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAeC,EAAEA,CAACC,GAAG,EAAE;EACrB,OAAO,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAEC,MAAM,EAAE;IAC5C,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC;IACxBC,OAAO,CAACC,GAAG,CAAE,IAAGZ,MAAM,CAACS,KAAK,CAAE,eAAcJ,GAAI,MAAK,CAAC;IACtD,IAAAQ,mBAAI,EAACR,GAAG,EAAE,CAACS,GAAG,EAAEC,MAAM,EAAEC,MAAM,KAAK;MACjC,MAAMC,GAAG,GAAG,IAAIP,IAAI,CAAC,CAAC;MACtB,MAAMT,IAAI,GAAGgB,GAAG,CAACC,OAAO,CAAC,CAAC,GAAGT,KAAK,CAACS,OAAO,CAAC,CAAC;MAC5C,IAAIJ,GAAG,EAAE;QACPH,OAAO,CAACQ,KAAK,CAAE,IAAGnB,MAAM,CAACiB,GAAG,CAAE,eAAcZ,GAAI,KAAI,CAAC;QACrDM,OAAO,CAACQ,KAAK,CAACL,GAAG,CAAC;QAClBN,MAAM,CAACM,GAAG,CAAC;MACb,CAAC,MAAM;QACLH,OAAO,CAACC,GAAG,CAAE,IAAGZ,MAAM,CAACiB,GAAG,CAAE,eAAcZ,GAAI,WAAUJ,IAAK,KAAI,CAAC;QAClE,IAAGc,MAAM,EAAEJ,OAAO,CAACC,GAAG,CAACG,MAAM,CAAC;QAC9B,IAAGC,MAAM,EAAEL,OAAO,CAACQ,KAAK,CAACH,MAAM,CAAC;QAChCT,OAAO,CAACQ,MAAM,CAAC;MACjB;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAAC,IAAAK,QAAA,GAEchB,EAAE;AAAAiB,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/build.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = build;\nvar _stubTrue2 = _interopRequireDefault(require(\"lodash/stubTrue\"));\nvar _some2 = _interopRequireDefault(require(\"lodash/some\"));\nvar _shortid = _interopRequireDefault(require(\"shortid\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _prepare = _interopRequireDefault(require(\"./prepare\"));\nvar _upload = _interopRequireDefault(require(\"../upload\"));\nvar _compress = _interopRequireDefault(require(\"../compress\"));\nvar _runBashScript = _interopRequireDefault(require(\"../tools/runBashScript\"));\nvar _config = _interopRequireDefault(require(\"./config\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function widget({\n  compression\n}) {\n  await (0, _prepare.default)();\n  if (compression) {\n    await (0, _compress.default)(_config.default.BUILD_DIR, _config.default.COMPRESSED_BUILD_DIR);\n  }\n  const buildUrl = await (0, _upload.default)({\n    dirToUpload: compression ? _config.default.COMPRESSED_BUILD_DIR : _config.default.BUILD_DIR,\n    uploadUrl: 'chat',\n    shouldCacheFile: _stubTrue2.default,\n    compression\n  });\n  const widgetDir = _config.default.BUILD_VERSION_DIR.split(_config.default.BUILD_DIR)[1];\n  return `${buildUrl}${widgetDir}/widget.js`;\n}\nasync function buildAndUpload({\n  compression\n}) {\n  const generateSourceMap = process.env.ENABLE_SOURCEMAP === \"true\";\n  await (0, _runBashScript.default)(`BROWSERSLIST_ENV=\"production-modern\" GENERATE_SOURCEMAP=\"${generateSourceMap}\" craco build && mv build modern-build`);\n  await (0, _runBashScript.default)(`BROWSERSLIST_ENV=\"production-legacy\" GENERATE_SOURCEMAP=\"${generateSourceMap}\" craco build`);\n  return widget({\n    compression\n  });\n}\nasync function buildForTier({\n  url,\n  compression\n}) {\n  console.log(`Using Tier URL: ${url}`);\n  const version = _shortid.default.generate();\n  process.env.VITE_HOST = url;\n  process.env.VITE_VERSION = version;\n  process.env.PUBLIC_URL = process.env.PUBLIC_URL.replace(/([^/]*)$/, version);\n  return buildAndUpload({\n    compression\n  });\n}\nfunction printTiers(tiersBuilt) {\n  console.log('------------ !!!!TIERS!!!! --------------');\n  console.log(JSON.stringify(tiersBuilt));\n  console.log('-----------------------------------------------');\n}\nfunction validateTierNames(tierMap, tierNames) {\n  return (0, _some2.default)(tierNames, tierName => !tierMap.find(tier => tier.tierName === tierName));\n}\nasync function getAppAndTiersToBuild() {\n  const [arg1, arg2] = process.argv.slice(4);\n  const tierMapJson = await (0, _runBashScript.default)(`curl -X POST \"${_config.default.BASE_URL}/livechat/0/fetchAllTierUrls\"`);\n  if (!tierMapJson) {\n    throw new Error(`Tiers for env: ${process.env.HOST_NAME} is not defined`);\n  }\n  const tierMap = JSON.parse(tierMapJson);\n  let appIds, tierNames;\n  if (arg1 && arg1.startsWith('app')) {\n    if (!arg2) {\n      throw new Error('Tier name needs to be provided when building for specific app ids');\n    }\n    const tierNamesPassed = arg2.split(',');\n    if (tierNamesPassed.length > 1) {\n      throw new Error('Only one tier can be built for specific app ids');\n    }\n    appIds = arg1;\n    tierNames = tierNamesPassed;\n  } else if (arg1) {\n    tierNames = arg1.split(',');\n  }\n  if (tierNames) {\n    const isInValidTierNames = validateTierNames(tierMap, tierNames);\n    if (isInValidTierNames) {\n      throw new Error('Incorrect tier names are passed');\n    }\n  }\n  return {\n    appIds,\n    tiers: tierNames ? tierNames.map(tierName => tierMap.find(tier => tier.tierName === tierName)) : tierMap\n  };\n}\nasync function build() {\n  const compression = process.argv[3] === 'compress=true';\n  try {\n    const {\n      appIds,\n      tiers\n    } = await getAppAndTiersToBuild();\n\n    // const tiersBuilt = [];\n    // for (let i = 0; i < tiers.length; i += 1) {\n    // eslint-disable-next-line no-await-in-loop\n    const widgetUrl = await buildForTier({\n      url: \"www.sprinklr.com\",\n      compression\n    });\n    // tiersBuilt.push({ ...tiers[i], appIds, widgetUrl });\n    // }\n\n    printTiers(tiersBuilt);\n    _fs.default.writeFileSync(_config.default.BUILD_INFO, JSON.stringify(tiersBuilt), 'utf8');\n  } catch (err) {\n    console.log(err);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfc3R1YlRydWUyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfc29tZTIiLCJfc2hvcnRpZCIsIl9mcyIsIl9wcmVwYXJlIiwiX3VwbG9hZCIsIl9jb21wcmVzcyIsIl9ydW5CYXNoU2NyaXB0IiwiX2NvbmZpZyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwid2lkZ2V0IiwiY29tcHJlc3Npb24iLCJwcmVwYXJlIiwiY29tcHJlc3MiLCJjb25maWciLCJCVUlMRF9ESVIiLCJDT01QUkVTU0VEX0JVSUxEX0RJUiIsImJ1aWxkVXJsIiwidXBsb2FkIiwiZGlyVG9VcGxvYWQiLCJ1cGxvYWRVcmwiLCJzaG91bGRDYWNoZUZpbGUiLCJfc3R1YlRydWUiLCJ3aWRnZXREaXIiLCJCVUlMRF9WRVJTSU9OX0RJUiIsInNwbGl0IiwiYnVpbGRBbmRVcGxvYWQiLCJnZW5lcmF0ZVNvdXJjZU1hcCIsInByb2Nlc3MiLCJlbnYiLCJFTkFCTEVfU09VUkNFTUFQIiwic2giLCJidWlsZEZvclRpZXIiLCJ1cmwiLCJjb25zb2xlIiwibG9nIiwidmVyc2lvbiIsInNob3J0aWQiLCJnZW5lcmF0ZSIsIlZJVEVfSE9TVCIsIlZJVEVfVkVSU0lPTiIsIlBVQkxJQ19VUkwiLCJyZXBsYWNlIiwicHJpbnRUaWVycyIsInRpZXJzQnVpbHQiLCJKU09OIiwic3RyaW5naWZ5IiwidmFsaWRhdGVUaWVyTmFtZXMiLCJ0aWVyTWFwIiwidGllck5hbWVzIiwiX3NvbWUiLCJ0aWVyTmFtZSIsImZpbmQiLCJ0aWVyIiwiZ2V0QXBwQW5kVGllcnNUb0J1aWxkIiwiYXJnMSIsImFyZzIiLCJhcmd2Iiwic2xpY2UiLCJ0aWVyTWFwSnNvbiIsIkJBU0VfVVJMIiwiRXJyb3IiLCJIT1NUX05BTUUiLCJwYXJzZSIsImFwcElkcyIsInN0YXJ0c1dpdGgiLCJ0aWVyTmFtZXNQYXNzZWQiLCJsZW5ndGgiLCJpc0luVmFsaWRUaWVyTmFtZXMiLCJ0aWVycyIsIm1hcCIsImJ1aWxkIiwid2lkZ2V0VXJsIiwiZnMiLCJ3cml0ZUZpbGVTeW5jIiwiQlVJTERfSU5GTyIsImVyciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2hhcnNoLmdveWFsL0Rlc2t0b3AvY29udmVydC1zcHJpbmtsci1hcHAtdml0ZS9zcHItbWVzc2VuZ2VyLWNsaWVudC12aXRlL3BhY2thZ2VzL3dlYi9pbnRlcm5hbHMvYnVpbGQvd2lkZ2V0LyIsInNvdXJjZXMiOlsiYnVpbGQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9zdHViVHJ1ZSBmcm9tICdsb2Rhc2gvc3R1YlRydWUnO1xuaW1wb3J0IF9zb21lIGZyb20gJ2xvZGFzaC9zb21lJztcbmltcG9ydCBzaG9ydGlkIGZyb20gJ3Nob3J0aWQnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcblxuaW1wb3J0IHByZXBhcmUgZnJvbSAnLi9wcmVwYXJlJztcbmltcG9ydCB1cGxvYWQgZnJvbSAnLi4vdXBsb2FkJztcbmltcG9ydCBjb21wcmVzcyBmcm9tICcuLi9jb21wcmVzcyc7XG5pbXBvcnQgc2ggZnJvbSAnLi4vdG9vbHMvcnVuQmFzaFNjcmlwdCc7XG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuXG5hc3luYyBmdW5jdGlvbiB3aWRnZXQoeyBjb21wcmVzc2lvbiB9KSB7XG4gIGF3YWl0IHByZXBhcmUoKTtcbiAgaWYgKGNvbXByZXNzaW9uKSB7XG4gICAgYXdhaXQgY29tcHJlc3MoY29uZmlnLkJVSUxEX0RJUiwgY29uZmlnLkNPTVBSRVNTRURfQlVJTERfRElSKTtcbiAgfVxuICBjb25zdCBidWlsZFVybCA9IGF3YWl0IHVwbG9hZCh7XG4gICAgZGlyVG9VcGxvYWQ6IGNvbXByZXNzaW9uID8gY29uZmlnLkNPTVBSRVNTRURfQlVJTERfRElSOiBjb25maWcuQlVJTERfRElSLFxuICAgIHVwbG9hZFVybDogJ2NoYXQnLFxuICAgIHNob3VsZENhY2hlRmlsZTogX3N0dWJUcnVlLFxuICAgIGNvbXByZXNzaW9uLFxuICB9KTtcbiAgY29uc3Qgd2lkZ2V0RGlyID0gY29uZmlnLkJVSUxEX1ZFUlNJT05fRElSLnNwbGl0KGNvbmZpZy5CVUlMRF9ESVIpWzFdO1xuICByZXR1cm4gYCR7YnVpbGRVcmx9JHt3aWRnZXREaXJ9L3dpZGdldC5qc2A7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGJ1aWxkQW5kVXBsb2FkKHsgY29tcHJlc3Npb24gfSkge1xuICBjb25zdCBnZW5lcmF0ZVNvdXJjZU1hcCA9IHByb2Nlc3MuZW52LkVOQUJMRV9TT1VSQ0VNQVAgPT09IFwidHJ1ZVwiO1xuICBhd2FpdCBzaChgQlJPV1NFUlNMSVNUX0VOVj1cInByb2R1Y3Rpb24tbW9kZXJuXCIgR0VORVJBVEVfU09VUkNFTUFQPVwiJHtnZW5lcmF0ZVNvdXJjZU1hcH1cIiBjcmFjbyBidWlsZCAmJiBtdiBidWlsZCBtb2Rlcm4tYnVpbGRgKTtcbiAgYXdhaXQgc2goYEJST1dTRVJTTElTVF9FTlY9XCJwcm9kdWN0aW9uLWxlZ2FjeVwiIEdFTkVSQVRFX1NPVVJDRU1BUD1cIiR7Z2VuZXJhdGVTb3VyY2VNYXB9XCIgY3JhY28gYnVpbGRgKTtcbiAgcmV0dXJuIHdpZGdldCh7IGNvbXByZXNzaW9uIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBidWlsZEZvclRpZXIoeyB1cmwsIGNvbXByZXNzaW9uIH0pIHtcbiAgY29uc29sZS5sb2coYFVzaW5nIFRpZXIgVVJMOiAke3VybH1gKTtcbiAgY29uc3QgdmVyc2lvbiA9IHNob3J0aWQuZ2VuZXJhdGUoKTtcbiAgcHJvY2Vzcy5lbnYuVklURV9IT1NUID0gdXJsO1xuICBwcm9jZXNzLmVudi5WSVRFX1ZFUlNJT04gPSB2ZXJzaW9uO1xuICBwcm9jZXNzLmVudi5QVUJMSUNfVVJMID0gcHJvY2Vzcy5lbnYuUFVCTElDX1VSTC5yZXBsYWNlKC8oW14vXSopJC8sIHZlcnNpb24pO1xuICByZXR1cm4gYnVpbGRBbmRVcGxvYWQoeyBjb21wcmVzc2lvbiB9KTtcbn1cblxuZnVuY3Rpb24gcHJpbnRUaWVycyh0aWVyc0J1aWx0KSB7XG4gIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0gISEhIVRJRVJTISEhISAtLS0tLS0tLS0tLS0tLScpO1xuICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aWVyc0J1aWx0KSk7XG4gIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVRpZXJOYW1lcyh0aWVyTWFwLCB0aWVyTmFtZXMpIHtcbiAgcmV0dXJuIF9zb21lKHRpZXJOYW1lcywgdGllck5hbWUgPT4gIXRpZXJNYXAuZmluZCh0aWVyID0+IHRpZXIudGllck5hbWUgPT09IHRpZXJOYW1lKSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFwcEFuZFRpZXJzVG9CdWlsZCgpIHtcbiAgY29uc3QgW2FyZzEsIGFyZzJdID0gcHJvY2Vzcy5hcmd2LnNsaWNlKDQpO1xuICBjb25zdCB0aWVyTWFwSnNvbiA9IGF3YWl0IHNoKGBjdXJsIC1YIFBPU1QgXCIke2NvbmZpZy5CQVNFX1VSTH0vbGl2ZWNoYXQvMC9mZXRjaEFsbFRpZXJVcmxzXCJgKTtcblxuICBpZiAoIXRpZXJNYXBKc29uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaWVycyBmb3IgZW52OiAke3Byb2Nlc3MuZW52LkhPU1RfTkFNRX0gaXMgbm90IGRlZmluZWRgKTtcbiAgfVxuXG4gIGNvbnN0IHRpZXJNYXAgPSBKU09OLnBhcnNlKHRpZXJNYXBKc29uKTtcblxuICBsZXQgYXBwSWRzLCB0aWVyTmFtZXM7XG5cbiAgaWYgKGFyZzEgJiYgYXJnMS5zdGFydHNXaXRoKCdhcHAnKSkge1xuICAgIGlmICghYXJnMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaWVyIG5hbWUgbmVlZHMgdG8gYmUgcHJvdmlkZWQgd2hlbiBidWlsZGluZyBmb3Igc3BlY2lmaWMgYXBwIGlkcycpO1xuICAgIH1cblxuICAgIGNvbnN0IHRpZXJOYW1lc1Bhc3NlZCA9IGFyZzIuc3BsaXQoJywnKTtcblxuICAgIGlmICh0aWVyTmFtZXNQYXNzZWQubGVuZ3RoID4gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG9uZSB0aWVyIGNhbiBiZSBidWlsdCBmb3Igc3BlY2lmaWMgYXBwIGlkcycpO1xuICAgIH1cblxuICAgIGFwcElkcyA9IGFyZzE7XG4gICAgdGllck5hbWVzID0gdGllck5hbWVzUGFzc2VkO1xuICB9IGVsc2UgaWYgKGFyZzEpIHtcbiAgICB0aWVyTmFtZXMgPSBhcmcxLnNwbGl0KCcsJyk7XG4gIH1cblxuICBpZiAodGllck5hbWVzKSB7XG4gICAgY29uc3QgaXNJblZhbGlkVGllck5hbWVzID0gdmFsaWRhdGVUaWVyTmFtZXModGllck1hcCwgdGllck5hbWVzKTtcbiAgICBpZiAoaXNJblZhbGlkVGllck5hbWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29ycmVjdCB0aWVyIG5hbWVzIGFyZSBwYXNzZWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFwcElkcyxcbiAgICB0aWVyczogdGllck5hbWVzID8gdGllck5hbWVzLm1hcCh0aWVyTmFtZSA9PiB0aWVyTWFwLmZpbmQodGllciA9PiB0aWVyLnRpZXJOYW1lID09PSB0aWVyTmFtZSkpIDogdGllck1hcCxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gYnVpbGQoKSB7XG4gIGNvbnN0IGNvbXByZXNzaW9uID0gcHJvY2Vzcy5hcmd2WzNdID09PSAnY29tcHJlc3M9dHJ1ZSc7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBhcHBJZHMsIHRpZXJzIH0gPSBhd2FpdCBnZXRBcHBBbmRUaWVyc1RvQnVpbGQoKTtcblxuICAgIC8vIGNvbnN0IHRpZXJzQnVpbHQgPSBbXTtcbiAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHRpZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgICAgY29uc3Qgd2lkZ2V0VXJsID0gYXdhaXQgYnVpbGRGb3JUaWVyKHsgdXJsOiBcInd3dy5zcHJpbmtsci5jb21cIiwgY29tcHJlc3Npb24gfSk7XG4gICAgICAvLyB0aWVyc0J1aWx0LnB1c2goeyAuLi50aWVyc1tpXSwgYXBwSWRzLCB3aWRnZXRVcmwgfSk7XG4gICAgLy8gfVxuXG4gICAgcHJpbnRUaWVycyh0aWVyc0J1aWx0KTtcbiAgICBmcy53cml0ZUZpbGVTeW5jKGNvbmZpZy5CVUlMRF9JTkZPLCBKU09OLnN0cmluZ2lmeSh0aWVyc0J1aWx0KSwgJ3V0ZjgnKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsR0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUksUUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sY0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQVEsT0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBVSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTlCLGVBQWVHLE1BQU1BLENBQUM7RUFBRUM7QUFBWSxDQUFDLEVBQUU7RUFDckMsTUFBTSxJQUFBQyxnQkFBTyxFQUFDLENBQUM7RUFDZixJQUFJRCxXQUFXLEVBQUU7SUFDZixNQUFNLElBQUFFLGlCQUFRLEVB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","map":{"version":3,"names":["_stubTrue2","_interopRequireDefault","require","_some2","_shortid","_fs","_prepare","_upload","_compress","_runBashScript","_config","obj","__esModule","default","widget","compression","prepare","compress","config","BUILD_DIR","COMPRESSED_BUILD_DIR","buildUrl","upload","dirToUpload","uploadUrl","shouldCacheFile","_stubTrue","widgetDir","BUILD_VERSION_DIR","split","buildAndUpload","generateSourceMap","process","env","ENABLE_SOURCEMAP","sh","buildForTier","url","console","log","version","shortid","generate","VITE_HOST","VITE_VERSION","PUBLIC_URL","replace","printTiers","tiersBuilt","JSON","stringify","validateTierNames","tierMap","tierNames","_some","tierName","find","tier","getAppAndTiersToBuild","arg1","arg2","argv","slice","tierMapJson","BASE_URL","Error","HOST_NAME","parse","appIds","startsWith","tierNamesPassed","length","isInValidTierNames","tiers","map","build","widgetUrl","fs","writeFileSync","BUILD_INFO","err"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/","sources":["build.js"],"sourcesContent":["import _stubTrue from 'lodash/stubTrue';\nimport _some from 'lodash/some';\nimport shortid from 'shortid';\nimport fs from 'fs';\n\nimport prepare from './prepare';\nimport upload from '../upload';\nimport compress from '../compress';\nimport sh from '../tools/runBashScript';\n\nimport config from './config';\n\nasync function widget({ compression }) {\n  await prepare();\n  if (compression) {\n    await compress(config.BUILD_DIR, config.COMPRESSED_BUILD_DIR);\n  }\n  const buildUrl = await upload({\n    dirToUpload: compression ? config.COMPRESSED_BUILD_DIR: config.BUILD_DIR,\n    uploadUrl: 'chat',\n    shouldCacheFile: _stubTrue,\n    compression,\n  });\n  const widgetDir = config.BUILD_VERSION_DIR.split(config.BUILD_DIR)[1];\n  return `${buildUrl}${widgetDir}/widget.js`;\n}\n\nasync function buildAndUpload({ compression }) {\n  const generateSourceMap = process.env.ENABLE_SOURCEMAP === \"true\";\n  await sh(`BROWSERSLIST_ENV=\"production-modern\" GENERATE_SOURCEMAP=\"${generateSourceMap}\" craco build && mv build modern-build`);\n  await sh(`BROWSERSLIST_ENV=\"production-legacy\" GENERATE_SOURCEMAP=\"${generateSourceMap}\" craco build`);\n  return widget({ compression });\n}\n\nasync function buildForTier({ url, compression }) {\n  console.log(`Using Tier URL: ${url}`);\n  const version = shortid.generate();\n  process.env.VITE_HOST = url;\n  process.env.VITE_VERSION = version;\n  process.env.PUBLIC_URL = process.env.PUBLIC_URL.replace(/([^/]*)$/, version);\n  return buildAndUpload({ compression });\n}\n\nfunction printTiers(tiersBuilt) {\n  console.log('------------ !!!!TIERS!!!! --------------');\n  console.log(JSON.stringify(tiersBuilt));\n  console.log('-----------------------------------------------');\n}\n\nfunction validateTierNames(tierMap, tierNames) {\n  return _some(tierNames, tierName => !tierMap.find(tier => tier.tierName === tierName));\n}\n\nasync function getAppAndTiersToBuild() {\n  const [arg1, arg2] = process.argv.slice(4);\n  const tierMapJson = await sh(`curl -X POST \"${config.BASE_URL}/livechat/0/fetchAllTierUrls\"`);\n\n  if (!tierMapJson) {\n    throw new Error(`Tiers for env: ${process.env.HOST_NAME} is not defined`);\n  }\n\n  const tierMap = JSON.parse(tierMapJson);\n\n  let appIds, tierNames;\n\n  if (arg1 && arg1.startsWith('app')) {\n    if (!arg2) {\n      throw new Error('Tier name needs to be provided when building for specific app ids');\n    }\n\n    const tierNamesPassed = arg2.split(',');\n\n    if (tierNamesPassed.length > 1) {\n      throw new Error('Only one tier can be built for specific app ids');\n    }\n\n    appIds = arg1;\n    tierNames = tierNamesPassed;\n  } else if (arg1) {\n    tierNames = arg1.split(',');\n  }\n\n  if (tierNames) {\n    const isInValidTierNames = validateTierNames(tierMap, tierNames);\n    if (isInValidTierNames) {\n      throw new Error('Incorrect tier names are passed');\n    }\n  }\n\n  return {\n    appIds,\n    tiers: tierNames ? tierNames.map(tierName => tierMap.find(tier => tier.tierName === tierName)) : tierMap,\n  };\n}\n\nexport default async function build() {\n  const compression = process.argv[3] === 'compress=true';\n  try {\n    const { appIds, tiers } = await getAppAndTiersToBuild();\n\n    // const tiersBuilt = [];\n    // for (let i = 0; i < tiers.length; i += 1) {\n      // eslint-disable-next-line no-await-in-loop\n      const widgetUrl = await buildForTier({ url: \"www.sprinklr.com\", compression });\n      // tiersBuilt.push({ ...tiers[i], appIds, widgetUrl });\n    // }\n\n    printTiers(tiersBuilt);\n    fs.writeFileSync(config.BUILD_INFO, JSON.stringify(tiersBuilt), 'utf8');\n  } catch (err) {\n    console.log(err);\n  }\n}"],"mappings":"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"}},"mtime":1688971121868},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/prepare.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = preUpload;\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\nvar _fsExtra = _interopRequireDefault(require(\"fs-extra\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _recursiveReaddir = _interopRequireDefault(require(\"recursive-readdir\"));\nvar _cheerio = _interopRequireDefault(require(\"cheerio\"));\nvar _optimiseJS = _interopRequireDefault(require(\"../tools/optimiseJS\"));\nvar _browserslistUseragentRegexp = require(\"browserslist-useragent-regexp\");\nvar _config = _interopRequireDefault(require(\"./config\"));\nvar _runBashScript = _interopRequireDefault(require(\"../tools/runBashScript\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * User: abhinavsingi\n * Date: 04/02/19\n * Time: 4:48 PM\n * Desc: Using index.html outputted by webpack and widget.js written - it creates widget.js which is to be uploaded and entry of which is to be updated in backend\n */\n\nconst TYPES = ['link', 'script'];\nconst LEGACY_INPUT_APP_HTML = _path.default.resolve(_config.default.BUILD_DIR, 'index.html');\nconst MODERN_INPUT_APP_HTML = _path.default.resolve(_config.default.MODERN_BUILD_DIR, 'index.html');\nconst INPUT_WIDGET_HTML = _path.default.resolve(_config.default.WIDGET_DIR, 'widget.html');\nconst INPUT_WIDGET_JS = _path.default.resolve(_config.default.WIDGET_DIR, 'widget.js');\nconst OUTPUT_WIDGET_JS = _path.default.join(_config.default.BUILD_STATIC_DIR, 'widget.js');\nconst SCRIPT_TAG_REGEX = /<script\\b[^>]*>[\\s\\S]*?<\\/script\\b[^>]*>/g;\nfunction getFileContent(filePath) {\n  return _fsExtra.default.readFileSync(filePath, 'utf8');\n}\nconst getContent = (filePath, types) => {\n  const fileContent = getFileContent(filePath);\n  const $ = _cheerio.default.load(fileContent);\n  // Scripts, Links, etc. having `mode` attribute as development shouldn't be in production bundles\n  return types.map(type => $(type).filter((i, el) => el.attribs['data-mode'] !== 'development')).join('');\n};\nfunction getScriptSrcFromScriptTag(scriptTag) {\n  const SRC_REGEX = /src=\"(.*?)\"/g;\n  const source = SRC_REGEX.exec(scriptTag);\n  return source[1];\n}\nfunction getScriptsFromHTMLContent(htmlContent) {\n  const sriptsArray = htmlContent.match(SCRIPT_TAG_REGEX);\n  const vendorScript = getScriptSrcFromScriptTag(sriptsArray[0]);\n  const mainScript = getScriptSrcFromScriptTag(sriptsArray[1]);\n  return {\n    vendorScript,\n    mainScript\n  };\n}\nfunction createOutputHTML() {\n  const outputModernHTMLContent = getContent(MODERN_INPUT_APP_HTML, TYPES);\n  const outputLegacyHTMLContent = getContent(LEGACY_INPUT_APP_HTML, TYPES);\n  const outputHTMLTemplate = _lodash.default.template(getFileContent(INPUT_WIDGET_HTML));\n  const browserRegexExp = (0, _browserslistUseragentRegexp.getUserAgentRegExp)({\n    allowHigherVersions: true,\n    env: 'production-modern'\n  });\n  const parts = browserRegexExp.toString().split('\\\\');\n  const modifiedBrowserRegexExp = parts.join('\\\\\\\\\\\\\\\\');\n  const modernScriptUrls = getScriptsFromHTMLContent(outputModernHTMLContent);\n  const legacyScriptUrls = getScriptsFromHTMLContent(outputLegacyHTMLContent);\n  return outputHTMLTemplate({\n    // We need to strip first and last slash from regexExpression as this will go as a string.\n    modernBrowserRegex: modifiedBrowserRegexExp.slice(1, modifiedBrowserRegexExp.length - 1),\n    modernVendorUrl: modernScriptUrls.vendorScript,\n    modernMainUrl: modernScriptUrls.mainScript,\n    legacyVendorUrl: legacyScriptUrls.vendorScript,\n    legacyMainUrl: legacyScriptUrls.mainScript,\n    appHost: process.env.VITE_HOST\n  });\n}\nfunction createOutputBundle(widgetHTML) {\n  const inputWidgetJS = getFileContent(INPUT_WIDGET_JS);\n  const resolvedOutput = (0, _optimiseJS.default)(inputWidgetJS.replace(/__HTML__/, widgetHTML));\n  _fsExtra.default.writeFileSync(OUTPUT_WIDGET_JS, resolvedOutput, 'utf8');\n}\nfunction createVersionFolder() {\n  _fsExtra.default.copySync(_config.default.BUILD_STATIC_DIR, _config.default.BUILD_VERSION_DIR, {\n    dereference: true\n  });\n  _fsExtra.default.copySync(_config.default.MODERN_BUILD_JS_BUNDLE_DIR, _config.default.JS_BUILD_DIR, {\n    dereference: true\n  });\n  (0, _runBashScript.default)('rm -rf modern-build');\n}\nfunction removeExtraFiles() {\n  return new Promise((resolve, reject) => {\n    _fsExtra.default.removeSync(_config.default.BUILD_STATIC_DIR); //remove static dir\n\n    // remove all the other files kept flat in build dir\n    (0, _recursiveReaddir.default)(_config.default.BUILD_DIR, (err, files) => {\n      if (err) {\n        console.log(err);\n        reject();\n        return;\n      }\n      files.filter(file => {\n        return !file.match(_config.default.BUILD_VERSION_DIR);\n      }).forEach(file => {\n        return _fsExtra.default.removeSync(file);\n      });\n      resolve();\n    });\n  });\n}\nasync function preUpload() {\n  createOutputBundle(createOutputHTML());\n  createVersionFolder();\n  await removeExtraFiles();\n}\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9kYXNoIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZnNFeHRyYSIsIl9wYXRoIiwiX3JlY3Vyc2l2ZVJlYWRkaXIiLCJfY2hlZXJpbyIsIl9vcHRpbWlzZUpTIiwiX2Jyb3dzZXJzbGlzdFVzZXJhZ2VudFJlZ2V4cCIsIl9jb25maWciLCJfcnVuQmFzaFNjcmlwdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiVFlQRVMiLCJMRUdBQ1lfSU5QVVRfQVBQX0hUTUwiLCJwYXRoIiwicmVzb2x2ZSIsImNvbmZpZyIsIkJVSUxEX0RJUiIsIk1PREVSTl9JTlBVVF9BUFBfSFRNTCIsIk1PREVSTl9CVUlMRF9ESVIiLCJJTlBVVF9XSURHRVRfSFRNTCIsIldJREdFVF9ESVIiLCJJTlBVVF9XSURHRVRfSlMiLCJPVVRQVVRfV0lER0VUX0pTIiwiam9pbiIsIkJVSUxEX1NUQVRJQ19ESVIiLCJTQ1JJUFRfVEFHX1JFR0VYIiwiZ2V0RmlsZUNvbnRlbnQiLCJmaWxlUGF0aCIsImZzIiwicmVhZEZpbGVTeW5jIiwiZ2V0Q29udGVudCIsInR5cGVzIiwiZmlsZUNvbnRlbnQiLCIkIiwiY2hlZXJpbyIsImxvYWQiLCJtYXAiLCJ0eXBlIiwiZmlsdGVyIiwiaSIsImVsIiwiYXR0cmlicyIsImdldFNjcmlwdFNyY0Zyb21TY3JpcHRUYWciLCJzY3JpcHRUYWciLCJTUkNfUkVHRVgiLCJzb3VyY2UiLCJleGVjIiwiZ2V0U2NyaXB0c0Zyb21IVE1MQ29udGVudCIsImh0bWxDb250ZW50Iiwic3JpcHRzQXJyYXkiLCJtYXRjaCIsInZlbmRvclNjcmlwdCIsIm1haW5TY3JpcHQiLCJjcmVhdGVPdXRwdXRIVE1MIiwib3V0cHV0TW9kZXJuSFRNTENvbnRlbnQiLCJvdXRwdXRMZWdhY3lIVE1MQ29udGVudCIsIm91dHB1dEhUTUxUZW1wbGF0ZSIsIl8iLCJ0ZW1wbGF0ZSIsImJyb3dzZXJSZWdleEV4cCIsImdldFVzZXJBZ2VudFJlZ0V4cCIsImFsbG93SGlnaGVyVmVyc2lvbnMiLCJlbnYiLCJwYXJ0cyIsInRvU3RyaW5nIiwic3BsaXQiLCJtb2RpZmllZEJyb3dzZXJSZWdleEV4cCIsIm1vZGVyblNjcmlwdFVybHMiLCJsZWdhY3lTY3JpcHRVcmxzIiwibW9kZXJuQnJvd3NlclJlZ2V4Iiwic2xpY2UiLCJsZW5ndGgiLCJtb2Rlcm5WZW5kb3JVcmwiLCJtb2Rlcm5NYWluVXJsIiwibGVnYWN5VmVuZG9yVXJsIiwibGVnYWN5TWFpblVybCIsImFwcEhvc3QiLCJwcm9jZXNzIiwiVklURV9IT1NUIiwiY3JlYXRlT3V0cHV0QnVuZGxlIiwid2lkZ2V0SFRNTCIsImlucHV0V2lkZ2V0SlMiLCJyZXNvbHZlZE91dHB1dCIsIm9wdGltaXNlSlNDb2RlIiwicmVwbGFjZSIsIndyaXRlRmlsZVN5bmMiLCJjcmVhdGVWZXJzaW9uRm9sZGVyIiwiY29weVN5bmMiLCJCVUlMRF9WRVJTSU9OX0RJUiIsImRlcmVmZXJlbmNlIiwiTU9ERVJOX0JVSUxEX0pTX0JVTkRMRV9ESVIiLCJKU19CVUlMRF9ESVIiLCJzaCIsInJlbW92ZUV4dHJhRmlsZXMiLCJQcm9taXNlIiwicmVqZWN0IiwicmVtb3ZlU3luYyIsInJlY3Vyc2l2ZSIsImVyciIsImZpbGVzIiwiY29uc29sZSIsImxvZyIsImZpbGUiLCJmb3JFYWNoIiwicHJlVXBsb2FkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC93aWRnZXQvIiwic291cmNlcyI6WyJwcmVwYXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXNlcjogYWJoaW5hdnNpbmdpXG4gKiBEYXRlOiAwNC8wMi8xOVxuICogVGltZTogNDo0OCBQTVxuICogRGVzYzogVXNpbmcgaW5kZXguaHRtbCBvdXRwdXR0ZWQgYnkgd2VicGFjayBhbmQgd2lkZ2V0LmpzIHdyaXR0ZW4gLSBpdCBjcmVhdGVzIHdpZGdldC5qcyB3aGljaCBpcyB0byBiZSB1cGxvYWRlZCBhbmQgZW50cnkgb2Ygd2hpY2ggaXMgdG8gYmUgdXBkYXRlZCBpbiBiYWNrZW5kXG4gKi9cblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBmcyBmcm9tICdmcy1leHRyYSc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCByZWN1cnNpdmUgZnJvbSAncmVjdXJzaXZlLXJlYWRkaXInO1xuaW1wb3J0IGNoZWVyaW8gZnJvbSAnY2hlZXJpbyc7XG5pbXBvcnQgb3B0aW1pc2VKU0NvZGUgZnJvbSAnLi4vdG9vbHMvb3B0aW1pc2VKUyc7XG5pbXBvcnQgeyBnZXRVc2VyQWdlbnRSZWdFeHAgfSBmcm9tICdicm93c2Vyc2xpc3QtdXNlcmFnZW50LXJlZ2V4cCc7XG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHNoIGZyb20gJy4uL3Rvb2xzL3J1bkJhc2hTY3JpcHQnO1xuXG5jb25zdCBUWVBFUyA9IFsnbGluaycsICdzY3JpcHQnXTtcblxuY29uc3QgTEVHQUNZX0lOUFVUX0FQUF9IVE1MID0gcGF0aC5yZXNvbHZlKGNvbmZpZy5CVUlMRF9ESVIsICdpbmRleC5odG1sJyk7XG5jb25zdCBNT0RFUk5fSU5QVVRfQVBQX0hUTUwgPSBwYXRoLnJlc29sdmUoY29uZmlnLk1PREVSTl9CVUlMRF9ESVIsICdpbmRleC5odG1sJyk7XG5cbmNvbnN0IElOUFVUX1dJREdFVF9IVE1MID0gcGF0aC5yZXNvbHZlKGNvbmZpZy5XSURHRVRfRElSLCAnd2lkZ2V0Lmh0bWwnKTtcbmNvbnN0IElOUFVUX1dJREdFVF9KUyA9IHBhdGgucmVzb2x2ZShjb25maWcuV0lER0VUX0RJUiwgJ3dpZGdldC5qcycpO1xuXG5jb25zdCBPVVRQVVRfV0lER0VUX0pTID0gcGF0aC5qb2luKGNvbmZpZy5CVUlMRF9TVEFUSUNfRElSLCAnd2lkZ2V0LmpzJyk7XG5cbmNvbnN0IFNDUklQVF9UQUdfUkVHRVggPSAvPHNjcmlwdFxcYltePl0qPltcXHNcXFNdKj88XFwvc2NyaXB0XFxiW14+XSo+L2c7XG5cbmZ1bmN0aW9uIGdldEZpbGVDb250ZW50KGZpbGVQYXRoKSB7XG4gIHJldHVybiBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsICd1dGY4Jyk7XG59XG5cbmNvbnN0IGdldENvbnRlbnQgPSAoZmlsZVBhdGgsIHR5cGVzKSA9PiB7XG4gIGNvbnN0IGZpbGVDb250ZW50ID0gZ2V0RmlsZUNvbnRlbnQoZmlsZVBhdGgpO1xuICBjb25zdCAkID0gY2hlZXJpby5sb2FkKGZpbGVDb250ZW50KTtcbiAgLy8gU2NyaXB0cywgTGlua3MsIGV0Yy4gaGF2aW5nIGBtb2RlYCBhdHRyaWJ1dGUgYXMgZGV2ZWxvcG1lbnQgc2hvdWxkbid0IGJlIGluIHByb2R1Y3Rpb24gYnVuZGxlc1xuICByZXR1cm4gdHlwZXMubWFwKHR5cGUgPT4gJCh0eXBlKS5maWx0ZXIoKGksIGVsKSA9PiBlbC5hdHRyaWJzWydkYXRhLW1vZGUnXSAhPT0gJ2RldmVsb3BtZW50JykpLmpvaW4oJycpO1xufVxuXG5mdW5jdGlvbiBnZXRTY3JpcHRTcmNGcm9tU2NyaXB0VGFnIChzY3JpcHRUYWcpIHtcbiAgY29uc3QgU1JDX1JFR0VYID0gL3NyYz1cIiguKj8pXCIvZztcbiAgY29uc3Qgc291cmNlID0gU1JDX1JFR0VYLmV4ZWMoc2NyaXB0VGFnKTtcbiAgcmV0dXJuIHNvdXJjZVsxXTtcbn1cblxuZnVuY3Rpb24gZ2V0U2NyaXB0c0Zyb21IVE1MQ29udGVudCAoaHRtbENvbnRlbnQpIHtcbiAgY29uc3Qgc3JpcHRzQXJyYXkgPSBodG1sQ29udGVudC5tYXRjaChTQ1JJUFRfVEFHX1JFR0VYKTtcbiAgY29uc3QgdmVuZG9yU2NyaXB0ID0gZ2V0U2NyaXB0U3JjRnJvbVNjcmlwdFRhZyhzcmlwdHNBcnJheVswXSk7XG4gIGNvbnN0IG1haW5TY3JpcHQgPSBnZXRTY3JpcHRTcmNGcm9tU2NyaXB0VGFnKHNyaXB0c0FycmF5WzFdKTtcbiAgcmV0dXJuIHtcbiAgICB2ZW5kb3JTY3JpcHQsXG4gICAgbWFpblNjcmlwdCxcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVPdXRwdXRIVE1MKCkge1xuICBjb25zdCBvdXRwdXRNb2Rlcm5IVE1MQ29udGVudCA9IGdldENvbnRlbnQoTU9ERVJOX0lOUFVUX0FQUF9IVE1MLCBUWVBFUyk7XG4gIGNvbnN0IG91dHB1dExlZ2FjeUhUTUxDb250ZW50ID0gZ2V0Q29udGVudChMRUdBQ1lfSU5QVVRfQVBQX0hUTUwsIFRZUEVTKTtcblxuICBjb25zdCBvdXRwdXRIVE1MVGVtcGxhdGUgPSBfLnRlbXBsYXRlKGdldEZpbGVDb250ZW50KElOUFVUX1dJREdFVF9IVE1MKSk7XG5cbiAgY29uc3QgYnJvd3NlclJlZ2V4RXhwID0gZ2V0VXNlckFnZW50UmVnRXhwKHtcbiAgICBhbGxvd0hpZ2hlclZlcnNpb25zOiB0cnVlLFxuICAgIGVudjogJ3Byb2R1Y3Rpb24tbW9kZXJuJ1xuICB9KTtcbiAgY29uc3QgcGFydHMgPSBicm93c2VyUmVnZXhFeHAudG9TdHJpbmcoKS5zcGxpdCgnXFxcXCcpO1xuICBjb25zdCBtb2RpZmllZEJyb3dzZXJSZWdleEV4cCA9IHBhcnRzLmpvaW4oJ1xcXFxcXFxcXFxcXFxcXFwnKTtcblxuICBjb25zdCBtb2Rlcm5TY3JpcHRVcmxzID0gZ2V0U2NyaXB0c0Zyb21IVE1MQ29udGVudChvdXRwdXRNb2Rlcm5IVE1MQ29udGVudCk7XG4gIGNvbnN0IGxlZ2FjeVNjcmlwdFVybHMgPSBnZXRTY3JpcHRzRnJvbUhUTUxDb250ZW50KG91dHB1dExlZ2FjeUhUTUxDb250ZW50KTtcblxuICByZXR1cm4gb3V0cHV0SFRNTFRlbXBsYXRlKHtcbiAgICAvLyBXZSBuZWVkIHRvIHN0cmlwIGZpcnN0IGFuZCBsYXN0IHNsYXNoIGZyb20gcmVnZXhFeHByZXNzaW9uIGFzIHRoaXMgd2lsbCBnbyBhcyBhIHN0cmluZy5cbiAgICBtb2Rlcm5Ccm93c2VyUmVnZXg6IG1vZGlmaWVkQnJvd3NlclJlZ2V4RXhwLnNsaWNlKDEsIG1vZGlmaWVkQnJvd3NlclJlZ2V4RXhwLmxlbmd0aCAtMSksXG4gICAgbW9kZXJuVmVuZG9yVXJsOiBtb2Rlcm5TY3JpcHRVcmxzLnZlbmRvclNjcmlwdCxcbiAgICBtb2Rlcm5NYWluVXJsOiBtb2Rlcm5TY3JpcHRVcmxzLm1haW5TY3JpcHQsXG4gICAgbGVnYWN5VmVuZG9yVXJsOiBsZWdhY3lTY3JpcHRVcmxzLnZlbmRvclNjcmlwdCxcbiAgICBsZWdhY3lNYWluVXJsOiBsZWdhY3lTY3JpcHRVcmxzLm1haW5TY3JpcHQsXG4gICAgYXBwSG9zdDogcHJvY2Vzcy5lbnYuVklURV9IT1NULFxuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlT3V0cHV0QnVuZGxlKHdpZGdldEhUTUwpIHtcbiAgY29uc3QgaW5wdXRXaWRnZXRKUyA9IGdldEZpbGVDb250ZW50KElOUFVUX1dJREdFVF9KUyk7XG4gIGNvbnN0IHJlc29sdmVkT3V0cHV0ID0gb3B0aW1pc2VKU0NvZGUoaW5wdXRXaWRnZXRKUy5yZXBsYWNlKC9fX0hUTUxfXy8sIHdpZGdldEhUTUwpKTtcbiAgZnMud3JpdGVGaWxlU3luYyhPVVRQVVRfV0lER0VUX0pTLCByZXNvbHZlZE91dHB1dCwgJ3V0ZjgnKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVmVyc2lvbkZvbGRlcigpIHtcbiAgZnMuY29weVN5bmMoY29uZmlnLkJVSUxEX1NUQVRJQ19ESVIsIGNvbmZpZy5CVUlMRF9WRVJTSU9OX0RJUiwge1xuICAgIGRlcmVmZXJlbmNlOiB0cnVlLFxuICB9KTtcbiAgZnMuY29weVN5bmMoY29uZmlnLk1PREVSTl9CVUlMRF9KU19CVU5ETEVfRElSLCBjb25maWcuSlNfQlVJTERfRElSLCB7XG4gICAgZGVyZWZlcmVuY2U6IHRydWUsXG4gIH0pO1xuICBzaCgncm0gLXJmIG1vZGVybi1idWlsZCcpXG59XG5cbmZ1bmN0aW9uIHJlbW92ZUV4dHJhRmlsZXMoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZnMucmVtb3ZlU3luYyhjb25maWcuQlVJTERfU1RBVElDX0RJUik7IC8vcmVtb3ZlIHN0YXRpYyBkaXJcblxuICAgIC8vIHJlbW92ZSBhbGwgdGhlIG90aGVyIGZpbGVzIGtlcHQgZmxhdCBpbiBidWlsZCBkaXJcbiAgICByZWN1cnNpdmUoY29uZmlnLkJVSUxEX0RJUiwgKGVyciwgZmlsZXMpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZpbGVzXG4gICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgZmlsZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gIWZpbGUubWF0Y2goY29uZmlnLkJVSUxEX1ZFUlNJT05fRElSKTtcbiAgICAgICAgICB9LFxuICAgICAgICApXG4gICAgICAgIC5mb3JFYWNoKFxuICAgICAgICAgIGZpbGUgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGZzLnJlbW92ZVN5bmMoZmlsZSlcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICByZXNvbHZlKClcbiAgICB9KTtcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gcHJlVXBsb2FkKCkge1xuICBjcmVhdGVPdXRwdXRCdW5kbGUoY3JlYXRlT3V0cHV0SFRNTCgpKTtcbiAgY3JlYXRlVmVyc2lvbkZvbGRlcigpO1xuICBhd2FpdCByZW1vdmVFeHRyYUZpbGVzKCk7XG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBT0EsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsaUJBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLFFBQUEs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","map":{"version":3,"names":["_lodash","_interopRequireDefault","require","_fsExtra","_path","_recursiveReaddir","_cheerio","_optimiseJS","_browserslistUseragentRegexp","_config","_runBashScript","obj","__esModule","default","TYPES","LEGACY_INPUT_APP_HTML","path","resolve","config","BUILD_DIR","MODERN_INPUT_APP_HTML","MODERN_BUILD_DIR","INPUT_WIDGET_HTML","WIDGET_DIR","INPUT_WIDGET_JS","OUTPUT_WIDGET_JS","join","BUILD_STATIC_DIR","SCRIPT_TAG_REGEX","getFileContent","filePath","fs","readFileSync","getContent","types","fileContent","$","cheerio","load","map","type","filter","i","el","attribs","getScriptSrcFromScriptTag","scriptTag","SRC_REGEX","source","exec","getScriptsFromHTMLContent","htmlContent","sriptsArray","match","vendorScript","mainScript","createOutputHTML","outputModernHTMLContent","outputLegacyHTMLContent","outputHTMLTemplate","_","template","browserRegexExp","getUserAgentRegExp","allowHigherVersions","env","parts","toString","split","modifiedBrowserRegexExp","modernScriptUrls","legacyScriptUrls","modernBrowserRegex","slice","length","modernVendorUrl","modernMainUrl","legacyVendorUrl","legacyMainUrl","appHost","process","VITE_HOST","createOutputBundle","widgetHTML","inputWidgetJS","resolvedOutput","optimiseJSCode","replace","writeFileSync","createVersionFolder","copySync","BUILD_VERSION_DIR","dereference","MODERN_BUILD_JS_BUNDLE_DIR","JS_BUILD_DIR","sh","removeExtraFiles","Promise","reject","removeSync","recursive","err","files","console","log","file","forEach","preUpload"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/","sources":["prepare.js"],"sourcesContent":["/**\n * User: abhinavsingi\n * Date: 04/02/19\n * Time: 4:48 PM\n * Desc: Using index.html outputted by webpack and widget.js written - it creates widget.js which is to be uploaded and entry of which is to be updated in backend\n */\n\nimport _ from 'lodash';\nimport fs from 'fs-extra';\nimport path from 'path';\nimport recursive from 'recursive-readdir';\nimport cheerio from 'cheerio';\nimport optimiseJSCode from '../tools/optimiseJS';\nimport { getUserAgentRegExp } from 'browserslist-useragent-regexp';\n\nimport config from './config';\nimport sh from '../tools/runBashScript';\n\nconst TYPES = ['link', 'script'];\n\nconst LEGACY_INPUT_APP_HTML = path.resolve(config.BUILD_DIR, 'index.html');\nconst MODERN_INPUT_APP_HTML = path.resolve(config.MODERN_BUILD_DIR, 'index.html');\n\nconst INPUT_WIDGET_HTML = path.resolve(config.WIDGET_DIR, 'widget.html');\nconst INPUT_WIDGET_JS = path.resolve(config.WIDGET_DIR, 'widget.js');\n\nconst OUTPUT_WIDGET_JS = path.join(config.BUILD_STATIC_DIR, 'widget.js');\n\nconst SCRIPT_TAG_REGEX = /<script\\b[^>]*>[\\s\\S]*?<\\/script\\b[^>]*>/g;\n\nfunction getFileContent(filePath) {\n  return fs.readFileSync(filePath, 'utf8');\n}\n\nconst getContent = (filePath, types) => {\n  const fileContent = getFileContent(filePath);\n  const $ = cheerio.load(fileContent);\n  // Scripts, Links, etc. having `mode` attribute as development shouldn't be in production bundles\n  return types.map(type => $(type).filter((i, el) => el.attribs['data-mode'] !== 'development')).join('');\n}\n\nfunction getScriptSrcFromScriptTag (scriptTag) {\n  const SRC_REGEX = /src=\"(.*?)\"/g;\n  const source = SRC_REGEX.exec(scriptTag);\n  return source[1];\n}\n\nfunction getScriptsFromHTMLContent (htmlContent) {\n  const sriptsArray = htmlContent.match(SCRIPT_TAG_REGEX);\n  const vendorScript = getScriptSrcFromScriptTag(sriptsArray[0]);\n  const mainScript = getScriptSrcFromScriptTag(sriptsArray[1]);\n  return {\n    vendorScript,\n    mainScript,\n  }\n}\n\nfunction createOutputHTML() {\n  const outputModernHTMLContent = getContent(MODERN_INPUT_APP_HTML, TYPES);\n  const outputLegacyHTMLContent = getContent(LEGACY_INPUT_APP_HTML, TYPES);\n\n  const outputHTMLTemplate = _.template(getFileContent(INPUT_WIDGET_HTML));\n\n  const browserRegexExp = getUserAgentRegExp({\n    allowHigherVersions: true,\n    env: 'production-modern'\n  });\n  const parts = browserRegexExp.toString().split('\\\\');\n  const modifiedBrowserRegexExp = parts.join('\\\\\\\\\\\\\\\\');\n\n  const modernScriptUrls = getScriptsFromHTMLContent(outputModernHTMLContent);\n  const legacyScriptUrls = getScriptsFromHTMLContent(outputLegacyHTMLContent);\n\n  return outputHTMLTemplate({\n    // We need to strip first and last slash from regexExpression as this will go as a string.\n    modernBrowserRegex: modifiedBrowserRegexExp.slice(1, modifiedBrowserRegexExp.length -1),\n    modernVendorUrl: modernScriptUrls.vendorScript,\n    modernMainUrl: modernScriptUrls.mainScript,\n    legacyVendorUrl: legacyScriptUrls.vendorScript,\n    legacyMainUrl: legacyScriptUrls.mainScript,\n    appHost: process.env.VITE_HOST,\n  });\n}\n\nfunction createOutputBundle(widgetHTML) {\n  const inputWidgetJS = getFileContent(INPUT_WIDGET_JS);\n  const resolvedOutput = optimiseJSCode(inputWidgetJS.replace(/__HTML__/, widgetHTML));\n  fs.writeFileSync(OUTPUT_WIDGET_JS, resolvedOutput, 'utf8');\n}\n\nfunction createVersionFolder() {\n  fs.copySync(config.BUILD_STATIC_DIR, config.BUILD_VERSION_DIR, {\n    dereference: true,\n  });\n  fs.copySync(config.MODERN_BUILD_JS_BUNDLE_DIR, config.JS_BUILD_DIR, {\n    dereference: true,\n  });\n  sh('rm -rf modern-build')\n}\n\nfunction removeExtraFiles() {\n  return new Promise((resolve, reject) => {\n    fs.removeSync(config.BUILD_STATIC_DIR); //remove static dir\n\n    // remove all the other files kept flat in build dir\n    recursive(config.BUILD_DIR, (err, files) => {\n      if (err) {\n        console.log(err);\n        reject();\n        return;\n      }\n      files\n        .filter(\n          file => {\n            return !file.match(config.BUILD_VERSION_DIR);\n          },\n        )\n        .forEach(\n          file => {\n            return fs.removeSync(file)\n          }\n        );\n      resolve()\n    });\n  })\n}\n\nexport default async function preUpload() {\n  createOutputBundle(createOutputHTML());\n  createVersionFolder();\n  await removeExtraFiles();\n};"],"mappings":"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"}},"mtime":1688971141328},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/optimiseJS.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = optimiseJSCode;\nvar _terser = _interopRequireDefault(require(\"terser\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction optimiseJSCode(code) {\n  return _terser.default.minify(code, {\n    toplevel: true\n  }).code;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdGVyc2VyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm9wdGltaXNlSlNDb2RlIiwiY29kZSIsIlRlcnNlciIsIm1pbmlmeSIsInRvcGxldmVsIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC90b29scy8iLCJzb3VyY2VzIjpbIm9wdGltaXNlSlMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRlcnNlciBmcm9tIFwidGVyc2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG9wdGltaXNlSlNDb2RlKGNvZGUpIHtcbiAgcmV0dXJuIFRlcnNlci5taW5pZnkoY29kZSwgeyB0b3BsZXZlbDogdHJ1ZSB9KS5jb2RlO1xufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTRCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWIsU0FBU0csY0FBY0EsQ0FBQ0MsSUFBSSxFQUFFO0VBQzNDLE9BQU9DLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDRixJQUFJLEVBQUU7SUFBRUcsUUFBUSxFQUFFO0VBQUssQ0FBQyxDQUFDLENBQUNILElBQUk7QUFDckQifQ==","map":{"version":3,"names":["_terser","_interopRequireDefault","require","obj","__esModule","default","optimiseJSCode","code","Terser","minify","toplevel"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/","sources":["optimiseJS.js"],"sourcesContent":["import Terser from \"terser\";\n\nexport default function optimiseJSCode(code) {\n  return Terser.minify(code, { toplevel: true }).code;\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEb,SAASG,cAAcA,CAACC,IAAI,EAAE;EAC3C,OAAOC,eAAM,CAACC,MAAM,CAACF,IAAI,EAAE;IAAEG,QAAQ,EAAE;EAAK,CAAC,CAAC,CAACH,IAAI;AACrD"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst CWD = process.cwd();\nvar _default = {\n  BUILD_DIR: _path.default.resolve(CWD, 'build'),\n  MODERN_BUILD_DIR: _path.default.resolve(CWD, 'modern-build'),\n  WIDGET_DIR: _path.default.resolve(CWD, 'src/chat-app/build/widget'),\n  BASE_URL: `http://${process.env.HOST_NAME}-restricted.sprinklr.com/restricted/v1`,\n  get BUILD_STATIC_DIR() {\n    return _path.default.resolve(this.BUILD_DIR, 'static');\n  },\n  get MODERN_BUILD_JS_BUNDLE_DIR() {\n    return _path.default.resolve(this.MODERN_BUILD_DIR, 'static/js');\n  },\n  get COMPRESSED_BUILD_DIR() {\n    return _path.default.resolve(this.BUILD_DIR, 'compressed');\n  },\n  get BUILD_VERSION_DIR() {\n    return _path.default.resolve(this.BUILD_DIR, `${process.env.VITE_VERSION}/static`);\n  },\n  get JS_BUILD_DIR() {\n    return _path.default.resolve(this.BUILD_DIR, `${process.env.VITE_VERSION}/static/js`);\n  },\n  BUILD_INFO: _path.default.join(process.cwd(), 'buildInfo.txt')\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGF0aCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJDV0QiLCJwcm9jZXNzIiwiY3dkIiwiX2RlZmF1bHQiLCJCVUlMRF9ESVIiLCJwYXRoIiwicmVzb2x2ZSIsIk1PREVSTl9CVUlMRF9ESVIiLCJXSURHRVRfRElSIiwiQkFTRV9VUkwiLCJlbnYiLCJIT1NUX05BTUUiLCJCVUlMRF9TVEFUSUNfRElSIiwiTU9ERVJOX0JVSUxEX0pTX0JVTkRMRV9ESVIiLCJDT01QUkVTU0VEX0JVSUxEX0RJUiIsIkJVSUxEX1ZFUlNJT05fRElSIiwiVklURV9WRVJTSU9OIiwiSlNfQlVJTERfRElSIiwiQlVJTERfSU5GTyIsImpvaW4iLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC93aWRnZXQvIiwic291cmNlcyI6WyJjb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmNvbnN0IENXRCA9IHByb2Nlc3MuY3dkKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgQlVJTERfRElSOiBwYXRoLnJlc29sdmUoQ1dELCAnYnVpbGQnKSxcbiAgTU9ERVJOX0JVSUxEX0RJUjogcGF0aC5yZXNvbHZlKENXRCwgJ21vZGVybi1idWlsZCcpLFxuICBXSURHRVRfRElSOiBwYXRoLnJlc29sdmUoQ1dELCAnc3JjL2NoYXQtYXBwL2J1aWxkL3dpZGdldCcpLFxuICBCQVNFX1VSTDogYGh0dHA6Ly8ke3Byb2Nlc3MuZW52LkhPU1RfTkFNRX0tcmVzdHJpY3RlZC5zcHJpbmtsci5jb20vcmVzdHJpY3RlZC92MWAsXG4gIGdldCBCVUlMRF9TVEFUSUNfRElSKCkge1xuICAgIHJldHVybiBwYXRoLnJlc29sdmUodGhpcy5CVUlMRF9ESVIsICdzdGF0aWMnKTtcbiAgfSxcbiAgZ2V0IE1PREVSTl9CVUlMRF9KU19CVU5ETEVfRElSKCkge1xuICAgIHJldHVybiBwYXRoLnJlc29sdmUodGhpcy5NT0RFUk5fQlVJTERfRElSLCAnc3RhdGljL2pzJyk7XG4gIH0sXG4gIGdldCBDT01QUkVTU0VEX0JVSUxEX0RJUigpIHtcbiAgICByZXR1cm4gIHBhdGgucmVzb2x2ZSh0aGlzLkJVSUxEX0RJUiwgJ2NvbXByZXNzZWQnKTtcbiAgfSxcbiAgZ2V0IEJVSUxEX1ZFUlNJT05fRElSKCkge1xuICAgIHJldHVybiBwYXRoLnJlc29sdmUodGhpcy5CVUlMRF9ESVIsIGAke3Byb2Nlc3MuZW52LlZJVEVfVkVSU0lPTn0vc3RhdGljYClcbiAgfSxcbiAgZ2V0IEpTX0JVSUxEX0RJUigpIHtcbiAgICByZXR1cm4gcGF0aC5yZXNvbHZlKHRoaXMuQlVJTERfRElSLCBgJHtwcm9jZXNzLmVudi5WSVRFX1ZFUlNJT059L3N0YXRpYy9qc2ApXG4gIH0sXG4gIEJVSUxEX0lORk86IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnYnVpbGRJbmZvLnR4dCcpLFxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBd0IsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFeEIsTUFBTUcsR0FBRyxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVYO0VBQ2JDLFNBQVMsRUFBRUMsYUFBSSxDQUFDQyxPQUFPLENBQUNOLEdBQUcsRUFBRSxPQUFPLENBQUM7RUFDckNPLGdCQUFnQixFQUFFRixhQUFJLENBQUNDLE9BQU8sQ0FBQ04sR0FBRyxFQUFFLGNBQWMsQ0FBQztFQUNuRFEsVUFBVSxFQUFFSCxhQUFJLENBQUNDLE9BQU8sQ0FBQ04sR0FBRyxFQUFFLDJCQUEyQixDQUFDO0VBQzFEUyxRQUFRLEVBQUcsVUFBU1IsT0FBTyxDQUFDUyxHQUFHLENBQUNDLFNBQVUsd0NBQXVDO0VBQ2pGLElBQUlDLGdCQUFnQkEsQ0FBQSxFQUFHO0lBQ3JCLE9BQU9QLGFBQUksQ0FBQ0MsT0FBTyxDQUFDLElBQUksQ0FBQ0YsU0FBUyxFQUFFLFFBQVEsQ0FBQztFQUMvQyxDQUFDO0VBQ0QsSUFBSVMsMEJBQTBCQSxDQUFBLEVBQUc7SUFDL0IsT0FBT1IsYUFBSSxDQUFDQyxPQUFPLENBQUMsSUFBSSxDQUFDQyxnQkFBZ0IsRUFBRSxXQUFXLENBQUM7RUFDekQsQ0FBQztFQUNELElBQUlPLG9CQUFvQkEsQ0FBQSxFQUFHO0lBQ3pCLE9BQVFULGFBQUksQ0FBQ0MsT0FBTyxDQUFDLElBQUksQ0FBQ0YsU0FBUyxFQUFFLFlBQVksQ0FBQztFQUNwRCxDQUFDO0VBQ0QsSUFBSVcsaUJBQWlCQSxDQUFBLEVBQUc7SUFDdEIsT0FBT1YsYUFBSSxDQUFDQyxPQUFPLENBQUMsSUFBSSxDQUFDRixTQUFTLEVBQUcsR0FBRUgsT0FBTyxDQUFDUyxHQUFHLENBQUNNLFlBQWEsU0FBUSxDQUFDO0VBQzNFLENBQUM7RUFDRCxJQUFJQyxZQUFZQSxDQUFBLEVBQUc7SUFDakIsT0FBT1osYUFBSSxDQUFDQyxPQUFPLENBQUMsSUFBSSxDQUFDRixTQUFTLEVBQUcsR0FBRUgsT0FBTyxDQUFDUyxHQUFHLENBQUNNLFlBQWEsWUFBVyxDQUFDO0VBQzlFLENBQUM7RUFDREUsVUFBVSxFQUFFYixhQUFJLENBQUNjLElBQUksQ0FBQ2xCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQUMsRUFBRSxlQUFlO0FBQ3RELENBQUM7QUFBQWtCLE9BQUEsQ0FBQXJCLE9BQUEsR0FBQUksUUFBQSJ9","map":{"version":3,"names":["_path","_interopRequireDefault","require","obj","__esModule","default","CWD","process","cwd","_default","BUILD_DIR","path","resolve","MODERN_BUILD_DIR","WIDGET_DIR","BASE_URL","env","HOST_NAME","BUILD_STATIC_DIR","MODERN_BUILD_JS_BUNDLE_DIR","COMPRESSED_BUILD_DIR","BUILD_VERSION_DIR","VITE_VERSION","JS_BUILD_DIR","BUILD_INFO","join","exports"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/","sources":["config.js"],"sourcesContent":["import path from 'path';\n\nconst CWD = process.cwd();\n\nexport default {\n  BUILD_DIR: path.resolve(CWD, 'build'),\n  MODERN_BUILD_DIR: path.resolve(CWD, 'modern-build'),\n  WIDGET_DIR: path.resolve(CWD, 'src/chat-app/build/widget'),\n  BASE_URL: `http://${process.env.HOST_NAME}-restricted.sprinklr.com/restricted/v1`,\n  get BUILD_STATIC_DIR() {\n    return path.resolve(this.BUILD_DIR, 'static');\n  },\n  get MODERN_BUILD_JS_BUNDLE_DIR() {\n    return path.resolve(this.MODERN_BUILD_DIR, 'static/js');\n  },\n  get COMPRESSED_BUILD_DIR() {\n    return  path.resolve(this.BUILD_DIR, 'compressed');\n  },\n  get BUILD_VERSION_DIR() {\n    return path.resolve(this.BUILD_DIR, `${process.env.VITE_VERSION}/static`)\n  },\n  get JS_BUILD_DIR() {\n    return path.resolve(this.BUILD_DIR, `${process.env.VITE_VERSION}/static/js`)\n  },\n  BUILD_INFO: path.join(process.cwd(), 'buildInfo.txt'),\n}\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAwB,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExB,MAAMG,GAAG,GAAGC,OAAO,CAACC,GAAG,CAAC,CAAC;AAAC,IAAAC,QAAA,GAEX;EACbC,SAAS,EAAEC,aAAI,CAACC,OAAO,CAACN,GAAG,EAAE,OAAO,CAAC;EACrCO,gBAAgB,EAAEF,aAAI,CAACC,OAAO,CAACN,GAAG,EAAE,cAAc,CAAC;EACnDQ,UAAU,EAAEH,aAAI,CAACC,OAAO,CAACN,GAAG,EAAE,2BAA2B,CAAC;EAC1DS,QAAQ,EAAG,UAASR,OAAO,CAACS,GAAG,CAACC,SAAU,wCAAuC;EACjF,IAAIC,gBAAgBA,CAAA,EAAG;IACrB,OAAOP,aAAI,CAACC,OAAO,CAAC,IAAI,CAACF,SAAS,EAAE,QAAQ,CAAC;EAC/C,CAAC;EACD,IAAIS,0BAA0BA,CAAA,EAAG;IAC/B,OAAOR,aAAI,CAACC,OAAO,CAAC,IAAI,CAACC,gBAAgB,EAAE,WAAW,CAAC;EACzD,CAAC;EACD,IAAIO,oBAAoBA,CAAA,EAAG;IACzB,OAAQT,aAAI,CAACC,OAAO,CAAC,IAAI,CAACF,SAAS,EAAE,YAAY,CAAC;EACpD,CAAC;EACD,IAAIW,iBAAiBA,CAAA,EAAG;IACtB,OAAOV,aAAI,CAACC,OAAO,CAAC,IAAI,CAACF,SAAS,EAAG,GAAEH,OAAO,CAACS,GAAG,CAACM,YAAa,SAAQ,CAAC;EAC3E,CAAC;EACD,IAAIC,YAAYA,CAAA,EAAG;IACjB,OAAOZ,aAAI,CAACC,OAAO,CAAC,IAAI,CAACF,SAAS,EAAG,GAAEH,OAAO,CAACS,GAAG,CAACM,YAAa,YAAW,CAAC;EAC9E,CAAC;EACDE,UAAU,EAAEb,aAAI,CAACc,IAAI,CAAClB,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,eAAe;AACtD,CAAC;AAAAkB,OAAA,CAAArB,OAAA,GAAAI,QAAA"}},"mtime":1688971182382},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/prepare.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = preUpload;\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\nvar _fsExtra = _interopRequireDefault(require(\"fs-extra\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _recursiveReaddir = _interopRequireDefault(require(\"recursive-readdir\"));\nvar _cheerio = _interopRequireDefault(require(\"cheerio\"));\nvar _optimiseJS = _interopRequireDefault(require(\"../tools/optimiseJS\"));\nvar _browserslistUseragentRegexp = require(\"browserslist-useragent-regexp\");\nvar _config = _interopRequireDefault(require(\"./config\"));\nvar _runBashScript = _interopRequireDefault(require(\"../tools/runBashScript\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * User: abhinavsingi\n * Date: 04/02/19\n * Time: 4:48 PM\n * Desc: Using index.html outputted by webpack and widget.js written - it creates widget.js which is to be uploaded and entry of which is to be updated in backend\n */\n\nconst TYPES = ['link', 'script'];\nconst LEGACY_INPUT_APP_HTML = _path.default.resolve(_config.default.BUILD_DIR, 'index.html');\nconst MODERN_INPUT_APP_HTML = _path.default.resolve(_config.default.MODERN_BUILD_DIR, 'index.html');\nconst INPUT_WIDGET_HTML = _path.default.resolve(_config.default.WIDGET_DIR, 'widget.html');\nconst INPUT_WIDGET_JS = _path.default.resolve(_config.default.WIDGET_DIR, 'widget.js');\nconst OUTPUT_WIDGET_JS = _path.default.join(_config.default.BUILD_STATIC_DIR, 'widget.js');\nconst SCRIPT_TAG_REGEX = /<script\\b[^>]*>[\\s\\S]*?<\\/script\\b[^>]*>/g;\nfunction getFileContent(filePath) {\n  return _fsExtra.default.readFileSync(filePath, 'utf8');\n}\nconst getContent = (filePath, types) => {\n  const fileContent = getFileContent(filePath);\n  const $ = _cheerio.default.load(fileContent);\n  // Scripts, Links, etc. having `mode` attribute as development shouldn't be in production bundles\n  return types.map(type => $(type).filter((i, el) => el.attribs['data-mode'] !== 'development')).join('');\n};\nfunction getScriptSrcFromScriptTag(scriptTag) {\n  const SRC_REGEX = /src=\"(.*?)\"/g;\n  const source = SRC_REGEX.exec(scriptTag);\n  return source[1];\n}\nfunction getScriptsFromHTMLContent(htmlContent) {\n  const sriptsArray = htmlContent.match(SCRIPT_TAG_REGEX);\n  const vendorScript = getScriptSrcFromScriptTag(sriptsArray[0]);\n  const mainScript = getScriptSrcFromScriptTag(sriptsArray[1]);\n  return {\n    vendorScript,\n    mainScript\n  };\n}\nfunction createOutputHTML() {\n  const outputModernHTMLContent = getContent(MODERN_INPUT_APP_HTML, TYPES);\n  const outputLegacyHTMLContent = getContent(LEGACY_INPUT_APP_HTML, TYPES);\n  const outputHTMLTemplate = _lodash.default.template(getFileContent(INPUT_WIDGET_HTML));\n  const browserRegexExp = (0, _browserslistUseragentRegexp.getUserAgentRegExp)({\n    allowHigherVersions: true,\n    env: 'production-modern'\n  });\n  const parts = browserRegexExp.toString().split('\\\\');\n  const modifiedBrowserRegexExp = parts.join('\\\\\\\\\\\\\\\\');\n  const modernScriptUrls = getScriptsFromHTMLContent(outputModernHTMLContent);\n  const legacyScriptUrls = getScriptsFromHTMLContent(outputLegacyHTMLContent);\n  return outputHTMLTemplate({\n    // We need to strip first and last slash from regexExpression as this will go as a string.\n    modernBrowserRegex: modifiedBrowserRegexExp.slice(1, modifiedBrowserRegexExp.length - 1),\n    modernVendorUrl: modernScriptUrls.vendorScript,\n    modernMainUrl: modernScriptUrls.mainScript,\n    legacyVendorUrl: legacyScriptUrls.vendorScript,\n    legacyMainUrl: legacyScriptUrls.mainScript,\n    appHost: process.env.VITE_HOST\n  });\n}\nfunction createOutputBundle(widgetHTML) {\n  const inputWidgetJS = getFileContent(INPUT_WIDGET_JS);\n  const resolvedOutput = (0, _optimiseJS.default)(inputWidgetJS.replace(/__HTML__/, widgetHTML));\n  _fsExtra.default.writeFileSync(OUTPUT_WIDGET_JS, resolvedOutput, 'utf8');\n}\nfunction createVersionFolder() {\n  _fsExtra.default.copySync(_config.default.BUILD_STATIC_DIR, _config.default.BUILD_VERSION_DIR, {\n    dereference: true\n  });\n  _fsExtra.default.copySync(_config.default.MODERN_BUILD_JS_BUNDLE_DIR, _config.default.JS_BUILD_DIR, {\n    dereference: true\n  });\n  (0, _runBashScript.default)('rm -rf modern-build');\n}\nfunction removeExtraFiles() {\n  return new Promise((resolve, reject) => {\n    _fsExtra.default.removeSync(_config.default.BUILD_STATIC_DIR); //remove static dir\n\n    // remove all the other files kept flat in build dir\n    (0, _recursiveReaddir.default)(_config.default.BUILD_DIR, (err, files) => {\n      if (err) {\n        console.log(err);\n        reject();\n        return;\n      }\n      files.filter(file => {\n        return !file.match(_config.default.BUILD_VERSION_DIR);\n      }).forEach(file => {\n        return _fsExtra.default.removeSync(file);\n      });\n      resolve();\n    });\n  });\n}\nasync function preUpload() {\n  createOutputBundle(createOutputHTML());\n  createVersionFolder();\n  await removeExtraFiles();\n}\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9kYXNoIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZnNFeHRyYSIsIl9wYXRoIiwiX3JlY3Vyc2l2ZVJlYWRkaXIiLCJfY2hlZXJpbyIsIl9vcHRpbWlzZUpTIiwiX2Jyb3dzZXJzbGlzdFVzZXJhZ2VudFJlZ2V4cCIsIl9jb25maWciLCJfcnVuQmFzaFNjcmlwdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiVFlQRVMiLCJMRUdBQ1lfSU5QVVRfQVBQX0hUTUwiLCJwYXRoIiwicmVzb2x2ZSIsImNvbmZpZyIsIkJVSUxEX0RJUiIsIk1PREVSTl9JTlBVVF9BUFBfSFRNTCIsIk1PREVSTl9CVUlMRF9ESVIiLCJJTlBVVF9XSURHRVRfSFRNTCIsIldJREdFVF9ESVIiLCJJTlBVVF9XSURHRVRfSlMiLCJPVVRQVVRfV0lER0VUX0pTIiwiam9pbiIsIkJVSUxEX1NUQVRJQ19ESVIiLCJTQ1JJUFRfVEFHX1JFR0VYIiwiZ2V0RmlsZUNvbnRlbnQiLCJmaWxlUGF0aCIsImZzIiwicmVhZEZpbGVTeW5jIiwiZ2V0Q29udGVudCIsInR5cGVzIiwiZmlsZUNvbnRlbnQiLCIkIiwiY2hlZXJpbyIsImxvYWQiLCJtYXAiLCJ0eXBlIiwiZmlsdGVyIiwiaSIsImVsIiwiYXR0cmlicyIsImdldFNjcmlwdFNyY0Zyb21TY3JpcHRUYWciLCJzY3JpcHRUYWciLCJTUkNfUkVHRVgiLCJzb3VyY2UiLCJleGVjIiwiZ2V0U2NyaXB0c0Zyb21IVE1MQ29udGVudCIsImh0bWxDb250ZW50Iiwic3JpcHRzQXJyYXkiLCJtYXRjaCIsInZlbmRvclNjcmlwdCIsIm1haW5TY3JpcHQiLCJjcmVhdGVPdXRwdXRIVE1MIiwib3V0cHV0TW9kZXJuSFRNTENvbnRlbnQiLCJvdXRwdXRMZWdhY3lIVE1MQ29udGVudCIsIm91dHB1dEhUTUxUZW1wbGF0ZSIsIl8iLCJ0ZW1wbGF0ZSIsImJyb3dzZXJSZWdleEV4cCIsImdldFVzZXJBZ2VudFJlZ0V4cCIsImFsbG93SGlnaGVyVmVyc2lvbnMiLCJlbnYiLCJwYXJ0cyIsInRvU3RyaW5nIiwic3BsaXQiLCJtb2RpZmllZEJyb3dzZXJSZWdleEV4cCIsIm1vZGVyblNjcmlwdFVybHMiLCJsZWdhY3lTY3JpcHRVcmxzIiwibW9kZXJuQnJvd3NlclJlZ2V4Iiwic2xpY2UiLCJsZW5ndGgiLCJtb2Rlcm5WZW5kb3JVcmwiLCJtb2Rlcm5NYWluVXJsIiwibGVnYWN5VmVuZG9yVXJsIiwibGVnYWN5TWFpblVybCIsImFwcEhvc3QiLCJwcm9jZXNzIiwiVklURV9IT1NUIiwiY3JlYXRlT3V0cHV0QnVuZGxlIiwid2lkZ2V0SFRNTCIsImlucHV0V2lkZ2V0SlMiLCJyZXNvbHZlZE91dHB1dCIsIm9wdGltaXNlSlNDb2RlIiwicmVwbGFjZSIsIndyaXRlRmlsZVN5bmMiLCJjcmVhdGVWZXJzaW9uRm9sZGVyIiwiY29weVN5bmMiLCJCVUlMRF9WRVJTSU9OX0RJUiIsImRlcmVmZXJlbmNlIiwiTU9ERVJOX0JVSUxEX0pTX0JVTkRMRV9ESVIiLCJKU19CVUlMRF9ESVIiLCJzaCIsInJlbW92ZUV4dHJhRmlsZXMiLCJQcm9taXNlIiwicmVqZWN0IiwicmVtb3ZlU3luYyIsInJlY3Vyc2l2ZSIsImVyciIsImZpbGVzIiwiY29uc29sZSIsImxvZyIsImZpbGUiLCJmb3JFYWNoIiwicHJlVXBsb2FkIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC93aWRnZXQvIiwic291cmNlcyI6WyJwcmVwYXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXNlcjogYWJoaW5hdnNpbmdpXG4gKiBEYXRlOiAwNC8wMi8xOVxuICogVGltZTogNDo0OCBQTVxuICogRGVzYzogVXNpbmcgaW5kZXguaHRtbCBvdXRwdXR0ZWQgYnkgd2VicGFjayBhbmQgd2lkZ2V0LmpzIHdyaXR0ZW4gLSBpdCBjcmVhdGVzIHdpZGdldC5qcyB3aGljaCBpcyB0byBiZSB1cGxvYWRlZCBhbmQgZW50cnkgb2Ygd2hpY2ggaXMgdG8gYmUgdXBkYXRlZCBpbiBiYWNrZW5kXG4gKi9cblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBmcyBmcm9tICdmcy1leHRyYSc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCByZWN1cnNpdmUgZnJvbSAncmVjdXJzaXZlLXJlYWRkaXInO1xuaW1wb3J0IGNoZWVyaW8gZnJvbSAnY2hlZXJpbyc7XG5pbXBvcnQgb3B0aW1pc2VKU0NvZGUgZnJvbSAnLi4vdG9vbHMvb3B0aW1pc2VKUyc7XG5pbXBvcnQgeyBnZXRVc2VyQWdlbnRSZWdFeHAgfSBmcm9tICdicm93c2Vyc2xpc3QtdXNlcmFnZW50LXJlZ2V4cCc7XG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHNoIGZyb20gJy4uL3Rvb2xzL3J1bkJhc2hTY3JpcHQnO1xuXG5jb25zdCBUWVBFUyA9IFsnbGluaycsICdzY3JpcHQnXTtcblxuY29uc3QgTEVHQUNZX0lOUFVUX0FQUF9IVE1MID0gcGF0aC5yZXNvbHZlKGNvbmZpZy5CVUlMRF9ESVIsICdpbmRleC5odG1sJyk7XG5jb25zdCBNT0RFUk5fSU5QVVRfQVBQX0hUTUwgPSBwYXRoLnJlc29sdmUoY29uZmlnLk1PREVSTl9CVUlMRF9ESVIsICdpbmRleC5odG1sJyk7XG5cbmNvbnN0IElOUFVUX1dJREdFVF9IVE1MID0gcGF0aC5yZXNvbHZlKGNvbmZpZy5XSURHRVRfRElSLCAnd2lkZ2V0Lmh0bWwnKTtcbmNvbnN0IElOUFVUX1dJREdFVF9KUyA9IHBhdGgucmVzb2x2ZShjb25maWcuV0lER0VUX0RJUiwgJ3dpZGdldC5qcycpO1xuXG5jb25zdCBPVVRQVVRfV0lER0VUX0pTID0gcGF0aC5qb2luKGNvbmZpZy5CVUlMRF9TVEFUSUNfRElSLCAnd2lkZ2V0LmpzJyk7XG5cbmNvbnN0IFNDUklQVF9UQUdfUkVHRVggPSAvPHNjcmlwdFxcYltePl0qPltcXHNcXFNdKj88XFwvc2NyaXB0XFxiW14+XSo+L2c7XG5cbmZ1bmN0aW9uIGdldEZpbGVDb250ZW50KGZpbGVQYXRoKSB7XG4gIHJldHVybiBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsICd1dGY4Jyk7XG59XG5cbmNvbnN0IGdldENvbnRlbnQgPSAoZmlsZVBhdGgsIHR5cGVzKSA9PiB7XG4gIGNvbnN0IGZpbGVDb250ZW50ID0gZ2V0RmlsZUNvbnRlbnQoZmlsZVBhdGgpO1xuICBjb25zdCAkID0gY2hlZXJpby5sb2FkKGZpbGVDb250ZW50KTtcbiAgLy8gU2NyaXB0cywgTGlua3MsIGV0Yy4gaGF2aW5nIGBtb2RlYCBhdHRyaWJ1dGUgYXMgZGV2ZWxvcG1lbnQgc2hvdWxkbid0IGJlIGluIHByb2R1Y3Rpb24gYnVuZGxlc1xuICByZXR1cm4gdHlwZXMubWFwKHR5cGUgPT4gJCh0eXBlKS5maWx0ZXIoKGksIGVsKSA9PiBlbC5hdHRyaWJzWydkYXRhLW1vZGUnXSAhPT0gJ2RldmVsb3BtZW50JykpLmpvaW4oJycpO1xufVxuXG5mdW5jdGlvbiBnZXRTY3JpcHRTcmNGcm9tU2NyaXB0VGFnIChzY3JpcHRUYWcpIHtcbiAgY29uc3QgU1JDX1JFR0VYID0gL3NyYz1cIiguKj8pXCIvZztcbiAgY29uc3Qgc291cmNlID0gU1JDX1JFR0VYLmV4ZWMoc2NyaXB0VGFnKTtcbiAgcmV0dXJuIHNvdXJjZVsxXTtcbn1cblxuZnVuY3Rpb24gZ2V0U2NyaXB0c0Zyb21IVE1MQ29udGVudCAoaHRtbENvbnRlbnQpIHtcbiAgY29uc3Qgc3JpcHRzQXJyYXkgPSBodG1sQ29udGVudC5tYXRjaChTQ1JJUFRfVEFHX1JFR0VYKTtcbiAgY29uc3QgdmVuZG9yU2NyaXB0ID0gZ2V0U2NyaXB0U3JjRnJvbVNjcmlwdFRhZyhzcmlwdHNBcnJheVswXSk7XG4gIGNvbnN0IG1haW5TY3JpcHQgPSBnZXRTY3JpcHRTcmNGcm9tU2NyaXB0VGFnKHNyaXB0c0FycmF5WzFdKTtcbiAgcmV0dXJuIHtcbiAgICB2ZW5kb3JTY3JpcHQsXG4gICAgbWFpblNjcmlwdCxcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVPdXRwdXRIVE1MKCkge1xuICBjb25zdCBvdXRwdXRNb2Rlcm5IVE1MQ29udGVudCA9IGdldENvbnRlbnQoTU9ERVJOX0lOUFVUX0FQUF9IVE1MLCBUWVBFUyk7XG4gIGNvbnN0IG91dHB1dExlZ2FjeUhUTUxDb250ZW50ID0gZ2V0Q29udGVudChMRUdBQ1lfSU5QVVRfQVBQX0hUTUwsIFRZUEVTKTtcblxuICBjb25zdCBvdXRwdXRIVE1MVGVtcGxhdGUgPSBfLnRlbXBsYXRlKGdldEZpbGVDb250ZW50KElOUFVUX1dJREdFVF9IVE1MKSk7XG5cbiAgY29uc3QgYnJvd3NlclJlZ2V4RXhwID0gZ2V0VXNlckFnZW50UmVnRXhwKHtcbiAgICBhbGxvd0hpZ2hlclZlcnNpb25zOiB0cnVlLFxuICAgIGVudjogJ3Byb2R1Y3Rpb24tbW9kZXJuJ1xuICB9KTtcbiAgY29uc3QgcGFydHMgPSBicm93c2VyUmVnZXhFeHAudG9TdHJpbmcoKS5zcGxpdCgnXFxcXCcpO1xuICBjb25zdCBtb2RpZmllZEJyb3dzZXJSZWdleEV4cCA9IHBhcnRzLmpvaW4oJ1xcXFxcXFxcXFxcXFxcXFwnKTtcblxuICBjb25zdCBtb2Rlcm5TY3JpcHRVcmxzID0gZ2V0U2NyaXB0c0Zyb21IVE1MQ29udGVudChvdXRwdXRNb2Rlcm5IVE1MQ29udGVudCk7XG4gIGNvbnN0IGxlZ2FjeVNjcmlwdFVybHMgPSBnZXRTY3JpcHRzRnJvbUhUTUxDb250ZW50KG91dHB1dExlZ2FjeUhUTUxDb250ZW50KTtcblxuICByZXR1cm4gb3V0cHV0SFRNTFRlbXBsYXRlKHtcbiAgICAvLyBXZSBuZWVkIHRvIHN0cmlwIGZpcnN0IGFuZCBsYXN0IHNsYXNoIGZyb20gcmVnZXhFeHByZXNzaW9uIGFzIHRoaXMgd2lsbCBnbyBhcyBhIHN0cmluZy5cbiAgICBtb2Rlcm5Ccm93c2VyUmVnZXg6IG1vZGlmaWVkQnJvd3NlclJlZ2V4RXhwLnNsaWNlKDEsIG1vZGlmaWVkQnJvd3NlclJlZ2V4RXhwLmxlbmd0aCAtMSksXG4gICAgbW9kZXJuVmVuZG9yVXJsOiBtb2Rlcm5TY3JpcHRVcmxzLnZlbmRvclNjcmlwdCxcbiAgICBtb2Rlcm5NYWluVXJsOiBtb2Rlcm5TY3JpcHRVcmxzLm1haW5TY3JpcHQsXG4gICAgbGVnYWN5VmVuZG9yVXJsOiBsZWdhY3lTY3JpcHRVcmxzLnZlbmRvclNjcmlwdCxcbiAgICBsZWdhY3lNYWluVXJsOiBsZWdhY3lTY3JpcHRVcmxzLm1haW5TY3JpcHQsXG4gICAgYXBwSG9zdDogcHJvY2Vzcy5lbnYuVklURV9IT1NULFxuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlT3V0cHV0QnVuZGxlKHdpZGdldEhUTUwpIHtcbiAgY29uc3QgaW5wdXRXaWRnZXRKUyA9IGdldEZpbGVDb250ZW50KElOUFVUX1dJREdFVF9KUyk7XG4gIGNvbnN0IHJlc29sdmVkT3V0cHV0ID0gb3B0aW1pc2VKU0NvZGUoaW5wdXRXaWRnZXRKUy5yZXBsYWNlKC9fX0hUTUxfXy8sIHdpZGdldEhUTUwpKTtcbiAgZnMud3JpdGVGaWxlU3luYyhPVVRQVVRfV0lER0VUX0pTLCByZXNvbHZlZE91dHB1dCwgJ3V0ZjgnKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVmVyc2lvbkZvbGRlcigpIHtcbiAgZnMuY29weVN5bmMoY29uZmlnLkJVSUxEX1NUQVRJQ19ESVIsIGNvbmZpZy5CVUlMRF9WRVJTSU9OX0RJUiwge1xuICAgIGRlcmVmZXJlbmNlOiB0cnVlLFxuICB9KTtcbiAgZnMuY29weVN5bmMoY29uZmlnLk1PREVSTl9CVUlMRF9KU19CVU5ETEVfRElSLCBjb25maWcuSlNfQlVJTERfRElSLCB7XG4gICAgZGVyZWZlcmVuY2U6IHRydWUsXG4gIH0pO1xuICBzaCgncm0gLXJmIG1vZGVybi1idWlsZCcpXG59XG5cbmZ1bmN0aW9uIHJlbW92ZUV4dHJhRmlsZXMoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZnMucmVtb3ZlU3luYyhjb25maWcuQlVJTERfU1RBVElDX0RJUik7IC8vcmVtb3ZlIHN0YXRpYyBkaXJcblxuICAgIC8vIHJlbW92ZSBhbGwgdGhlIG90aGVyIGZpbGVzIGtlcHQgZmxhdCBpbiBidWlsZCBkaXJcbiAgICByZWN1cnNpdmUoY29uZmlnLkJVSUxEX0RJUiwgKGVyciwgZmlsZXMpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZpbGVzXG4gICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgZmlsZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gIWZpbGUubWF0Y2goY29uZmlnLkJVSUxEX1ZFUlNJT05fRElSKTtcbiAgICAgICAgICB9LFxuICAgICAgICApXG4gICAgICAgIC5mb3JFYWNoKFxuICAgICAgICAgIGZpbGUgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGZzLnJlbW92ZVN5bmMoZmlsZSlcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICByZXNvbHZlKClcbiAgICB9KTtcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gcHJlVXBsb2FkKCkge1xuICBjcmVhdGVPdXRwdXRCdW5kbGUoY3JlYXRlT3V0cHV0SFRNTCgpKTtcbiAgY3JlYXRlVmVyc2lvbkZvbGRlcigpO1xuICBhd2FpdCByZW1vdmVFeHRyYUZpbGVzKCk7XG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBT0EsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsaUJBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLFFBQUEs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","map":{"version":3,"names":["_lodash","_interopRequireDefault","require","_fsExtra","_path","_recursiveReaddir","_cheerio","_optimiseJS","_browserslistUseragentRegexp","_config","_runBashScript","obj","__esModule","default","TYPES","LEGACY_INPUT_APP_HTML","path","resolve","config","BUILD_DIR","MODERN_INPUT_APP_HTML","MODERN_BUILD_DIR","INPUT_WIDGET_HTML","WIDGET_DIR","INPUT_WIDGET_JS","OUTPUT_WIDGET_JS","join","BUILD_STATIC_DIR","SCRIPT_TAG_REGEX","getFileContent","filePath","fs","readFileSync","getContent","types","fileContent","$","cheerio","load","map","type","filter","i","el","attribs","getScriptSrcFromScriptTag","scriptTag","SRC_REGEX","source","exec","getScriptsFromHTMLContent","htmlContent","sriptsArray","match","vendorScript","mainScript","createOutputHTML","outputModernHTMLContent","outputLegacyHTMLContent","outputHTMLTemplate","_","template","browserRegexExp","getUserAgentRegExp","allowHigherVersions","env","parts","toString","split","modifiedBrowserRegexExp","modernScriptUrls","legacyScriptUrls","modernBrowserRegex","slice","length","modernVendorUrl","modernMainUrl","legacyVendorUrl","legacyMainUrl","appHost","process","VITE_HOST","createOutputBundle","widgetHTML","inputWidgetJS","resolvedOutput","optimiseJSCode","replace","writeFileSync","createVersionFolder","copySync","BUILD_VERSION_DIR","dereference","MODERN_BUILD_JS_BUNDLE_DIR","JS_BUILD_DIR","sh","removeExtraFiles","Promise","reject","removeSync","recursive","err","files","console","log","file","forEach","preUpload"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/","sources":["prepare.js"],"sourcesContent":["/**\n * User: abhinavsingi\n * Date: 04/02/19\n * Time: 4:48 PM\n * Desc: Using index.html outputted by webpack and widget.js written - it creates widget.js which is to be uploaded and entry of which is to be updated in backend\n */\n\nimport _ from 'lodash';\nimport fs from 'fs-extra';\nimport path from 'path';\nimport recursive from 'recursive-readdir';\nimport cheerio from 'cheerio';\nimport optimiseJSCode from '../tools/optimiseJS';\nimport { getUserAgentRegExp } from 'browserslist-useragent-regexp';\n\nimport config from './config';\nimport sh from '../tools/runBashScript';\n\nconst TYPES = ['link', 'script'];\n\nconst LEGACY_INPUT_APP_HTML = path.resolve(config.BUILD_DIR, 'index.html');\nconst MODERN_INPUT_APP_HTML = path.resolve(config.MODERN_BUILD_DIR, 'index.html');\n\nconst INPUT_WIDGET_HTML = path.resolve(config.WIDGET_DIR, 'widget.html');\nconst INPUT_WIDGET_JS = path.resolve(config.WIDGET_DIR, 'widget.js');\n\nconst OUTPUT_WIDGET_JS = path.join(config.BUILD_STATIC_DIR, 'widget.js');\n\nconst SCRIPT_TAG_REGEX = /<script\\b[^>]*>[\\s\\S]*?<\\/script\\b[^>]*>/g;\n\nfunction getFileContent(filePath) {\n  return fs.readFileSync(filePath, 'utf8');\n}\n\nconst getContent = (filePath, types) => {\n  const fileContent = getFileContent(filePath);\n  const $ = cheerio.load(fileContent);\n  // Scripts, Links, etc. having `mode` attribute as development shouldn't be in production bundles\n  return types.map(type => $(type).filter((i, el) => el.attribs['data-mode'] !== 'development')).join('');\n}\n\nfunction getScriptSrcFromScriptTag (scriptTag) {\n  const SRC_REGEX = /src=\"(.*?)\"/g;\n  const source = SRC_REGEX.exec(scriptTag);\n  return source[1];\n}\n\nfunction getScriptsFromHTMLContent (htmlContent) {\n  const sriptsArray = htmlContent.match(SCRIPT_TAG_REGEX);\n  const vendorScript = getScriptSrcFromScriptTag(sriptsArray[0]);\n  const mainScript = getScriptSrcFromScriptTag(sriptsArray[1]);\n  return {\n    vendorScript,\n    mainScript,\n  }\n}\n\nfunction createOutputHTML() {\n  const outputModernHTMLContent = getContent(MODERN_INPUT_APP_HTML, TYPES);\n  const outputLegacyHTMLContent = getContent(LEGACY_INPUT_APP_HTML, TYPES);\n\n  const outputHTMLTemplate = _.template(getFileContent(INPUT_WIDGET_HTML));\n\n  const browserRegexExp = getUserAgentRegExp({\n    allowHigherVersions: true,\n    env: 'production-modern'\n  });\n  const parts = browserRegexExp.toString().split('\\\\');\n  const modifiedBrowserRegexExp = parts.join('\\\\\\\\\\\\\\\\');\n\n  const modernScriptUrls = getScriptsFromHTMLContent(outputModernHTMLContent);\n  const legacyScriptUrls = getScriptsFromHTMLContent(outputLegacyHTMLContent);\n\n  return outputHTMLTemplate({\n    // We need to strip first and last slash from regexExpression as this will go as a string.\n    modernBrowserRegex: modifiedBrowserRegexExp.slice(1, modifiedBrowserRegexExp.length -1),\n    modernVendorUrl: modernScriptUrls.vendorScript,\n    modernMainUrl: modernScriptUrls.mainScript,\n    legacyVendorUrl: legacyScriptUrls.vendorScript,\n    legacyMainUrl: legacyScriptUrls.mainScript,\n    appHost: process.env.VITE_HOST,\n  });\n}\n\nfunction createOutputBundle(widgetHTML) {\n  const inputWidgetJS = getFileContent(INPUT_WIDGET_JS);\n  const resolvedOutput = optimiseJSCode(inputWidgetJS.replace(/__HTML__/, widgetHTML));\n  fs.writeFileSync(OUTPUT_WIDGET_JS, resolvedOutput, 'utf8');\n}\n\nfunction createVersionFolder() {\n  fs.copySync(config.BUILD_STATIC_DIR, config.BUILD_VERSION_DIR, {\n    dereference: true,\n  });\n  fs.copySync(config.MODERN_BUILD_JS_BUNDLE_DIR, config.JS_BUILD_DIR, {\n    dereference: true,\n  });\n  sh('rm -rf modern-build')\n}\n\nfunction removeExtraFiles() {\n  return new Promise((resolve, reject) => {\n    fs.removeSync(config.BUILD_STATIC_DIR); //remove static dir\n\n    // remove all the other files kept flat in build dir\n    recursive(config.BUILD_DIR, (err, files) => {\n      if (err) {\n        console.log(err);\n        reject();\n        return;\n      }\n      files\n        .filter(\n          file => {\n            return !file.match(config.BUILD_VERSION_DIR);\n          },\n        )\n        .forEach(\n          file => {\n            return fs.removeSync(file)\n          }\n        );\n      resolve()\n    });\n  })\n}\n\nexport default async function preUpload() {\n  createOutputBundle(createOutputHTML());\n  createVersionFolder();\n  await removeExtraFiles();\n};"],"mappings":"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"}},"mtime":1688971141328},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _s3uploader = require(\"./s3uploader\");\nvar _gcpUploader = require(\"./gcpUploader\");\nvar _util = require(\"./util\");\nvar _helper = require(\"./helper\");\nconst CDN_URL = process.env.VITE_CDN_URL; // Keep prod0 - middle of prod and qa\nvar _default = async params => {\n  if (_gcpUploader.GCP_STORAGE_BUCKET) {\n    await (0, _util.uploadDir)({\n      ...params,\n      uploadFile: _gcpUploader.uploadFile\n    });\n  } else if (_s3uploader.S3_BUCKET) {\n    await (0, _util.uploadDir)({\n      ...params,\n      uploadFile: _s3uploader.uploadFile\n    });\n  } else {\n    throw Error('No upload config present');\n  }\n  return `https://${CDN_URL}/${(0, _helper.getUploadUrl)(params.dirToUpload, params.dirToUpload, params.uploadUrl)}`;\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfczN1cGxvYWRlciIsInJlcXVpcmUiLCJfZ2NwVXBsb2FkZXIiLCJfdXRpbCIsIl9oZWxwZXIiLCJDRE5fVVJMIiwicHJvY2VzcyIsImVudiIsIlZJVEVfQ0ROX1VSTCIsIl9kZWZhdWx0IiwicGFyYW1zIiwiR0NQX1NUT1JBR0VfQlVDS0VUIiwidXBsb2FkRGlyIiwidXBsb2FkRmlsZSIsInVwbG9hZEZpbGVUb0dDUCIsIlMzX0JVQ0tFVCIsInVwbG9hZEZpbGVUb1MzIiwiRXJyb3IiLCJnZXRVcGxvYWRVcmwiLCJkaXJUb1VwbG9hZCIsInVwbG9hZFVybCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC91cGxvYWQvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1cGxvYWRGaWxlIGFzIHVwbG9hZEZpbGVUb1MzLCBTM19CVUNLRVQgfSBmcm9tICcuL3MzdXBsb2FkZXInO1xuaW1wb3J0IHsgdXBsb2FkRmlsZSBhcyB1cGxvYWRGaWxlVG9HQ1AsIEdDUF9TVE9SQUdFX0JVQ0tFVCB9IGZyb20gJy4vZ2NwVXBsb2FkZXInO1xuaW1wb3J0IHsgdXBsb2FkRGlyIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGdldFVwbG9hZFVybCB9IGZyb20gJy4vaGVscGVyJztcblxuY29uc3QgQ0ROX1VSTCA9IHByb2Nlc3MuZW52LlZJVEVfQ0ROX1VSTDsgLy8gS2VlcCBwcm9kMCAtIG1pZGRsZSBvZiBwcm9kIGFuZCBxYVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyAocGFyYW1zKSA9PiB7XG4gIGlmIChHQ1BfU1RPUkFHRV9CVUNLRVQpIHtcbiAgICBhd2FpdCB1cGxvYWREaXIoe1xuICAgICAgLi4ucGFyYW1zLFxuICAgICAgdXBsb2FkRmlsZTogdXBsb2FkRmlsZVRvR0NQLFxuICAgIH0pO1xuICB9XG4gIGVsc2UgaWYgKFMzX0JVQ0tFVCkge1xuICAgIGF3YWl0IHVwbG9hZERpcih7XG4gICAgICAuLi5wYXJhbXMsXG4gICAgICB1cGxvYWRGaWxlOiB1cGxvYWRGaWxlVG9TM1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IEVycm9yKCdObyB1cGxvYWQgY29uZmlnIHByZXNlbnQnKTtcbiAgfVxuICByZXR1cm4gYGh0dHBzOi8vJHtDRE5fVVJMfS8ke2dldFVwbG9hZFVybChwYXJhbXMuZGlyVG9VcGxvYWQsIHBhcmFtcy5kaXJUb1VwbG9hZCwgcGFyYW1zLnVwbG9hZFVybCl9YDtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFdBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLE9BQUEsR0FBQUgsT0FBQTtBQUVBLE1BQU1JLE9BQU8sR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFlBQVksQ0FBQyxDQUFDO0FBQUEsSUFBQUMsUUFBQSxHQUUzQixNQUFPQyxNQUFNLElBQUs7RUFDL0IsSUFBSUMsK0JBQWtCLEVBQUU7SUFDdEIsTUFBTSxJQUFBQyxlQUFTLEVBQUM7TUFDZCxHQUFHRixNQUFNO01BQ1RHLFVBQVUsRUFBRUM7SUFDZCxDQUFDLENBQUM7RUFDSixDQUFDLE1BQ0ksSUFBSUMscUJBQVMsRUFBRTtJQUNsQixNQUFNLElBQUFILGVBQVMsRUFBQztNQUNkLEdBQUdGLE1BQU07TUFDVEcsVUFBVSxFQUFFRztJQUNkLENBQUMsQ0FBQztFQUNKLENBQUMsTUFBTTtJQUNMLE1BQU1DLEtBQUssQ0FBQywwQkFBMEIsQ0FBQztFQUN6QztFQUNBLE9BQVEsV0FBVVosT0FBUSxJQUFHLElBQUFhLG9CQUFZLEVBQUNSLE1BQU0sQ0FBQ1MsV0FBVyxFQUFFVCxNQUFNLENBQUNTLFdBQVcsRUFBRVQsTUFBTSxDQUFDVSxTQUFTLENBQUUsRUFBQztBQUN2RyxDQUFDO0FBQUFDLE9BQUEsQ0FBQUMsT0FBQSxHQUFBYixRQUFBIn0=","map":{"version":3,"names":["_s3uploader","require","_gcpUploader","_util","_helper","CDN_URL","process","env","VITE_CDN_URL","_default","params","GCP_STORAGE_BUCKET","uploadDir","uploadFile","uploadFileToGCP","S3_BUCKET","uploadFileToS3","Error","getUploadUrl","dirToUpload","uploadUrl","exports","default"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/","sources":["index.js"],"sourcesContent":["import { uploadFile as uploadFileToS3, S3_BUCKET } from './s3uploader';\nimport { uploadFile as uploadFileToGCP, GCP_STORAGE_BUCKET } from './gcpUploader';\nimport { uploadDir } from './util';\nimport { getUploadUrl } from './helper';\n\nconst CDN_URL = process.env.VITE_CDN_URL; // Keep prod0 - middle of prod and qa\n\nexport default async (params) => {\n  if (GCP_STORAGE_BUCKET) {\n    await uploadDir({\n      ...params,\n      uploadFile: uploadFileToGCP,\n    });\n  }\n  else if (S3_BUCKET) {\n    await uploadDir({\n      ...params,\n      uploadFile: uploadFileToS3\n    });\n  } else {\n    throw Error('No upload config present');\n  }\n  return `https://${CDN_URL}/${getUploadUrl(params.dirToUpload, params.dirToUpload, params.uploadUrl)}`;\n};\n"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AACA,IAAAG,OAAA,GAAAH,OAAA;AAEA,MAAMI,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,YAAY,CAAC,CAAC;AAAA,IAAAC,QAAA,GAE3B,MAAOC,MAAM,IAAK;EAC/B,IAAIC,+BAAkB,EAAE;IACtB,MAAM,IAAAC,eAAS,EAAC;MACd,GAAGF,MAAM;MACTG,UAAU,EAAEC;IACd,CAAC,CAAC;EACJ,CAAC,MACI,IAAIC,qBAAS,EAAE;IAClB,MAAM,IAAAH,eAAS,EAAC;MACd,GAAGF,MAAM;MACTG,UAAU,EAAEG;IACd,CAAC,CAAC;EACJ,CAAC,MAAM;IACL,MAAMC,KAAK,CAAC,0BAA0B,CAAC;EACzC;EACA,OAAQ,WAAUZ,OAAQ,IAAG,IAAAa,oBAAY,EAACR,MAAM,CAACS,WAAW,EAAET,MAAM,CAACS,WAAW,EAAET,MAAM,CAACU,SAAS,CAAE,EAAC;AACvG,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAb,QAAA"}},"mtime":1688971256474},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/optimiseJS.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = optimiseJSCode;\nvar _terser = _interopRequireDefault(require(\"terser\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction optimiseJSCode(code) {\n  return _terser.default.minify(code, {\n    toplevel: true\n  }).code;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdGVyc2VyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm9wdGltaXNlSlNDb2RlIiwiY29kZSIsIlRlcnNlciIsIm1pbmlmeSIsInRvcGxldmVsIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC90b29scy8iLCJzb3VyY2VzIjpbIm9wdGltaXNlSlMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRlcnNlciBmcm9tIFwidGVyc2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG9wdGltaXNlSlNDb2RlKGNvZGUpIHtcbiAgcmV0dXJuIFRlcnNlci5taW5pZnkoY29kZSwgeyB0b3BsZXZlbDogdHJ1ZSB9KS5jb2RlO1xufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTRCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWIsU0FBU0csY0FBY0EsQ0FBQ0MsSUFBSSxFQUFFO0VBQzNDLE9BQU9DLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDRixJQUFJLEVBQUU7SUFBRUcsUUFBUSxFQUFFO0VBQUssQ0FBQyxDQUFDLENBQUNILElBQUk7QUFDckQifQ==","map":{"version":3,"names":["_terser","_interopRequireDefault","require","obj","__esModule","default","optimiseJSCode","code","Terser","minify","toplevel"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/","sources":["optimiseJS.js"],"sourcesContent":["import Terser from \"terser\";\n\nexport default function optimiseJSCode(code) {\n  return Terser.minify(code, { toplevel: true }).code;\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEb,SAASG,cAAcA,CAACC,IAAI,EAAE;EAC3C,OAAOC,eAAM,CAACC,MAAM,CAACF,IAAI,EAAE;IAAEG,QAAQ,EAAE;EAAK,CAAC,CAAC,CAACH,IAAI;AACrD"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/s3uploader.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.uploadFile = exports.S3_BUCKET = void 0;\nvar _awsSdk = _interopRequireDefault(require(\"aws-sdk\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _once2 = _interopRequireDefault(require(\"lodash/once\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst S3_BUCKET = process.env.S3_BUCKET;\nexports.S3_BUCKET = S3_BUCKET;\nconst S3_SECRET = process.env.S3_SECRET;\nconst S3_KEY = process.env.S3_KEY;\nconst getAWSS3Client = (0, _once2.default)(() => {\n  if (S3_BUCKET) {\n    return new _awsSdk.default.S3({\n      accessKeyId: S3_KEY,\n      secretAccessKey: S3_SECRET\n    });\n  }\n});\nconst client = getAWSS3Client();\nconst uploadFile = ({\n  file,\n  params\n}) => new Promise((resolve, reject) => {\n  const date = new Date();\n  const uploadParams = {\n    Bucket: S3_BUCKET,\n    CacheControl: params.cacheControl,\n    ContentEncoding: params.contentEncoding,\n    ContentType: params.contentType,\n    Expires: params.shouldCache ? new Date(date.setFullYear(date.getFullYear() + 1)) : null,\n    Key: params.key,\n    Body: _fs.default.createReadStream(file)\n  };\n  console.time(`Uploading - ${file}`);\n  client.upload(uploadParams, (err, data) => {\n    if (err) {\n      reject(err);\n    } else {\n      console.timeEnd(`Uploading - ${file}`);\n      resolve();\n    }\n  });\n});\nexports.uploadFile = uploadFile;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXdzU2RrIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZnMiLCJfb25jZTIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIlMzX0JVQ0tFVCIsInByb2Nlc3MiLCJlbnYiLCJleHBvcnRzIiwiUzNfU0VDUkVUIiwiUzNfS0VZIiwiZ2V0QVdTUzNDbGllbnQiLCJfb25jZSIsIkFXUyIsIlMzIiwiYWNjZXNzS2V5SWQiLCJzZWNyZXRBY2Nlc3NLZXkiLCJjbGllbnQiLCJ1cGxvYWRGaWxlIiwiZmlsZSIsInBhcmFtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZGF0ZSIsIkRhdGUiLCJ1cGxvYWRQYXJhbXMiLCJCdWNrZXQiLCJDYWNoZUNvbnRyb2wiLCJjYWNoZUNvbnRyb2wiLCJDb250ZW50RW5jb2RpbmciLCJjb250ZW50RW5jb2RpbmciLCJDb250ZW50VHlwZSIsImNvbnRlbnRUeXBlIiwiRXhwaXJlcyIsInNob3VsZENhY2hlIiwic2V0RnVsbFllYXIiLCJnZXRGdWxsWWVhciIsIktleSIsImtleSIsIkJvZHkiLCJmcyIsImNyZWF0ZVJlYWRTdHJlYW0iLCJjb25zb2xlIiwidGltZSIsInVwbG9hZCIsImVyciIsImRhdGEiLCJ0aW1lRW5kIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC91cGxvYWQvIiwic291cmNlcyI6WyJzM3VwbG9hZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBV1MgZnJvbSAnYXdzLXNkayc7XG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgX29uY2UgZnJvbSAnbG9kYXNoL29uY2UnO1xuXG5leHBvcnQgY29uc3QgUzNfQlVDS0VUID0gcHJvY2Vzcy5lbnYuUzNfQlVDS0VUO1xuY29uc3QgUzNfU0VDUkVUID0gcHJvY2Vzcy5lbnYuUzNfU0VDUkVUO1xuY29uc3QgUzNfS0VZID0gcHJvY2Vzcy5lbnYuUzNfS0VZO1xuXG5jb25zdCBnZXRBV1NTM0NsaWVudCA9IF9vbmNlKCgpID0+IHtcbiAgaWYgKFMzX0JVQ0tFVCkge1xuICAgIHJldHVybiBuZXcgQVdTLlMzKHtcbiAgICAgIGFjY2Vzc0tleUlkOiBTM19LRVksXG4gICAgICBzZWNyZXRBY2Nlc3NLZXk6IFMzX1NFQ1JFVCxcbiAgICB9KTtcbiAgfVxufSk7XG5cbmNvbnN0IGNsaWVudCA9IGdldEFXU1MzQ2xpZW50KCk7XG5cbmV4cG9ydCBjb25zdCB1cGxvYWRGaWxlID0gKHsgZmlsZSwgcGFyYW1zIH0pID0+XG4gIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcblxuICAgIGNvbnN0IHVwbG9hZFBhcmFtcyA9IHtcbiAgICAgIEJ1Y2tldDogUzNfQlVDS0VULFxuICAgICAgQ2FjaGVDb250cm9sOiBwYXJhbXMuY2FjaGVDb250cm9sLFxuICAgICAgQ29udGVudEVuY29kaW5nOiBwYXJhbXMuY29udGVudEVuY29kaW5nLFxuICAgICAgQ29udGVudFR5cGU6IHBhcmFtcy5jb250ZW50VHlwZSxcbiAgICAgIEV4cGlyZXM6IHBhcmFtcy5zaG91bGRDYWNoZSA/IG5ldyBEYXRlKGRhdGUuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpICsgMSkpIDogbnVsbCxcbiAgICAgIEtleTogcGFyYW1zLmtleSxcbiAgICAgIEJvZHk6IGZzLmNyZWF0ZVJlYWRTdHJlYW0oZmlsZSksXG4gICAgfTtcblxuICAgIGNvbnNvbGUudGltZShgVXBsb2FkaW5nIC0gJHtmaWxlfWApO1xuICAgIGNsaWVudC51cGxvYWQodXBsb2FkUGFyYW1zLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS50aW1lRW5kKGBVcGxvYWRpbmcgLSAke2ZpbGV9YCk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV6QixNQUFNRyxTQUFTLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixTQUFTO0FBQUNHLE9BQUEsQ0FBQUgsU0FBQSxHQUFBQSxTQUFBO0FBQy9DLE1BQU1JLFNBQVMsR0FBR0gsT0FBTyxDQUFDQyxHQUFHLENBQUNFLFNBQVM7QUFDdkMsTUFBTUMsTUFBTSxHQUFHSixPQUFPLENBQUNDLEdBQUcsQ0FBQ0csTUFBTTtBQUVqQyxNQUFNQyxjQUFjLEdBQUcsSUFBQUMsY0FBSyxFQUFDLE1BQU07RUFDakMsSUFBSVAsU0FBUyxFQUFFO0lBQ2IsT0FBTyxJQUFJUSxlQUFHLENBQUNDLEVBQUUsQ0FBQztNQUNoQkMsV0FBVyxFQUFFTCxNQUFNO01BQ25CTSxlQUFlLEVBQUVQO0lBQ25CLENBQUMsQ0FBQztFQUNKO0FBQ0YsQ0FBQyxDQUFDO0FBRUYsTUFBTVEsTUFBTSxHQUFHTixjQUFjLENBQUMsQ0FBQztBQUV4QixNQUFNTyxVQUFVLEdBQUdBLENBQUM7RUFBRUMsSUFBSTtFQUFFQztBQUFPLENBQUMsS0FDekMsSUFBSUMsT0FBTyxDQUFDLENBQUNDLE9BQU8sRUFBRUMsTUFBTSxLQUFLO0VBQy9CLE1BQU1DLElBQUksR0FBRyxJQUFJQyxJQUFJLENBQUMsQ0FBQztFQUV2QixNQUFNQyxZQUFZLEdBQUc7SUFDbkJDLE1BQU0sRUFBRXRCLFNBQVM7SUFDakJ1QixZQUFZLEVBQUVSLE1BQU0sQ0FBQ1MsWUFBWTtJQUNqQ0MsZUFBZSxFQUFFVixNQUFNLENBQUNXLGVBQWU7SUFDdkNDLFdBQVcsRUFBRVosTUFBTSxDQUFDYSxXQUFXO0lBQy9CQyxPQUFPLEVBQUVkLE1BQU0sQ0FBQ2UsV0FBVyxHQUFHLElBQUlWLElBQUksQ0FBQ0QsSUFBSSxDQUFDWSxXQUFXLENBQUNaLElBQUksQ0FBQ2EsV0FBVyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUk7SUFDdkZDLEdBQUcsRUFBRWxCLE1BQU0sQ0FBQ21CLEdBQUc7SUFDZkMsSUFBSSxFQUFFQyxXQUFFLENBQUNDLGdCQUFnQixDQUFDdkIsSUFBSTtFQUNoQyxDQUFDO0VBRUR3QixPQUFPLENBQUNDLElBQUksQ0FBRSxlQUFjekIsSUFBSyxFQUFDLENBQUM7RUFDbkNGLE1BQU0sQ0FBQzRCLE1BQU0sQ0FBQ25CLFlBQVksRUFBRSxDQUFDb0IsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDekMsSUFBSUQsR0FBRyxFQUFFO01BQ1B2QixNQUFNLENBQUN1QixHQUFHLENBQUM7SUFDYixDQUFDLE1BQU07TUFDTEgsT0FBTyxDQUFDSyxPQUFPLENBQUUsZUFBYzdCLElBQUssRUFBQyxDQUFDO01BQ3RDRyxPQUFPLENBQUMsQ0FBQztJQUNYO0VBQ0YsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBQUNkLE9BQUEsQ0FBQVUsVUFBQSxHQUFBQSxVQUFBIn0=","map":{"version":3,"names":["_awsSdk","_interopRequireDefault","require","_fs","_once2","obj","__esModule","default","S3_BUCKET","process","env","exports","S3_SECRET","S3_KEY","getAWSS3Client","_once","AWS","S3","accessKeyId","secretAccessKey","client","uploadFile","file","params","Promise","resolve","reject","date","Date","uploadParams","Bucket","CacheControl","cacheControl","ContentEncoding","contentEncoding","ContentType","contentType","Expires","shouldCache","setFullYear","getFullYear","Key","key","Body","fs","createReadStream","console","time","upload","err","data","timeEnd"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/","sources":["s3uploader.js"],"sourcesContent":["import AWS from 'aws-sdk';\nimport fs from \"fs\";\nimport _once from 'lodash/once';\n\nexport const S3_BUCKET = process.env.S3_BUCKET;\nconst S3_SECRET = process.env.S3_SECRET;\nconst S3_KEY = process.env.S3_KEY;\n\nconst getAWSS3Client = _once(() => {\n  if (S3_BUCKET) {\n    return new AWS.S3({\n      accessKeyId: S3_KEY,\n      secretAccessKey: S3_SECRET,\n    });\n  }\n});\n\nconst client = getAWSS3Client();\n\nexport const uploadFile = ({ file, params }) =>\n  new Promise((resolve, reject) => {\n    const date = new Date();\n\n    const uploadParams = {\n      Bucket: S3_BUCKET,\n      CacheControl: params.cacheControl,\n      ContentEncoding: params.contentEncoding,\n      ContentType: params.contentType,\n      Expires: params.shouldCache ? new Date(date.setFullYear(date.getFullYear() + 1)) : null,\n      Key: params.key,\n      Body: fs.createReadStream(file),\n    };\n\n    console.time(`Uploading - ${file}`);\n    client.upload(uploadParams, (err, data) => {\n      if (err) {\n        reject(err);\n      } else {\n        console.timeEnd(`Uploading - ${file}`);\n        resolve();\n      }\n    });\n  });\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,GAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,MAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEzB,MAAMG,SAAS,GAAGC,OAAO,CAACC,GAAG,CAACF,SAAS;AAACG,OAAA,CAAAH,SAAA,GAAAA,SAAA;AAC/C,MAAMI,SAAS,GAAGH,OAAO,CAACC,GAAG,CAACE,SAAS;AACvC,MAAMC,MAAM,GAAGJ,OAAO,CAACC,GAAG,CAACG,MAAM;AAEjC,MAAMC,cAAc,GAAG,IAAAC,cAAK,EAAC,MAAM;EACjC,IAAIP,SAAS,EAAE;IACb,OAAO,IAAIQ,eAAG,CAACC,EAAE,CAAC;MAChBC,WAAW,EAAEL,MAAM;MACnBM,eAAe,EAAEP;IACnB,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AAEF,MAAMQ,MAAM,GAAGN,cAAc,CAAC,CAAC;AAExB,MAAMO,UAAU,GAAGA,CAAC;EAAEC,IAAI;EAAEC;AAAO,CAAC,KACzC,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;EAC/B,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;EAEvB,MAAMC,YAAY,GAAG;IACnBC,MAAM,EAAEtB,SAAS;IACjBuB,YAAY,EAAER,MAAM,CAACS,YAAY;IACjCC,eAAe,EAAEV,MAAM,CAACW,eAAe;IACvCC,WAAW,EAAEZ,MAAM,CAACa,WAAW;IAC/BC,OAAO,EAAEd,MAAM,CAACe,WAAW,GAAG,IAAIV,IAAI,CAACD,IAAI,CAACY,WAAW,CAACZ,IAAI,CAACa,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI;IACvFC,GAAG,EAAElB,MAAM,CAACmB,GAAG;IACfC,IAAI,EAAEC,WAAE,CAACC,gBAAgB,CAACvB,IAAI;EAChC,CAAC;EAEDwB,OAAO,CAACC,IAAI,CAAE,eAAczB,IAAK,EAAC,CAAC;EACnCF,MAAM,CAAC4B,MAAM,CAACnB,YAAY,EAAE,CAACoB,GAAG,EAAEC,IAAI,KAAK;IACzC,IAAID,GAAG,EAAE;MACPvB,MAAM,CAACuB,GAAG,CAAC;IACb,CAAC,MAAM;MACLH,OAAO,CAACK,OAAO,CAAE,eAAc7B,IAAK,EAAC,CAAC;MACtCG,OAAO,CAAC,CAAC;IACX;EACF,CAAC,CAAC;AACJ,CAAC,CAAC;AAACd,OAAA,CAAAU,UAAA,GAAAA,UAAA"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/gcpUploader.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GCP_STORAGE_BUCKET = void 0;\nexports.uploadFile = uploadFile;\nvar _storage = require(\"@google-cloud/storage\");\nvar _once2 = _interopRequireDefault(require(\"lodash/once\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst GCP_STORAGE_BUCKET = process.env.GCP_STORAGE_BUCKET_NAME;\nexports.GCP_STORAGE_BUCKET = GCP_STORAGE_BUCKET;\nconst getGCPClient = (0, _once2.default)(() => {\n  if (GCP_STORAGE_BUCKET) {\n    return new _storage.Storage().bucket(GCP_STORAGE_BUCKET);\n  }\n});\nconst client = getGCPClient();\nasync function uploadFile({\n  file,\n  destination,\n  params\n}) {\n  console.time(`Uploading - ${file}`);\n  return new Promise((resolve, reject) => {\n    client.upload(file, {\n      destination,\n      metadata: {\n        contentEncoding: params.contentEncoding,\n        cacheControl: params.cacheControl,\n        contentType: params.contentType,\n        key: params.key\n      }\n    }, (err, data) => {\n      if (err) {\n        reject(err);\n      } else {\n        console.timeEnd(`Uploading - ${file}`);\n        resolve();\n      }\n    });\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfc3RvcmFnZSIsInJlcXVpcmUiLCJfb25jZTIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJHQ1BfU1RPUkFHRV9CVUNLRVQiLCJwcm9jZXNzIiwiZW52IiwiR0NQX1NUT1JBR0VfQlVDS0VUX05BTUUiLCJleHBvcnRzIiwiZ2V0R0NQQ2xpZW50IiwiX29uY2UiLCJTdG9yYWdlIiwiYnVja2V0IiwiY2xpZW50IiwidXBsb2FkRmlsZSIsImZpbGUiLCJkZXN0aW5hdGlvbiIsInBhcmFtcyIsImNvbnNvbGUiLCJ0aW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ1cGxvYWQiLCJtZXRhZGF0YSIsImNvbnRlbnRFbmNvZGluZyIsImNhY2hlQ29udHJvbCIsImNvbnRlbnRUeXBlIiwia2V5IiwiZXJyIiwiZGF0YSIsInRpbWVFbmQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9oYXJzaC5nb3lhbC9EZXNrdG9wL2NvbnZlcnQtc3ByaW5rbHItYXBwLXZpdGUvc3ByLW1lc3Nlbmdlci1jbGllbnQtdml0ZS9wYWNrYWdlcy93ZWIvaW50ZXJuYWxzL2J1aWxkL3VwbG9hZC8iLCJzb3VyY2VzIjpbImdjcFVwbG9hZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0b3JhZ2UgfSBmcm9tICdAZ29vZ2xlLWNsb3VkL3N0b3JhZ2UnO1xuaW1wb3J0IF9vbmNlIGZyb20gJ2xvZGFzaC9vbmNlJztcblxuZXhwb3J0IGNvbnN0IEdDUF9TVE9SQUdFX0JVQ0tFVCA9ICBwcm9jZXNzLmVudi5HQ1BfU1RPUkFHRV9CVUNLRVRfTkFNRTtcblxuY29uc3QgZ2V0R0NQQ2xpZW50ID0gX29uY2UoKCkgPT4ge1xuICBpZiAoR0NQX1NUT1JBR0VfQlVDS0VUKSB7XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlKCkuYnVja2V0KEdDUF9TVE9SQUdFX0JVQ0tFVClcbiAgfVxufSk7XG5cbmNvbnN0IGNsaWVudCA9IGdldEdDUENsaWVudCgpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBsb2FkRmlsZSh7IGZpbGUsIGRlc3RpbmF0aW9uLCBwYXJhbXMgfSkge1xuICBjb25zb2xlLnRpbWUoYFVwbG9hZGluZyAtICR7ZmlsZX1gKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCggcmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY2xpZW50LnVwbG9hZChmaWxlLCAge1xuICAgICAgZGVzdGluYXRpb24sXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBjb250ZW50RW5jb2Rpbmc6IHBhcmFtcy5jb250ZW50RW5jb2RpbmcsXG4gICAgICAgIGNhY2hlQ29udHJvbDogcGFyYW1zLmNhY2hlQ29udHJvbCxcbiAgICAgICAgY29udGVudFR5cGU6IHBhcmFtcy5jb250ZW50VHlwZSxcbiAgICAgICAga2V5OiBwYXJhbXMua2V5LFxuICAgICAgfVxuICAgIH0sIChlcnIsIGRhdGEpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQoYFVwbG9hZGluZyAtICR7ZmlsZX1gKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICB9KX0pXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQWdDLFNBQUFFLHVCQUFBQyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXpCLE1BQU1HLGtCQUFrQixHQUFJQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsdUJBQXVCO0FBQUNDLE9BQUEsQ0FBQUosa0JBQUEsR0FBQUEsa0JBQUE7QUFFdkUsTUFBTUssWUFBWSxHQUFHLElBQUFDLGNBQUssRUFBQyxNQUFNO0VBQy9CLElBQUlOLGtCQUFrQixFQUFFO0lBQ3RCLE9BQU8sSUFBSU8sZ0JBQU8sQ0FBQyxDQUFDLENBQUNDLE1BQU0sQ0FBQ1Isa0JBQWtCLENBQUM7RUFDakQ7QUFDRixDQUFDLENBQUM7QUFFRixNQUFNUyxNQUFNLEdBQUdKLFlBQVksQ0FBQyxDQUFDO0FBRXRCLGVBQWVLLFVBQVVBLENBQUM7RUFBRUMsSUFBSTtFQUFFQyxXQUFXO0VBQUVDO0FBQU8sQ0FBQyxFQUFFO0VBQzlEQyxPQUFPLENBQUNDLElBQUksQ0FBRSxlQUFjSixJQUFLLEVBQUMsQ0FBQztFQUNuQyxPQUFPLElBQUlLLE9BQU8sQ0FBQyxDQUFFQyxPQUFPLEVBQUVDLE1BQU0sS0FBSztJQUN2Q1QsTUFBTSxDQUFDVSxNQUFNLENBQUNSLElBQUksRUFBRztNQUNuQkMsV0FBVztNQUNYUSxRQUFRLEVBQUU7UUFDUkMsZUFBZSxFQUFFUixNQUFNLENBQUNRLGVBQWU7UUFDdkNDLFlBQVksRUFBRVQsTUFBTSxDQUFDUyxZQUFZO1FBQ2pDQyxXQUFXLEVBQUVWLE1BQU0sQ0FBQ1UsV0FBVztRQUMvQkMsR0FBRyxFQUFFWCxNQUFNLENBQUNXO01BQ2Q7SUFDRixDQUFDLEVBQUUsQ0FBQ0MsR0FBRyxFQUFFQyxJQUFJLEtBQUs7TUFDaEIsSUFBSUQsR0FBRyxFQUFFO1FBQ1BQLE1BQU0sQ0FBQ08sR0FBRyxDQUFDO01BQ2IsQ0FBQyxNQUFNO1FBQ0xYLE9BQU8sQ0FBQ2EsT0FBTyxDQUFFLGVBQWNoQixJQUFLLEVBQUMsQ0FBQztRQUN0Q00sT0FBTyxDQUFDLENBQUM7TUFDWDtJQUNKLENBQUMsQ0FBQztFQUFBLENBQUMsQ0FBQztBQUNOIn0=","map":{"version":3,"names":["_storage","require","_once2","_interopRequireDefault","obj","__esModule","default","GCP_STORAGE_BUCKET","process","env","GCP_STORAGE_BUCKET_NAME","exports","getGCPClient","_once","Storage","bucket","client","uploadFile","file","destination","params","console","time","Promise","resolve","reject","upload","metadata","contentEncoding","cacheControl","contentType","key","err","data","timeEnd"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/","sources":["gcpUploader.js"],"sourcesContent":["import { Storage } from '@google-cloud/storage';\nimport _once from 'lodash/once';\n\nexport const GCP_STORAGE_BUCKET =  process.env.GCP_STORAGE_BUCKET_NAME;\n\nconst getGCPClient = _once(() => {\n  if (GCP_STORAGE_BUCKET) {\n    return new Storage().bucket(GCP_STORAGE_BUCKET)\n  }\n});\n\nconst client = getGCPClient();\n\nexport async function uploadFile({ file, destination, params }) {\n  console.time(`Uploading - ${file}`);\n  return new Promise(( resolve, reject) => {\n    client.upload(file,  {\n      destination,\n      metadata: {\n        contentEncoding: params.contentEncoding,\n        cacheControl: params.cacheControl,\n        contentType: params.contentType,\n        key: params.key,\n      }\n    }, (err, data) => {\n      if (err) {\n        reject(err);\n      } else {\n        console.timeEnd(`Uploading - ${file}`);\n        resolve();\n      }\n  })})\n}"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAC,sBAAA,CAAAF,OAAA;AAAgC,SAAAE,uBAAAC,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEzB,MAAMG,kBAAkB,GAAIC,OAAO,CAACC,GAAG,CAACC,uBAAuB;AAACC,OAAA,CAAAJ,kBAAA,GAAAA,kBAAA;AAEvE,MAAMK,YAAY,GAAG,IAAAC,cAAK,EAAC,MAAM;EAC/B,IAAIN,kBAAkB,EAAE;IACtB,OAAO,IAAIO,gBAAO,CAAC,CAAC,CAACC,MAAM,CAACR,kBAAkB,CAAC;EACjD;AACF,CAAC,CAAC;AAEF,MAAMS,MAAM,GAAGJ,YAAY,CAAC,CAAC;AAEtB,eAAeK,UAAUA,CAAC;EAAEC,IAAI;EAAEC,WAAW;EAAEC;AAAO,CAAC,EAAE;EAC9DC,OAAO,CAACC,IAAI,CAAE,eAAcJ,IAAK,EAAC,CAAC;EACnC,OAAO,IAAIK,OAAO,CAAC,CAAEC,OAAO,EAAEC,MAAM,KAAK;IACvCT,MAAM,CAACU,MAAM,CAACR,IAAI,EAAG;MACnBC,WAAW;MACXQ,QAAQ,EAAE;QACRC,eAAe,EAAER,MAAM,CAACQ,eAAe;QACvCC,YAAY,EAAET,MAAM,CAACS,YAAY;QACjCC,WAAW,EAAEV,MAAM,CAACU,WAAW;QAC/BC,GAAG,EAAEX,MAAM,CAACW;MACd;IACF,CAAC,EAAE,CAACC,GAAG,EAAEC,IAAI,KAAK;MAChB,IAAID,GAAG,EAAE;QACPP,MAAM,CAACO,GAAG,CAAC;MACb,CAAC,MAAM;QACLX,OAAO,CAACa,OAAO,CAAE,eAAchB,IAAK,EAAC,CAAC;QACtCM,OAAO,CAAC,CAAC;MACX;IACJ,CAAC,CAAC;EAAA,CAAC,CAAC;AACN"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/util.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.uploadDir = void 0;\nvar _recursiveReaddir = _interopRequireDefault(require(\"recursive-readdir\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mimeTypes = _interopRequireDefault(require(\"mime-types\"));\nvar _helper = require(\"./helper\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst uploadDir = ({\n  dirToUpload,\n  uploadUrl,\n  shouldCacheFile,\n  uploadFile,\n  compression\n}) => {\n  return new Promise((resolve, reject) => {\n    const promises = [];\n    console.time('Total time taken for uploading all files');\n    (0, _recursiveReaddir.default)(dirToUpload, (err, files) => {\n      files.forEach(async file => {\n        /*\n         * Setting encoding and cdn path params for a file using its path\n         * I/P : x/y/compressed-assets/assets-s3/a/b/c/myFile\n         *       OR\n         *       x/y/compressed-assets/assets-s3-legacy/a/b/c/myFile\n         * O/P : {\n         *         key : edge/myVersion/a/b/c/myFile,\n         *         encoding : gzip/br, (depending on the file type)\n         *       }\n         *       OR\n         *       {\n         *         key : edge/myVersion/legacy/a/b/c/myFile,\n         *         encoding : gzip,\n         *       }\n         * */\n        const shouldCache = !!shouldCacheFile(file);\n        const destination = _path.default.join(uploadUrl, _path.default.relative(dirToUpload, file));\n        const uploadParams = {\n          cacheControl: shouldCache ? 'max-age=31536000, no-transform, public' : 'no-cache, max-age=0, must-revalidate',\n          contentEncoding: compression ? 'gzip' : '',\n          contentType: _mimeTypes.default.lookup(file) || 'application/octet-stream',\n          key: (0, _helper.getUploadUrl)(file, dirToUpload, uploadUrl),\n          shouldCache\n        };\n        promises.push(uploadFile({\n          destination,\n          file,\n          params: uploadParams\n        }));\n      });\n      Promise.all(promises).then(() => {\n        console.log('==>   All static assets uploaded');\n        console.timeEnd('Total time taken for uploading all files');\n        resolve();\n      }, error => {\n        console.error('Error while uploading static assets');\n        reject(error);\n      });\n    });\n  });\n};\nexports.uploadDir = uploadDir;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVjdXJzaXZlUmVhZGRpciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3BhdGgiLCJfbWltZVR5cGVzIiwiX2hlbHBlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwidXBsb2FkRGlyIiwiZGlyVG9VcGxvYWQiLCJ1cGxvYWRVcmwiLCJzaG91bGRDYWNoZUZpbGUiLCJ1cGxvYWRGaWxlIiwiY29tcHJlc3Npb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb21pc2VzIiwiY29uc29sZSIsInRpbWUiLCJyZWN1cnNpdmUiLCJlcnIiLCJmaWxlcyIsImZvckVhY2giLCJmaWxlIiwic2hvdWxkQ2FjaGUiLCJkZXN0aW5hdGlvbiIsInBhdGgiLCJqb2luIiwicmVsYXRpdmUiLCJ1cGxvYWRQYXJhbXMiLCJjYWNoZUNvbnRyb2wiLCJjb250ZW50RW5jb2RpbmciLCJjb250ZW50VHlwZSIsIm1pbWUiLCJsb29rdXAiLCJrZXkiLCJnZXRVcGxvYWRVcmwiLCJwdXNoIiwicGFyYW1zIiwiYWxsIiwidGhlbiIsImxvZyIsInRpbWVFbmQiLCJlcnJvciIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9oYXJzaC5nb3lhbC9EZXNrdG9wL2NvbnZlcnQtc3ByaW5rbHItYXBwLXZpdGUvc3ByLW1lc3Nlbmdlci1jbGllbnQtdml0ZS9wYWNrYWdlcy93ZWIvaW50ZXJuYWxzL2J1aWxkL3VwbG9hZC8iLCJzb3VyY2VzIjpbInV0aWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlY3Vyc2l2ZSBmcm9tICdyZWN1cnNpdmUtcmVhZGRpcic7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IG1pbWUgZnJvbSAnbWltZS10eXBlcyc7XG5pbXBvcnQgeyBnZXRVcGxvYWRVcmwgfSBmcm9tICcuL2hlbHBlcic7XG5cbmV4cG9ydCBjb25zdCB1cGxvYWREaXIgPSAoeyBkaXJUb1VwbG9hZCwgdXBsb2FkVXJsLCBzaG91bGRDYWNoZUZpbGUsIHVwbG9hZEZpbGUsIGNvbXByZXNzaW9uIH0pID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuXG4gICAgY29uc29sZS50aW1lKCdUb3RhbCB0aW1lIHRha2VuIGZvciB1cGxvYWRpbmcgYWxsIGZpbGVzJyk7XG4gICAgcmVjdXJzaXZlKGRpclRvVXBsb2FkLCAoZXJyLCBmaWxlcykgPT4ge1xuICAgICAgZmlsZXMuZm9yRWFjaChhc3luYyBmaWxlID0+IHtcbiAgICAgICAgLypcbiAgICAgICAgICogU2V0dGluZyBlbmNvZGluZyBhbmQgY2RuIHBhdGggcGFyYW1zIGZvciBhIGZpbGUgdXNpbmcgaXRzIHBhdGhcbiAgICAgICAgICogSS9QIDogeC95L2NvbXByZXNzZWQtYXNzZXRzL2Fzc2V0cy1zMy9hL2IvYy9teUZpbGVcbiAgICAgICAgICogICAgICAgT1JcbiAgICAgICAgICogICAgICAgeC95L2NvbXByZXNzZWQtYXNzZXRzL2Fzc2V0cy1zMy1sZWdhY3kvYS9iL2MvbXlGaWxlXG4gICAgICAgICAqIE8vUCA6IHtcbiAgICAgICAgICogICAgICAgICBrZXkgOiBlZGdlL215VmVyc2lvbi9hL2IvYy9teUZpbGUsXG4gICAgICAgICAqICAgICAgICAgZW5jb2RpbmcgOiBnemlwL2JyLCAoZGVwZW5kaW5nIG9uIHRoZSBmaWxlIHR5cGUpXG4gICAgICAgICAqICAgICAgIH1cbiAgICAgICAgICogICAgICAgT1JcbiAgICAgICAgICogICAgICAge1xuICAgICAgICAgKiAgICAgICAgIGtleSA6IGVkZ2UvbXlWZXJzaW9uL2xlZ2FjeS9hL2IvYy9teUZpbGUsXG4gICAgICAgICAqICAgICAgICAgZW5jb2RpbmcgOiBnemlwLFxuICAgICAgICAgKiAgICAgICB9XG4gICAgICAgICAqICovXG4gICAgICAgIGNvbnN0IHNob3VsZENhY2hlID0gISFzaG91bGRDYWNoZUZpbGUoZmlsZSk7XG4gICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uID0gcGF0aC5qb2luKHVwbG9hZFVybCwgcGF0aC5yZWxhdGl2ZShkaXJUb1VwbG9hZCwgZmlsZSkpO1xuICAgICAgICBjb25zdCB1cGxvYWRQYXJhbXMgPSAge1xuICAgICAgICAgIGNhY2hlQ29udHJvbDogc2hvdWxkQ2FjaGUgPyAnbWF4LWFnZT0zMTUzNjAwMCwgbm8tdHJhbnNmb3JtLCBwdWJsaWMnIDogJ25vLWNhY2hlLCBtYXgtYWdlPTAsIG11c3QtcmV2YWxpZGF0ZScsXG4gICAgICAgICAgY29udGVudEVuY29kaW5nOiBjb21wcmVzc2lvbiA/ICdnemlwJyA6ICcnLFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiBtaW1lLmxvb2t1cChmaWxlKSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcbiAgICAgICAgICBrZXk6IGdldFVwbG9hZFVybChmaWxlLCBkaXJUb1VwbG9hZCwgdXBsb2FkVXJsKSxcbiAgICAgICAgICBzaG91bGRDYWNoZSxcbiAgICAgICAgfTtcbiAgICAgICAgcHJvbWlzZXMucHVzaCh1cGxvYWRGaWxlKHsgZGVzdGluYXRpb24sIGZpbGUsIHBhcmFtczogdXBsb2FkUGFyYW1zIH0pKTtcbiAgICAgIH0pO1xuXG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT4g4pyFICBBbGwgc3RhdGljIGFzc2V0cyB1cGxvYWRlZCcpO1xuICAgICAgICAgIGNvbnNvbGUudGltZUVuZCgnVG90YWwgdGltZSB0YWtlbiBmb3IgdXBsb2FkaW5nIGFsbCBmaWxlcycpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHdoaWxlIHVwbG9hZGluZyBzdGF0aWMgYXNzZXRzJyk7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSlcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGlCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxPQUFBLEdBQUFILE9BQUE7QUFBd0MsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFakMsTUFBTUcsU0FBUyxHQUFHQSxDQUFDO0VBQUVDLFdBQVc7RUFBRUMsU0FBUztFQUFFQyxlQUFlO0VBQUVDLFVBQVU7RUFBRUM7QUFBWSxDQUFDLEtBQUs7RUFDakcsT0FBTyxJQUFJQyxPQUFPLENBQUMsQ0FBQ0MsT0FBTyxFQUFFQyxNQUFNLEtBQUs7SUFDdEMsTUFBTUMsUUFBUSxHQUFHLEVBQUU7SUFFbkJDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLDBDQUEwQyxDQUFDO0lBQ3hELElBQUFDLHlCQUFTLEVBQUNYLFdBQVcsRUFBRSxDQUFDWSxHQUFHLEVBQUVDLEtBQUssS0FBSztNQUNyQ0EsS0FBSyxDQUFDQyxPQUFPLENBQUMsTUFBTUMsSUFBSSxJQUFJO1FBQzFCO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtRQUNRLE1BQU1DLFdBQVcsR0FBRyxDQUFDLENBQUNkLGVBQWUsQ0FBQ2EsSUFBSSxDQUFDO1FBQzNDLE1BQU1FLFdBQVcsR0FBR0MsYUFBSSxDQUFDQyxJQUFJLENBQUNsQixTQUFTLEVBQUVpQixhQUFJLENBQUNFLFFBQVEsQ0FBQ3BCLFdBQVcsRUFBRWUsSUFBSSxDQUFDLENBQUM7UUFDMUUsTUFBTU0sWUFBWSxHQUFJO1VBQ3BCQyxZQUFZLEVBQUVOLFdBQVcsR0FBRyx3Q0FBd0MsR0FBRyxzQ0FBc0M7VUFDN0dPLGVBQWUsRUFBRW5CLFdBQVcsR0FBRyxNQUFNLEdBQUcsRUFBRTtVQUMxQ29CLFdBQVcsRUFBRUMsa0JBQUksQ0FBQ0MsTUFBTSxDQUFDWCxJQUFJLENBQUMsSUFBSSwwQkFBMEI7VUFDNURZLEdBQUcsRUFBRSxJQUFBQyxvQkFBWSxFQUFDYixJQUFJLEVBQUVmLFdBQVcsRUFBRUMsU0FBUyxDQUFDO1VBQy9DZTtRQUNGLENBQUM7UUFDRFIsUUFBUSxDQUFDcUIsSUFBSSxDQUFDMUIsVUFBVSxDQUFDO1VBQUVjLFdBQVc7VUFBRUYsSUFBSTtVQUFFZSxNQUFNLEVBQUVUO1FBQWEsQ0FBQyxDQUFDLENBQUM7TUFDeEUsQ0FBQyxDQUFDO01BRUZoQixPQUFPLENBQUMwQixHQUFHLENBQUN2QixRQUFRLENBQUMsQ0FBQ3dCLElBQUksQ0FDeEIsTUFBTTtRQUNKdkIsT0FBTyxDQUFDd0IsR0FBRyxDQUFDLG1DQUFtQyxDQUFDO1FBQ2hEeEIsT0FBTyxDQUFDeUIsT0FBTyxDQUFDLDBDQUEwQyxDQUFDO1FBQzNENUIsT0FBTyxDQUFDLENBQUM7TUFDWCxDQUFDLEVBQ0Q2QixLQUFLLElBQUk7UUFDUDFCLE9BQU8sQ0FBQzBCLEtBQUssQ0FBQyxxQ0FBcUMsQ0FBQztRQUNwRDVCLE1BQU0sQ0FBQzRCLEtBQUssQ0FBQztNQUNmLENBQ0YsQ0FBQztJQUNILENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKLENBQUM7QUFBQ0MsT0FBQSxDQUFBckMsU0FBQSxHQUFBQSxTQUFBIn0=","map":{"version":3,"names":["_recursiveReaddir","_interopRequireDefault","require","_path","_mimeTypes","_helper","obj","__esModule","default","uploadDir","dirToUpload","uploadUrl","shouldCacheFile","uploadFile","compression","Promise","resolve","reject","promises","console","time","recursive","err","files","forEach","file","shouldCache","destination","path","join","relative","uploadParams","cacheControl","contentEncoding","contentType","mime","lookup","key","getUploadUrl","push","params","all","then","log","timeEnd","error","exports"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/","sources":["util.js"],"sourcesContent":["import recursive from 'recursive-readdir';\nimport path from \"path\";\nimport mime from 'mime-types';\nimport { getUploadUrl } from './helper';\n\nexport const uploadDir = ({ dirToUpload, uploadUrl, shouldCacheFile, uploadFile, compression }) => {\n  return new Promise((resolve, reject) => {\n    const promises = [];\n\n    console.time('Total time taken for uploading all files');\n    recursive(dirToUpload, (err, files) => {\n      files.forEach(async file => {\n        /*\n         * Setting encoding and cdn path params for a file using its path\n         * I/P : x/y/compressed-assets/assets-s3/a/b/c/myFile\n         *       OR\n         *       x/y/compressed-assets/assets-s3-legacy/a/b/c/myFile\n         * O/P : {\n         *         key : edge/myVersion/a/b/c/myFile,\n         *         encoding : gzip/br, (depending on the file type)\n         *       }\n         *       OR\n         *       {\n         *         key : edge/myVersion/legacy/a/b/c/myFile,\n         *         encoding : gzip,\n         *       }\n         * */\n        const shouldCache = !!shouldCacheFile(file);\n        const destination = path.join(uploadUrl, path.relative(dirToUpload, file));\n        const uploadParams =  {\n          cacheControl: shouldCache ? 'max-age=31536000, no-transform, public' : 'no-cache, max-age=0, must-revalidate',\n          contentEncoding: compression ? 'gzip' : '',\n          contentType: mime.lookup(file) || 'application/octet-stream',\n          key: getUploadUrl(file, dirToUpload, uploadUrl),\n          shouldCache,\n        };\n        promises.push(uploadFile({ destination, file, params: uploadParams }));\n      });\n\n      Promise.all(promises).then(\n        () => {\n          console.log('==>   All static assets uploaded');\n          console.timeEnd('Total time taken for uploading all files');\n          resolve();\n        },\n        error => {\n          console.error('Error while uploading static assets');\n          reject(error);\n        }\n      );\n    });\n  })\n};\n"],"mappings":";;;;;;AAAA,IAAAA,iBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAH,OAAA;AAAwC,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEjC,MAAMG,SAAS,GAAGA,CAAC;EAAEC,WAAW;EAAEC,SAAS;EAAEC,eAAe;EAAEC,UAAU;EAAEC;AAAY,CAAC,KAAK;EACjG,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,MAAMC,QAAQ,GAAG,EAAE;IAEnBC,OAAO,CAACC,IAAI,CAAC,0CAA0C,CAAC;IACxD,IAAAC,yBAAS,EAACX,WAAW,EAAE,CAACY,GAAG,EAAEC,KAAK,KAAK;MACrCA,KAAK,CAACC,OAAO,CAAC,MAAMC,IAAI,IAAI;QAC1B;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;QACQ,MAAMC,WAAW,GAAG,CAAC,CAACd,eAAe,CAACa,IAAI,CAAC;QAC3C,MAAME,WAAW,GAAGC,aAAI,CAACC,IAAI,CAAClB,SAAS,EAAEiB,aAAI,CAACE,QAAQ,CAACpB,WAAW,EAAEe,IAAI,CAAC,CAAC;QAC1E,MAAMM,YAAY,GAAI;UACpBC,YAAY,EAAEN,WAAW,GAAG,wCAAwC,GAAG,sCAAsC;UAC7GO,eAAe,EAAEnB,WAAW,GAAG,MAAM,GAAG,EAAE;UAC1CoB,WAAW,EAAEC,kBAAI,CAACC,MAAM,CAACX,IAAI,CAAC,IAAI,0BAA0B;UAC5DY,GAAG,EAAE,IAAAC,oBAAY,EAACb,IAAI,EAAEf,WAAW,EAAEC,SAAS,CAAC;UAC/Ce;QACF,CAAC;QACDR,QAAQ,CAACqB,IAAI,CAAC1B,UAAU,CAAC;UAAEc,WAAW;UAAEF,IAAI;UAAEe,MAAM,EAAET;QAAa,CAAC,CAAC,CAAC;MACxE,CAAC,CAAC;MAEFhB,OAAO,CAAC0B,GAAG,CAACvB,QAAQ,CAAC,CAACwB,IAAI,CACxB,MAAM;QACJvB,OAAO,CAACwB,GAAG,CAAC,mCAAmC,CAAC;QAChDxB,OAAO,CAACyB,OAAO,CAAC,0CAA0C,CAAC;QAC3D5B,OAAO,CAAC,CAAC;MACX,CAAC,EACD6B,KAAK,IAAI;QACP1B,OAAO,CAAC0B,KAAK,CAAC,qCAAqC,CAAC;QACpD5B,MAAM,CAAC4B,KAAK,CAAC;MACf,CACF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAACC,OAAA,CAAArC,SAAA,GAAAA,SAAA"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/helper.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getUploadUrl = void 0;\nconst getUploadUrl = (filePath, sourceDirUrl, uploadUrl) => filePath.replace(sourceDirUrl, uploadUrl);\nexports.getUploadUrl = getUploadUrl;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRVcGxvYWRVcmwiLCJmaWxlUGF0aCIsInNvdXJjZURpclVybCIsInVwbG9hZFVybCIsInJlcGxhY2UiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC91cGxvYWQvIiwic291cmNlcyI6WyJoZWxwZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGdldFVwbG9hZFVybCA9IChmaWxlUGF0aCwgc291cmNlRGlyVXJsLCB1cGxvYWRVcmwpID0+IGZpbGVQYXRoLnJlcGxhY2Uoc291cmNlRGlyVXJsLCB1cGxvYWRVcmwpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTyxNQUFNQSxZQUFZLEdBQUdBLENBQUNDLFFBQVEsRUFBRUMsWUFBWSxFQUFFQyxTQUFTLEtBQUtGLFFBQVEsQ0FBQ0csT0FBTyxDQUFDRixZQUFZLEVBQUVDLFNBQVMsQ0FBQztBQUFDRSxPQUFBLENBQUFMLFlBQUEsR0FBQUEsWUFBQSJ9","map":{"version":3,"names":["getUploadUrl","filePath","sourceDirUrl","uploadUrl","replace","exports"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/upload/","sources":["helper.js"],"sourcesContent":["export const getUploadUrl = (filePath, sourceDirUrl, uploadUrl) => filePath.replace(sourceDirUrl, uploadUrl);\n"],"mappings":";;;;;;AAAO,MAAMA,YAAY,GAAGA,CAACC,QAAQ,EAAEC,YAAY,EAAEC,SAAS,KAAKF,QAAQ,CAACG,OAAO,CAACF,YAAY,EAAEC,SAAS,CAAC;AAACE,OAAA,CAAAL,YAAA,GAAAA,YAAA"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/compress/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/compress/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = compress;\nvar _fsExtra = _interopRequireDefault(require(\"fs-extra\"));\nvar _recursiveReaddir = _interopRequireDefault(require(\"recursive-readdir\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _ParallelExecutor = require(\"../tools/ParallelExecutor\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * User: abhinavsingi\n * Date: 22/09/18\n * Time: 4:22 PM\n * Desc:\n */\n\nfunction compress(source, destination) {\n  return new Promise((resolve, reject) => {\n    //eslint-disable-line import/prefer-default-export\n    console.time('Total time taken for compressing all files');\n    (0, _recursiveReaddir.default)(source, (err, files) => {\n      (0, _ParallelExecutor.ParallelExecutor)(require.resolve('./compressWorker.js'), files, {\n        source,\n        destination\n      }).then(() => {\n        console.log('==>  All files compressed successfully.');\n        _fsExtra.default.removeSync(_path.default.resolve(source, 'temp'));\n        console.timeEnd('Total time taken for compressing all files');\n        resolve();\n      }).catch(error => {\n        console.log('Error in compression.', error);\n        reject(error);\n      });\n    });\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnNFeHRyYSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3JlY3Vyc2l2ZVJlYWRkaXIiLCJfcGF0aCIsIl9QYXJhbGxlbEV4ZWN1dG9yIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjb21wcmVzcyIsInNvdXJjZSIsImRlc3RpbmF0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjb25zb2xlIiwidGltZSIsInJlY3Vyc2l2ZSIsImVyciIsImZpbGVzIiwiUGFyYWxsZWxFeGVjdXRvciIsInRoZW4iLCJsb2ciLCJmc2UiLCJyZW1vdmVTeW5jIiwicGF0aCIsInRpbWVFbmQiLCJjYXRjaCIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC9jb21wcmVzcy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXNlcjogYWJoaW5hdnNpbmdpXG4gKiBEYXRlOiAyMi8wOS8xOFxuICogVGltZTogNDoyMiBQTVxuICogRGVzYzpcbiAqL1xuXG5pbXBvcnQgZnNlIGZyb20gJ2ZzLWV4dHJhJztcbmltcG9ydCByZWN1cnNpdmUgZnJvbSAncmVjdXJzaXZlLXJlYWRkaXInO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmltcG9ydCB7IFBhcmFsbGVsRXhlY3V0b3IgfSBmcm9tICcuLi90b29scy9QYXJhbGxlbEV4ZWN1dG9yJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tcHJlc3Moc291cmNlLCBkZXN0aW5hdGlvbikge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIC8vZXNsaW50LWRpc2FibGUtbGluZSBpbXBvcnQvcHJlZmVyLWRlZmF1bHQtZXhwb3J0XG4gICAgY29uc29sZS50aW1lKCdUb3RhbCB0aW1lIHRha2VuIGZvciBjb21wcmVzc2luZyBhbGwgZmlsZXMnKTtcbiAgICByZWN1cnNpdmUoc291cmNlLCAoZXJyLCBmaWxlcykgPT4ge1xuICAgICAgUGFyYWxsZWxFeGVjdXRvcihyZXF1aXJlLnJlc29sdmUoJy4vY29tcHJlc3NXb3JrZXIuanMnKSwgZmlsZXMsIHtzb3VyY2UsIGRlc3RpbmF0aW9ufSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT4g4pyFIEFsbCBmaWxlcyBjb21wcmVzc2VkIHN1Y2Nlc3NmdWxseS4nKTtcbiAgICAgICAgICBmc2UucmVtb3ZlU3luYyhwYXRoLnJlc29sdmUoc291cmNlLCAndGVtcCcpKTtcbiAgICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ1RvdGFsIHRpbWUgdGFrZW4gZm9yIGNvbXByZXNzaW5nIGFsbCBmaWxlcycpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgaW4gY29tcHJlc3Npb24uJywgZXJyb3IpO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pXG4gIH0pO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFPQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxpQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUcsaUJBQUEsR0FBQUgsT0FBQTtBQUE2RCxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQVg3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBUWUsU0FBU0csUUFBUUEsQ0FBQ0MsTUFBTSxFQUFFQyxXQUFXLEVBQUU7RUFDcEQsT0FBTyxJQUFJQyxPQUFPLENBQUMsQ0FBQ0MsT0FBTyxFQUFFQyxNQUFNLEtBQUs7SUFDdEM7SUFDQUMsT0FBTyxDQUFDQyxJQUFJLENBQUMsNENBQTRDLENBQUM7SUFDMUQsSUFBQUMseUJBQVMsRUFBQ1AsTUFBTSxFQUFFLENBQUNRLEdBQUcsRUFBRUMsS0FBSyxLQUFLO01BQ2hDLElBQUFDLGtDQUFnQixFQUFDbEIsT0FBTyxDQUFDVyxPQUFPLENBQUMscUJBQXFCLENBQUMsRUFBRU0sS0FBSyxFQUFFO1FBQUNULE1BQU07UUFBRUM7TUFBVyxDQUFDLENBQUMsQ0FDbkZVLElBQUksQ0FBQyxNQUFNO1FBQ1ZOLE9BQU8sQ0FBQ08sR0FBRyxDQUFDLDBDQUEwQyxDQUFDO1FBQ3ZEQyxnQkFBRyxDQUFDQyxVQUFVLENBQUNDLGFBQUksQ0FBQ1osT0FBTyxDQUFDSCxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDNUNLLE9BQU8sQ0FBQ1csT0FBTyxDQUFDLDRDQUE0QyxDQUFDO1FBQzdEYixPQUFPLENBQUMsQ0FBQztNQUNYLENBQUMsQ0FBQyxDQUNEYyxLQUFLLENBQUNDLEtBQUssSUFBSTtRQUNkYixPQUFPLENBQUNPLEdBQUcsQ0FBQyx1QkFBdUIsRUFBRU0sS0FBSyxDQUFDO1FBQzNDZCxNQUFNLENBQUNjLEtBQUssQ0FBQztNQUNmLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKIn0=","map":{"version":3,"names":["_fsExtra","_interopRequireDefault","require","_recursiveReaddir","_path","_ParallelExecutor","obj","__esModule","default","compress","source","destination","Promise","resolve","reject","console","time","recursive","err","files","ParallelExecutor","then","log","fse","removeSync","path","timeEnd","catch","error"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/compress/","sources":["index.js"],"sourcesContent":["/**\n * User: abhinavsingi\n * Date: 22/09/18\n * Time: 4:22 PM\n * Desc:\n */\n\nimport fse from 'fs-extra';\nimport recursive from 'recursive-readdir';\nimport path from 'path';\n\nimport { ParallelExecutor } from '../tools/ParallelExecutor';\n\nexport default function compress(source, destination) {\n  return new Promise((resolve, reject) => {\n    //eslint-disable-line import/prefer-default-export\n    console.time('Total time taken for compressing all files');\n    recursive(source, (err, files) => {\n      ParallelExecutor(require.resolve('./compressWorker.js'), files, {source, destination})\n        .then(() => {\n          console.log('==>  All files compressed successfully.');\n          fse.removeSync(path.resolve(source, 'temp'));\n          console.timeEnd('Total time taken for compressing all files');\n          resolve();\n        })\n        .catch(error => {\n          console.log('Error in compression.', error);\n          reject(error);\n        });\n    })\n  });\n}\n"],"mappings":";;;;;;AAOA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAAG,iBAAA,GAAAH,OAAA;AAA6D,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAX7D;AACA;AACA;AACA;AACA;AACA;;AAQe,SAASG,QAAQA,CAACC,MAAM,EAAEC,WAAW,EAAE;EACpD,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC;IACAC,OAAO,CAACC,IAAI,CAAC,4CAA4C,CAAC;IAC1D,IAAAC,yBAAS,EAACP,MAAM,EAAE,CAACQ,GAAG,EAAEC,KAAK,KAAK;MAChC,IAAAC,kCAAgB,EAAClB,OAAO,CAACW,OAAO,CAAC,qBAAqB,CAAC,EAAEM,KAAK,EAAE;QAACT,MAAM;QAAEC;MAAW,CAAC,CAAC,CACnFU,IAAI,CAAC,MAAM;QACVN,OAAO,CAACO,GAAG,CAAC,0CAA0C,CAAC;QACvDC,gBAAG,CAACC,UAAU,CAACC,aAAI,CAACZ,OAAO,CAACH,MAAM,EAAE,MAAM,CAAC,CAAC;QAC5CK,OAAO,CAACW,OAAO,CAAC,4CAA4C,CAAC;QAC7Db,OAAO,CAAC,CAAC;MACX,CAAC,CAAC,CACDc,KAAK,CAACC,KAAK,IAAI;QACdb,OAAO,CAACO,GAAG,CAAC,uBAAuB,EAAEM,KAAK,CAAC;QAC3Cd,MAAM,CAACc,KAAK,CAAC;MACf,CAAC,CAAC;IACN,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/ParallelExecutor.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ParallelExecutor = void 0;\nvar _os = _interopRequireDefault(require(\"os\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _child_process = require(\"child_process\");\nvar _times2 = _interopRequireDefault(require(\"lodash/times\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n * User: abhinavsingi\n * Date: 22/09/18\n * Time: 2:40 PM\n * Desc:\n */\n\n/**\n * Takes 2 inputs:\n * 1. Absolute JS file path to execute\n * 2. Complete Array of data\n *\n * Based on number of processes ParallelExecutor forks - it passes that data to 1.\n */\n\n// Just randomly picked 2 - we can do it 1 as well.\n// Because of the additional resource allocations required, spawning a large number of child Node.js processes is not recommended.\nconst IN_RESERVE_CPUS = 2;\nconst CPUS_LENGTH = _os.default.cpus().length;\nconst NUMBER_OF_PARALLEL_PROCESSES = CPUS_LENGTH - IN_RESERVE_CPUS;\nif (NUMBER_OF_PARALLEL_PROCESSES <= 0) {\n  throw new Error(`Please run on a machine with cpus more than ${IN_RESERVE_CPUS}`);\n}\n\n/**\n * Returns chunked data that can be sent to each parallel process\n * @param dataArray\n * @param numOfParallelProcessesAvailable\n * @returns {*}\n */\nfunction getChunkedData(dataArray, numOfParallelProcessesAvailable) {\n  const dataLength = dataArray.length;\n\n  //If we have more cpus available - then send each data to individual cpu\n  if (dataLength <= numOfParallelProcessesAvailable) {\n    return {\n      chunkedDataArray: dataArray,\n      numOfParallelProcessesToFork: dataLength\n    };\n  }\n  const sortedDataArrayBySize = dataArray.map(file => ({\n    file,\n    size: _fs.default.statSync(file).size\n  })).sort((a, b) => b.size - a.size).map(file => file.file);\n  const chunkedDataArray = new Array(numOfParallelProcessesAvailable);\n  for (let i = 0; i < numOfParallelProcessesAvailable; i += 1) {\n    chunkedDataArray[i] = [];\n  }\n  sortedDataArrayBySize.forEach((file, index) => {\n    chunkedDataArray[index % numOfParallelProcessesAvailable].push(file);\n  });\n  return {\n    chunkedDataArray,\n    numOfParallelProcessesToFork: numOfParallelProcessesAvailable\n  };\n}\n\n// require('v8').setFlagsFromString('--expose_gc');\n// global.gc = require('vm').runInNewContext('gc');\n\nconst ParallelExecutor = (absoluteFilePathToExecute, dataArray, extraParams) => new Promise((resolve, reject) => {\n  //eslint-disable-line import/prefer-default-export\n  if (!absoluteFilePathToExecute || !dataArray) {\n    throw new Error('Please pass arguments correctly');\n  }\n  const {\n    chunkedDataArray,\n    numOfParallelProcessesToFork\n  } = getChunkedData(dataArray, NUMBER_OF_PARALLEL_PROCESSES);\n  const promises = [];\n  const execArgvsForProcesses = process.execArgv.slice().reverse(); //do not mutate since that causes issues for child processes which do not receive execArgvs\n\n  (0, _times2.default)(numOfParallelProcessesToFork, processIndex => {\n    // processIndex (simple iteration index) is different than proces identifier (PID, given by OS)\n    const _promise = new Promise(_resolve => {\n      //https://github.com/nodejs/node/issues/2812#issuecomment-139510782\n      const compute = (0, _child_process.fork)(absoluteFilePathToExecute, {\n        execArgv: execArgvsForProcesses\n      });\n      compute.send({\n        data: chunkedDataArray[processIndex],\n        processIndex,\n        params: extraParams\n      });\n      compute.on('message', message => console.log(message));\n      compute.on('exit', exitCode => {\n        if (exitCode !== 0) {\n          throw new Error('Error in parallel execution');\n        }\n        _resolve();\n      });\n    });\n    promises.push(_promise);\n  });\n  Promise.all(promises).then(resolve, reject);\n});\nexports.ParallelExecutor = ParallelExecutor;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfb3MiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9mcyIsIl9jaGlsZF9wcm9jZXNzIiwiX3RpbWVzMiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiSU5fUkVTRVJWRV9DUFVTIiwiQ1BVU19MRU5HVEgiLCJvcyIsImNwdXMiLCJsZW5ndGgiLCJOVU1CRVJfT0ZfUEFSQUxMRUxfUFJPQ0VTU0VTIiwiRXJyb3IiLCJnZXRDaHVua2VkRGF0YSIsImRhdGFBcnJheSIsIm51bU9mUGFyYWxsZWxQcm9jZXNzZXNBdmFpbGFibGUiLCJkYXRhTGVuZ3RoIiwiY2h1bmtlZERhdGFBcnJheSIsIm51bU9mUGFyYWxsZWxQcm9jZXNzZXNUb0ZvcmsiLCJzb3J0ZWREYXRhQXJyYXlCeVNpemUiLCJtYXAiLCJmaWxlIiwic2l6ZSIsImZzIiwic3RhdFN5bmMiLCJzb3J0IiwiYSIsImIiLCJBcnJheSIsImkiLCJmb3JFYWNoIiwiaW5kZXgiLCJwdXNoIiwiUGFyYWxsZWxFeGVjdXRvciIsImFic29sdXRlRmlsZVBhdGhUb0V4ZWN1dGUiLCJleHRyYVBhcmFtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicHJvbWlzZXMiLCJleGVjQXJndnNGb3JQcm9jZXNzZXMiLCJwcm9jZXNzIiwiZXhlY0FyZ3YiLCJzbGljZSIsInJldmVyc2UiLCJfdGltZXMiLCJwcm9jZXNzSW5kZXgiLCJfcHJvbWlzZSIsIl9yZXNvbHZlIiwiY29tcHV0ZSIsImZvcmsiLCJzZW5kIiwiZGF0YSIsInBhcmFtcyIsIm9uIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJleGl0Q29kZSIsImFsbCIsInRoZW4iLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC90b29scy8iLCJzb3VyY2VzIjpbIlBhcmFsbGVsRXhlY3V0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVc2VyOiBhYmhpbmF2c2luZ2lcbiAqIERhdGU6IDIyLzA5LzE4XG4gKiBUaW1lOiAyOjQwIFBNXG4gKiBEZXNjOlxuICovXG5cbmltcG9ydCBvcyBmcm9tICdvcyc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHtmb3JrfSBmcm9tICdjaGlsZF9wcm9jZXNzJztcbmltcG9ydCBfdGltZXMgZnJvbSAnbG9kYXNoL3RpbWVzJztcblxuLyoqXG4gKiBUYWtlcyAyIGlucHV0czpcbiAqIDEuIEFic29sdXRlIEpTIGZpbGUgcGF0aCB0byBleGVjdXRlXG4gKiAyLiBDb21wbGV0ZSBBcnJheSBvZiBkYXRhXG4gKlxuICogQmFzZWQgb24gbnVtYmVyIG9mIHByb2Nlc3NlcyBQYXJhbGxlbEV4ZWN1dG9yIGZvcmtzIC0gaXQgcGFzc2VzIHRoYXQgZGF0YSB0byAxLlxuICovXG5cbi8vIEp1c3QgcmFuZG9tbHkgcGlja2VkIDIgLSB3ZSBjYW4gZG8gaXQgMSBhcyB3ZWxsLlxuLy8gQmVjYXVzZSBvZiB0aGUgYWRkaXRpb25hbCByZXNvdXJjZSBhbGxvY2F0aW9ucyByZXF1aXJlZCwgc3Bhd25pbmcgYSBsYXJnZSBudW1iZXIgb2YgY2hpbGQgTm9kZS5qcyBwcm9jZXNzZXMgaXMgbm90IHJlY29tbWVuZGVkLlxuY29uc3QgSU5fUkVTRVJWRV9DUFVTID0gMjtcbmNvbnN0IENQVVNfTEVOR1RIID0gb3MuY3B1cygpLmxlbmd0aDtcblxuY29uc3QgTlVNQkVSX09GX1BBUkFMTEVMX1BST0NFU1NFUyA9IENQVVNfTEVOR1RIIC0gSU5fUkVTRVJWRV9DUFVTO1xuXG5pZiAoTlVNQkVSX09GX1BBUkFMTEVMX1BST0NFU1NFUyA8PSAwKSB7XG4gIHRocm93IG5ldyBFcnJvcihgUGxlYXNlIHJ1biBvbiBhIG1hY2hpbmUgd2l0aCBjcHVzIG1vcmUgdGhhbiAke0lOX1JFU0VSVkVfQ1BVU31gKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGNodW5rZWQgZGF0YSB0aGF0IGNhbiBiZSBzZW50IHRvIGVhY2ggcGFyYWxsZWwgcHJvY2Vzc1xuICogQHBhcmFtIGRhdGFBcnJheVxuICogQHBhcmFtIG51bU9mUGFyYWxsZWxQcm9jZXNzZXNBdmFpbGFibGVcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBnZXRDaHVua2VkRGF0YShkYXRhQXJyYXksIG51bU9mUGFyYWxsZWxQcm9jZXNzZXNBdmFpbGFibGUpIHtcbiAgY29uc3QgZGF0YUxlbmd0aCA9IGRhdGFBcnJheS5sZW5ndGg7XG5cbiAgLy9JZiB3ZSBoYXZlIG1vcmUgY3B1cyBhdmFpbGFibGUgLSB0aGVuIHNlbmQgZWFjaCBkYXRhIHRvIGluZGl2aWR1YWwgY3B1XG4gIGlmIChkYXRhTGVuZ3RoIDw9IG51bU9mUGFyYWxsZWxQcm9jZXNzZXNBdmFpbGFibGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2h1bmtlZERhdGFBcnJheTogZGF0YUFycmF5LFxuICAgICAgbnVtT2ZQYXJhbGxlbFByb2Nlc3Nlc1RvRm9yazogZGF0YUxlbmd0aCxcbiAgICB9O1xuICB9XG5cbiAgY29uc3Qgc29ydGVkRGF0YUFycmF5QnlTaXplID0gZGF0YUFycmF5XG4gICAgLm1hcChmaWxlID0+ICh7IGZpbGUsIHNpemU6IGZzLnN0YXRTeW5jKGZpbGUpLnNpemUgfSkpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuc2l6ZSAtIGEuc2l6ZSlcbiAgICAubWFwKGZpbGUgPT4gZmlsZS5maWxlKTtcblxuICBjb25zdCBjaHVua2VkRGF0YUFycmF5ID0gbmV3IEFycmF5KG51bU9mUGFyYWxsZWxQcm9jZXNzZXNBdmFpbGFibGUpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bU9mUGFyYWxsZWxQcm9jZXNzZXNBdmFpbGFibGU7IGkgKz0gMSkge1xuICAgIGNodW5rZWREYXRhQXJyYXlbaV0gPSBbXTtcbiAgfVxuXG4gIHNvcnRlZERhdGFBcnJheUJ5U2l6ZS5mb3JFYWNoKChmaWxlLCBpbmRleCkgPT4ge1xuICAgIGNodW5rZWREYXRhQXJyYXlbaW5kZXggJSBudW1PZlBhcmFsbGVsUHJvY2Vzc2VzQXZhaWxhYmxlXS5wdXNoKGZpbGUpO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGNodW5rZWREYXRhQXJyYXksXG4gICAgbnVtT2ZQYXJhbGxlbFByb2Nlc3Nlc1RvRm9yazogbnVtT2ZQYXJhbGxlbFByb2Nlc3Nlc0F2YWlsYWJsZSxcbiAgfTtcbn1cblxuLy8gcmVxdWlyZSgndjgnKS5zZXRGbGFnc0Zyb21TdHJpbmcoJy0tZXhwb3NlX2djJyk7XG4vLyBnbG9iYWwuZ2MgPSByZXF1aXJlKCd2bScpLnJ1bkluTmV3Q29udGV4dCgnZ2MnKTtcblxuZXhwb3J0IGNvbnN0IFBhcmFsbGVsRXhlY3V0b3IgPSAoYWJzb2x1dGVGaWxlUGF0aFRvRXhlY3V0ZSwgZGF0YUFycmF5LCBleHRyYVBhcmFtcykgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4geyAvL2VzbGludC1kaXNhYmxlLWxpbmUgaW1wb3J0L3ByZWZlci1kZWZhdWx0LWV4cG9ydFxuICBpZiAoIWFic29sdXRlRmlsZVBhdGhUb0V4ZWN1dGUgfHwgIWRhdGFBcnJheSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHBhc3MgYXJndW1lbnRzIGNvcnJlY3RseScpO1xuICB9XG5cbiAgY29uc3QgeyBjaHVua2VkRGF0YUFycmF5LCBudW1PZlBhcmFsbGVsUHJvY2Vzc2VzVG9Gb3JrIH0gPSBnZXRDaHVua2VkRGF0YShkYXRhQXJyYXksIE5VTUJFUl9PRl9QQVJBTExFTF9QUk9DRVNTRVMpO1xuXG4gIGNvbnN0IHByb21pc2VzID0gW107XG5cbiAgY29uc3QgZXhlY0FyZ3ZzRm9yUHJvY2Vzc2VzID0gcHJvY2Vzcy5leGVjQXJndi5zbGljZSgpLnJldmVyc2UoKTsgLy9kbyBub3QgbXV0YXRlIHNpbmNlIHRoYXQgY2F1c2VzIGlzc3VlcyBmb3IgY2hpbGQgcHJvY2Vzc2VzIHdoaWNoIGRvIG5vdCByZWNlaXZlIGV4ZWNBcmd2c1xuXG4gIF90aW1lcyhudW1PZlBhcmFsbGVsUHJvY2Vzc2VzVG9Gb3JrLCBwcm9jZXNzSW5kZXggPT4geyAvLyBwcm9jZXNzSW5kZXggKHNpbXBsZSBpdGVyYXRpb24gaW5kZXgpIGlzIGRpZmZlcmVudCB0aGFuIHByb2NlcyBpZGVudGlmaWVyIChQSUQsIGdpdmVuIGJ5IE9TKVxuICAgIGNvbnN0IF9wcm9taXNlID0gbmV3IFByb21pc2UoX3Jlc29sdmUgPT4ge1xuICAgICAgLy9odHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzI4MTIjaXNzdWVjb21tZW50LTEzOTUxMDc4MlxuICAgICAgY29uc3QgY29tcHV0ZSA9IGZvcmsoYWJzb2x1dGVGaWxlUGF0aFRvRXhlY3V0ZSwgeyBleGVjQXJndjogZXhlY0FyZ3ZzRm9yUHJvY2Vzc2VzIH0pO1xuXG4gICAgICBjb21wdXRlLnNlbmQoe1xuICAgICAgICBkYXRhOiBjaHVua2VkRGF0YUFycmF5W3Byb2Nlc3NJbmRleF0sXG4gICAgICAgIHByb2Nlc3NJbmRleCxcbiAgICAgICAgcGFyYW1zOiBleHRyYVBhcmFtcyxcbiAgICAgIH0pO1xuXG4gICAgICBjb21wdXRlLm9uKCdtZXNzYWdlJywgbWVzc2FnZSA9PiBjb25zb2xlLmxvZyhtZXNzYWdlKSk7XG5cbiAgICAgIGNvbXB1dGUub24oJ2V4aXQnLCBleGl0Q29kZSA9PiB7XG4gICAgICAgIGlmIChleGl0Q29kZSAhPT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgaW4gcGFyYWxsZWwgZXhlY3V0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgX3Jlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcHJvbWlzZXMucHVzaChfcHJvbWlzZSk7XG4gIH0pO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgIC50aGVuKHJlc29sdmUsIHJlamVjdCk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7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","map":{"version":3,"names":["_os","_interopRequireDefault","require","_fs","_child_process","_times2","obj","__esModule","default","IN_RESERVE_CPUS","CPUS_LENGTH","os","cpus","length","NUMBER_OF_PARALLEL_PROCESSES","Error","getChunkedData","dataArray","numOfParallelProcessesAvailable","dataLength","chunkedDataArray","numOfParallelProcessesToFork","sortedDataArrayBySize","map","file","size","fs","statSync","sort","a","b","Array","i","forEach","index","push","ParallelExecutor","absoluteFilePathToExecute","extraParams","Promise","resolve","reject","promises","execArgvsForProcesses","process","execArgv","slice","reverse","_times","processIndex","_promise","_resolve","compute","fork","send","data","params","on","message","console","log","exitCode","all","then","exports"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/tools/","sources":["ParallelExecutor.js"],"sourcesContent":["/**\n * User: abhinavsingi\n * Date: 22/09/18\n * Time: 2:40 PM\n * Desc:\n */\n\nimport os from 'os';\nimport fs from 'fs';\nimport {fork} from 'child_process';\nimport _times from 'lodash/times';\n\n/**\n * Takes 2 inputs:\n * 1. Absolute JS file path to execute\n * 2. Complete Array of data\n *\n * Based on number of processes ParallelExecutor forks - it passes that data to 1.\n */\n\n// Just randomly picked 2 - we can do it 1 as well.\n// Because of the additional resource allocations required, spawning a large number of child Node.js processes is not recommended.\nconst IN_RESERVE_CPUS = 2;\nconst CPUS_LENGTH = os.cpus().length;\n\nconst NUMBER_OF_PARALLEL_PROCESSES = CPUS_LENGTH - IN_RESERVE_CPUS;\n\nif (NUMBER_OF_PARALLEL_PROCESSES <= 0) {\n  throw new Error(`Please run on a machine with cpus more than ${IN_RESERVE_CPUS}`);\n}\n\n/**\n * Returns chunked data that can be sent to each parallel process\n * @param dataArray\n * @param numOfParallelProcessesAvailable\n * @returns {*}\n */\nfunction getChunkedData(dataArray, numOfParallelProcessesAvailable) {\n  const dataLength = dataArray.length;\n\n  //If we have more cpus available - then send each data to individual cpu\n  if (dataLength <= numOfParallelProcessesAvailable) {\n    return {\n      chunkedDataArray: dataArray,\n      numOfParallelProcessesToFork: dataLength,\n    };\n  }\n\n  const sortedDataArrayBySize = dataArray\n    .map(file => ({ file, size: fs.statSync(file).size }))\n    .sort((a, b) => b.size - a.size)\n    .map(file => file.file);\n\n  const chunkedDataArray = new Array(numOfParallelProcessesAvailable);\n  for (let i = 0; i < numOfParallelProcessesAvailable; i += 1) {\n    chunkedDataArray[i] = [];\n  }\n\n  sortedDataArrayBySize.forEach((file, index) => {\n    chunkedDataArray[index % numOfParallelProcessesAvailable].push(file);\n  });\n\n  return {\n    chunkedDataArray,\n    numOfParallelProcessesToFork: numOfParallelProcessesAvailable,\n  };\n}\n\n// require('v8').setFlagsFromString('--expose_gc');\n// global.gc = require('vm').runInNewContext('gc');\n\nexport const ParallelExecutor = (absoluteFilePathToExecute, dataArray, extraParams) => new Promise((resolve, reject) => { //eslint-disable-line import/prefer-default-export\n  if (!absoluteFilePathToExecute || !dataArray) {\n    throw new Error('Please pass arguments correctly');\n  }\n\n  const { chunkedDataArray, numOfParallelProcessesToFork } = getChunkedData(dataArray, NUMBER_OF_PARALLEL_PROCESSES);\n\n  const promises = [];\n\n  const execArgvsForProcesses = process.execArgv.slice().reverse(); //do not mutate since that causes issues for child processes which do not receive execArgvs\n\n  _times(numOfParallelProcessesToFork, processIndex => { // processIndex (simple iteration index) is different than proces identifier (PID, given by OS)\n    const _promise = new Promise(_resolve => {\n      //https://github.com/nodejs/node/issues/2812#issuecomment-139510782\n      const compute = fork(absoluteFilePathToExecute, { execArgv: execArgvsForProcesses });\n\n      compute.send({\n        data: chunkedDataArray[processIndex],\n        processIndex,\n        params: extraParams,\n      });\n\n      compute.on('message', message => console.log(message));\n\n      compute.on('exit', exitCode => {\n        if (exitCode !== 0) {\n          throw new Error('Error in parallel execution');\n        }\n        _resolve();\n      });\n    });\n\n    promises.push(_promise);\n  });\n\n  Promise.all(promises)\n    .then(resolve, reject);\n});\n"],"mappings":"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"}},"mtime":1685448592000},"{\"assumptions\":{},\"sourceRoot\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"filename\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.6:production":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst CWD = process.cwd();\nvar _default = {\n  BUILD_DIR: _path.default.resolve(CWD, 'build'),\n  MODERN_BUILD_DIR: _path.default.resolve(CWD, 'modern-build'),\n  WIDGET_DIR: _path.default.resolve(CWD, 'src/chat-app/build/widget'),\n  BASE_URL: `http://${process.env.HOST_NAME}-restricted.sprinklr.com/restricted/v1`,\n  get BUILD_STATIC_DIR() {\n    return _path.default.resolve(this.BUILD_DIR, 'static');\n  },\n  get MODERN_BUILD_JS_BUNDLE_DIR() {\n    return _path.default.resolve(this.MODERN_BUILD_DIR, 'static/js');\n  },\n  get COMPRESSED_BUILD_DIR() {\n    return _path.default.resolve(this.BUILD_DIR, 'compressed');\n  },\n  get BUILD_VERSION_DIR() {\n    return _path.default.resolve(this.BUILD_DIR, `${process.env.VITE_VERSION}/static`);\n  },\n  get JS_BUILD_DIR() {\n    return _path.default.resolve(this.BUILD_DIR, `${process.env.VITE_VERSION}/static/js`);\n  },\n  BUILD_INFO: _path.default.join(process.cwd(), 'buildInfo.txt')\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGF0aCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJDV0QiLCJwcm9jZXNzIiwiY3dkIiwiX2RlZmF1bHQiLCJCVUlMRF9ESVIiLCJwYXRoIiwicmVzb2x2ZSIsIk1PREVSTl9CVUlMRF9ESVIiLCJXSURHRVRfRElSIiwiQkFTRV9VUkwiLCJlbnYiLCJIT1NUX05BTUUiLCJCVUlMRF9TVEFUSUNfRElSIiwiTU9ERVJOX0JVSUxEX0pTX0JVTkRMRV9ESVIiLCJDT01QUkVTU0VEX0JVSUxEX0RJUiIsIkJVSUxEX1ZFUlNJT05fRElSIiwiVklURV9WRVJTSU9OIiwiSlNfQlVJTERfRElSIiwiQlVJTERfSU5GTyIsImpvaW4iLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvaGFyc2guZ295YWwvRGVza3RvcC9jb252ZXJ0LXNwcmlua2xyLWFwcC12aXRlL3Nwci1tZXNzZW5nZXItY2xpZW50LXZpdGUvcGFja2FnZXMvd2ViL2ludGVybmFscy9idWlsZC93aWRnZXQvIiwic291cmNlcyI6WyJjb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmNvbnN0IENXRCA9IHByb2Nlc3MuY3dkKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgQlVJTERfRElSOiBwYXRoLnJlc29sdmUoQ1dELCAnYnVpbGQnKSxcbiAgTU9ERVJOX0JVSUxEX0RJUjogcGF0aC5yZXNvbHZlKENXRCwgJ21vZGVybi1idWlsZCcpLFxuICBXSURHRVRfRElSOiBwYXRoLnJlc29sdmUoQ1dELCAnc3JjL2NoYXQtYXBwL2J1aWxkL3dpZGdldCcpLFxuICBCQVNFX1VSTDogYGh0dHA6Ly8ke3Byb2Nlc3MuZW52LkhPU1RfTkFNRX0tcmVzdHJpY3RlZC5zcHJpbmtsci5jb20vcmVzdHJpY3RlZC92MWAsXG4gIGdldCBCVUlMRF9TVEFUSUNfRElSKCkge1xuICAgIHJldHVybiBwYXRoLnJlc29sdmUodGhpcy5CVUlMRF9ESVIsICdzdGF0aWMnKTtcbiAgfSxcbiAgZ2V0IE1PREVSTl9CVUlMRF9KU19CVU5ETEVfRElSKCkge1xuICAgIHJldHVybiBwYXRoLnJlc29sdmUodGhpcy5NT0RFUk5fQlVJTERfRElSLCAnc3RhdGljL2pzJyk7XG4gIH0sXG4gIGdldCBDT01QUkVTU0VEX0JVSUxEX0RJUigpIHtcbiAgICByZXR1cm4gIHBhdGgucmVzb2x2ZSh0aGlzLkJVSUxEX0RJUiwgJ2NvbXByZXNzZWQnKTtcbiAgfSxcbiAgZ2V0IEJVSUxEX1ZFUlNJT05fRElSKCkge1xuICAgIHJldHVybiBwYXRoLnJlc29sdmUodGhpcy5CVUlMRF9ESVIsIGAke3Byb2Nlc3MuZW52LlZJVEVfVkVSU0lPTn0vc3RhdGljYClcbiAgfSxcbiAgZ2V0IEpTX0JVSUxEX0RJUigpIHtcbiAgICByZXR1cm4gcGF0aC5yZXNvbHZlKHRoaXMuQlVJTERfRElSLCBgJHtwcm9jZXNzLmVudi5WSVRFX1ZFUlNJT059L3N0YXRpYy9qc2ApXG4gIH0sXG4gIEJVSUxEX0lORk86IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnYnVpbGRJbmZvLnR4dCcpLFxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBd0IsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFeEIsTUFBTUcsR0FBRyxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVYO0VBQ2JDLFNBQVMsRUFBRUMsYUFBSSxDQUFDQyxPQUFPLENBQUNOLEdBQUcsRUFBRSxPQUFPLENBQUM7RUFDckNPLGdCQUFnQixFQUFFRixhQUFJLENBQUNDLE9BQU8sQ0FBQ04sR0FBRyxFQUFFLGNBQWMsQ0FBQztFQUNuRFEsVUFBVSxFQUFFSCxhQUFJLENBQUNDLE9BQU8sQ0FBQ04sR0FBRyxFQUFFLDJCQUEyQixDQUFDO0VBQzFEUyxRQUFRLEVBQUcsVUFBU1IsT0FBTyxDQUFDUyxHQUFHLENBQUNDLFNBQVUsd0NBQXVDO0VBQ2pGLElBQUlDLGdCQUFnQkEsQ0FBQSxFQUFHO0lBQ3JCLE9BQU9QLGFBQUksQ0FBQ0MsT0FBTyxDQUFDLElBQUksQ0FBQ0YsU0FBUyxFQUFFLFFBQVEsQ0FBQztFQUMvQyxDQUFDO0VBQ0QsSUFBSVMsMEJBQTBCQSxDQUFBLEVBQUc7SUFDL0IsT0FBT1IsYUFBSSxDQUFDQyxPQUFPLENBQUMsSUFBSSxDQUFDQyxnQkFBZ0IsRUFBRSxXQUFXLENBQUM7RUFDekQsQ0FBQztFQUNELElBQUlPLG9CQUFvQkEsQ0FBQSxFQUFHO0lBQ3pCLE9BQVFULGFBQUksQ0FBQ0MsT0FBTyxDQUFDLElBQUksQ0FBQ0YsU0FBUyxFQUFFLFlBQVksQ0FBQztFQUNwRCxDQUFDO0VBQ0QsSUFBSVcsaUJBQWlCQSxDQUFBLEVBQUc7SUFDdEIsT0FBT1YsYUFBSSxDQUFDQyxPQUFPLENBQUMsSUFBSSxDQUFDRixTQUFTLEVBQUcsR0FBRUgsT0FBTyxDQUFDUyxHQUFHLENBQUNNLFlBQWEsU0FBUSxDQUFDO0VBQzNFLENBQUM7RUFDRCxJQUFJQyxZQUFZQSxDQUFBLEVBQUc7SUFDakIsT0FBT1osYUFBSSxDQUFDQyxPQUFPLENBQUMsSUFBSSxDQUFDRixTQUFTLEVBQUcsR0FBRUgsT0FBTyxDQUFDUyxHQUFHLENBQUNNLFlBQWEsWUFBVyxDQUFDO0VBQzlFLENBQUM7RUFDREUsVUFBVSxFQUFFYixhQUFJLENBQUNjLElBQUksQ0FBQ2xCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQUMsRUFBRSxlQUFlO0FBQ3RELENBQUM7QUFBQWtCLE9BQUEsQ0FBQXJCLE9BQUEsR0FBQUksUUFBQSJ9","map":{"version":3,"names":["_path","_interopRequireDefault","require","obj","__esModule","default","CWD","process","cwd","_default","BUILD_DIR","path","resolve","MODERN_BUILD_DIR","WIDGET_DIR","BASE_URL","env","HOST_NAME","BUILD_STATIC_DIR","MODERN_BUILD_JS_BUNDLE_DIR","COMPRESSED_BUILD_DIR","BUILD_VERSION_DIR","VITE_VERSION","JS_BUILD_DIR","BUILD_INFO","join","exports"],"sourceRoot":"/Users/harsh.goyal/Desktop/convert-sprinklr-app-vite/spr-messenger-client-vite/packages/web/internals/build/widget/","sources":["config.js"],"sourcesContent":["import path from 'path';\n\nconst CWD = process.cwd();\n\nexport default {\n  BUILD_DIR: path.resolve(CWD, 'build'),\n  MODERN_BUILD_DIR: path.resolve(CWD, 'modern-build'),\n  WIDGET_DIR: path.resolve(CWD, 'src/chat-app/build/widget'),\n  BASE_URL: `http://${process.env.HOST_NAME}-restricted.sprinklr.com/restricted/v1`,\n  get BUILD_STATIC_DIR() {\n    return path.resolve(this.BUILD_DIR, 'static');\n  },\n  get MODERN_BUILD_JS_BUNDLE_DIR() {\n    return path.resolve(this.MODERN_BUILD_DIR, 'static/js');\n  },\n  get COMPRESSED_BUILD_DIR() {\n    return  path.resolve(this.BUILD_DIR, 'compressed');\n  },\n  get BUILD_VERSION_DIR() {\n    return path.resolve(this.BUILD_DIR, `${process.env.VITE_VERSION}/static`)\n  },\n  get JS_BUILD_DIR() {\n    return path.resolve(this.BUILD_DIR, `${process.env.VITE_VERSION}/static/js`)\n  },\n  BUILD_INFO: path.join(process.cwd(), 'buildInfo.txt'),\n}\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAwB,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExB,MAAMG,GAAG,GAAGC,OAAO,CAACC,GAAG,CAAC,CAAC;AAAC,IAAAC,QAAA,GAEX;EACbC,SAAS,EAAEC,aAAI,CAACC,OAAO,CAACN,GAAG,EAAE,OAAO,CAAC;EACrCO,gBAAgB,EAAEF,aAAI,CAACC,OAAO,CAACN,GAAG,EAAE,cAAc,CAAC;EACnDQ,UAAU,EAAEH,aAAI,CAACC,OAAO,CAACN,GAAG,EAAE,2BAA2B,CAAC;EAC1DS,QAAQ,EAAG,UAASR,OAAO,CAACS,GAAG,CAACC,SAAU,wCAAuC;EACjF,IAAIC,gBAAgBA,CAAA,EAAG;IACrB,OAAOP,aAAI,CAACC,OAAO,CAAC,IAAI,CAACF,SAAS,EAAE,QAAQ,CAAC;EAC/C,CAAC;EACD,IAAIS,0BAA0BA,CAAA,EAAG;IAC/B,OAAOR,aAAI,CAACC,OAAO,CAAC,IAAI,CAACC,gBAAgB,EAAE,WAAW,CAAC;EACzD,CAAC;EACD,IAAIO,oBAAoBA,CAAA,EAAG;IACzB,OAAQT,aAAI,CAACC,OAAO,CAAC,IAAI,CAACF,SAAS,EAAE,YAAY,CAAC;EACpD,CAAC;EACD,IAAIW,iBAAiBA,CAAA,EAAG;IACtB,OAAOV,aAAI,CAACC,OAAO,CAAC,IAAI,CAACF,SAAS,EAAG,GAAEH,OAAO,CAACS,GAAG,CAACM,YAAa,SAAQ,CAAC;EAC3E,CAAC;EACD,IAAIC,YAAYA,CAAA,EAAG;IACjB,OAAOZ,aAAI,CAACC,OAAO,CAAC,IAAI,CAACF,SAAS,EAAG,GAAEH,OAAO,CAACS,GAAG,CAACM,YAAa,YAAW,CAAC;EAC9E,CAAC;EACDE,UAAU,EAAEb,aAAI,CAACc,IAAI,CAAClB,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,eAAe;AACtD,CAAC;AAAAkB,OAAA,CAAArB,OAAA,GAAAI,QAAA"}},"mtime":1688971182382}}